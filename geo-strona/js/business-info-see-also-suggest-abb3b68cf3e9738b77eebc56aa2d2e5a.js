!function(){var e=(t.prototype.addEventsToElements=function(){var t=this,s=this.debounce(this.elementInputKeyupCallback,200);this.elementButton.addEventListener("click",function(){return t.elementButtonClickCallback()}),document.addEventListener("mouseup",function(e){return t.elementDropdownMouseUpCallback(e)}),this.elementInput.addEventListener("keyup",function(e){return s(e)})},t.prototype.cleanListAndInsertChildren=function(e){for(var t=this;this.elementList.firstChild;)this.elementList.removeChild(this.elementList.firstChild);e.forEach(function(e){t.elementList.appendChild(e)})},t.prototype.createElement=function(e,t,s){void 0===e&&(e="div"),void 0===t&&(t={}),void 0===s&&(s=[]);var n=document.createElement(e);return!0===Array.isArray(s)?s.forEach(function(e){!1!==e&&n.appendChild(e)}):n.innerText=s,Object.entries(t).forEach(function(e){var t=e[0],s=e[1];/^on[A-Z]/.test(t)?n.addEventListener(t.toLocaleLowerCase().substring(2),s):n.setAttribute(t,s)}),n},t.prototype.createRequestURL=function(e,t){return"/suggest3/business?name="+encodeURI(e)},t.prototype.debounce=function(s,n){void 0===n&&(n=100);var i,o=this;return function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];clearTimeout(i),i=setTimeout(function(){s.apply(o,e)},n)}},t.prototype.elementButtonClickCallback=function(){this.elementDropdown.classList.add("business-suggest-module--active"),this.elementDropdown.setAttribute("aria-hidden",!1),this.elementInput.focus()},t.prototype.elementDropdownMouseUpCallback=function(e){e.target!==this.elementDropdown&&!1===this.elementDropdown.contains(e.target)&&(this.elementDropdown.classList.remove("business-suggest-module--active"),this.elementDropdown.setAttribute("aria-hidden",!0))},t.prototype.elementInputKeyupCallback=function(e){var s=this;if(""!==e.target.value){var t=this.createRequestURL(e.target.value,this.suggestQuoteType);this.getJSONFromURL(t).then(function(e){if(!0===Array.isArray(e)&&0<e.length){var t=e.map(function(e){return s.getItemHTML(e.id,e.nameShort,e.nameShortOld)});s.cleanListAndInsertChildren(t)}else s.cleanListAndInsertChildren([s.getMessageHTML("no-data")])}).catch(function(e){console.error("Business Info See Also Suggest :: "+e),s.cleanListAndInsertChildren([s.getMessageHTML("error")])})}else this.cleanListAndInsertChildren([this.getMessageHTML("empty-input")])},t.prototype.gatherHTMLElement=function(e){if(this.elementButton=e.querySelector('[data-suggest-module-button="see-also-suggest"]'),this.elementDropdown=e.querySelector('[data-suggest-module-dropdown="see-also-suggest"]'),this.elementInput=e.querySelector('[data-suggest-module-input="see-also-suggest"]'),this.elementList=e.querySelector('[data-suggest-module-list="see-also-suggest"]'),null===(this.elementButton&&this.elementDropdown&&this.elementInput&&this.elementList))throw console.error("Business Info See Also Suggest :: Brak elementów HTML do obsługi mechanizmu!"),new Error("INFO_SEE_ALSO_SUGGEST_NO_HTML_ELEMENTS")},t.prototype.gatherSuggestQuoteTypeFromElementInput=function(){this.suggestQuoteType=this.elementInput.getAttribute("data-suggest-module-input-config")||"null"},t.prototype.getItemHTML=function(e,t,s){return this.createElement("li",{class:"business-suggest-module-list-item"},[this.createElement("a",{class:"business-suggest-module-list-link",href:"/gieldy/zobacz-rowniez/profil-przekierowanie,wId,"+e},[this.createElement("strong",{class:"business-suggest-module-abbr"},t||s),null!==t&&null!==s&&this.createElement("span",{class:"business-suggest-module-name"},s)])])},t.prototype.getJSONFromURL=function(n){return new Promise(function(e,t){try{var s=new XMLHttpRequest;s.onload=function(){return 200===s.status?e(JSON.parse(s.responseText||"[]")):t(s.responseText||"Network request failed")},s.onerror=function(e){return t(e||"Network request failed")},s.open("get",n),s.send()}catch(e){t(e||"Network request failed")}})},t.prototype.getMessageHTML=function(e){switch(e){case"empty-input":return this.createElement("li",{class:"business-suggest-module-list-item business-suggest-module-list-item--info"},"Aby wyszukać rozpocznij wpisywanie nazwy waloru");case"no-data":return this.createElement("li",{class:"business-suggest-module-list-item business-suggest-module-list-item--info"},"Brak wyników dla podanej frazy");case"error":return this.createElement("li",{class:"business-suggest-module-list-item business-suggest-module-list-item--error"},[this.createElement("span",{},"Oj, coś poszło nie tak :("),this.createElement("span",{},"Spróbuj ponownie za chwilę!")]);default:return this.createElement("li",{class:"business-suggest-module-list-item business-suggest-module-list-item--error"},[this.createElement("span",{},"Błąd ogólny x.x"),this.createElement("span",{},"Spróbuj ponownie za chwilę!")])}},t);function t(e){this.elementButton=null,this.elementDropdown=null,this.elementInput=null,this.elementList=null,this.suggestQuoteType=null,this.gatherHTMLElement(e),this.gatherSuggestQuoteTypeFromElementInput(),this.addEventsToElements()}window.Inpl=window.Inpl||{},window.Inpl.Business=window.Inpl.Business||{},window.Inpl.Business.SeeAlsoSuggest=window.Inpl.Business.SeeAlsoSuggest||e}(),document.querySelectorAll('[data-suggest-module="see-also-suggest"]').forEach(function(e){new window.Inpl.Business.SeeAlsoSuggest(e)});