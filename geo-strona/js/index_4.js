(function(a){if(typeof define==="function"&&define.amd&&define.amd.jQuery){define(["jquery"],a)}else{a(jQuery)}}(function(f){var y="1.6.9",p="left",o="right",e="up",x="down",c="in",A="out",m="none",s="auto",l="swipe",t="pinch",B="tap",j="doubletap",b="longtap",z="hold",E="horizontal",u="vertical",i="all",r=10,g="start",k="move",h="end",q="cancel",a="ontouchstart" in window,v=window.navigator.msPointerEnabled&&!window.navigator.pointerEnabled,d=window.navigator.pointerEnabled||window.navigator.msPointerEnabled,C="TouchSwipe";var n={fingers:1,threshold:75,cancelThreshold:null,pinchThreshold:20,maxTimeThreshold:null,fingerReleaseThreshold:250,longTapThreshold:500,doubleTapThreshold:200,swipe:null,swipeLeft:null,swipeRight:null,swipeUp:null,swipeDown:null,swipeStatus:null,pinchIn:null,pinchOut:null,pinchStatus:null,click:null,tap:null,doubleTap:null,longTap:null,hold:null,triggerOnTouchEnd:true,triggerOnTouchLeave:false,allowPageScroll:"auto",fallbackToMouseEvents:true,excludedElements:"label, button, input, select, textarea, a, .noSwipe",preventDefaultEvents:true};f.fn.swipe=function(H){var G=f(this),F=G.data(C);if(F&&typeof H==="string"){if(F[H]){return F[H].apply(this,Array.prototype.slice.call(arguments,1))}else{f.error("Method "+H+" does not exist on jQuery.swipe")}}else{if(!F&&(typeof H==="object"||!H)){return w.apply(this,arguments)}}return G};f.fn.swipe.version=y;f.fn.swipe.defaults=n;f.fn.swipe.phases={PHASE_START:g,PHASE_MOVE:k,PHASE_END:h,PHASE_CANCEL:q};f.fn.swipe.directions={LEFT:p,RIGHT:o,UP:e,DOWN:x,IN:c,OUT:A};f.fn.swipe.pageScroll={NONE:m,HORIZONTAL:E,VERTICAL:u,AUTO:s};f.fn.swipe.fingers={ONE:1,TWO:2,THREE:3,ALL:i};function w(F){if(F&&(F.allowPageScroll===undefined&&(F.swipe!==undefined||F.swipeStatus!==undefined))){F.allowPageScroll=m}if(F.click!==undefined&&F.tap===undefined){F.tap=F.click}if(!F){F={}}F=f.extend({},f.fn.swipe.defaults,F);return this.each(function(){var H=f(this);var G=H.data(C);if(!G){G=new D(this,F);H.data(C,G)}})}function D(a5,aw){var aA=(a||d||!aw.fallbackToMouseEvents),K=aA?(d?(v?"MSPointerDown":"pointerdown"):"touchstart"):"mousedown",az=aA?(d?(v?"MSPointerMove":"pointermove"):"touchmove"):"mousemove",V=aA?(d?(v?"MSPointerUp":"pointerup"):"touchend"):"mouseup",T=aA?null:"mouseleave",aE=(d?(v?"MSPointerCancel":"pointercancel"):"touchcancel");var ah=0,aQ=null,ac=0,a2=0,a0=0,H=1,ar=0,aK=0,N=null;var aS=f(a5);var aa="start";var X=0;var aR=null;var U=0,a3=0,a6=0,ae=0,O=0;var aX=null,ag=null;try{aS.bind(K,aO);aS.bind(aE,ba)}catch(al){f.error("events not supported "+K+","+aE+" on jQuery.swipe")}this.enable=function(){aS.bind(K,aO);aS.bind(aE,ba);return aS};this.disable=function(){aL();return aS};this.destroy=function(){aL();aS.data(C,null);aS=null};this.option=function(bd,bc){if(aw[bd]!==undefined){if(bc===undefined){return aw[bd]}else{aw[bd]=bc}}else{f.error("Option "+bd+" does not exist on jQuery.swipe.options")}return null};function aO(be){if(aC()){return}if(f(be.target).closest(aw.excludedElements,aS).length>0){return}var bf=be.originalEvent?be.originalEvent:be;var bd,bg=bf.touches,bc=bg?bg[0]:bf;aa=g;if(bg){X=bg.length}else{be.preventDefault()}ah=0;aQ=null;aK=null;ac=0;a2=0;a0=0;H=1;ar=0;aR=ak();N=ab();S();if(!bg||(X===aw.fingers||aw.fingers===i)||aY()){aj(0,bc);U=au();if(X==2){aj(1,bg[1]);a2=a0=av(aR[0].start,aR[1].start)}if(aw.swipeStatus||aw.pinchStatus){bd=P(bf,aa)}}else{bd=false}if(bd===false){aa=q;P(bf,aa);return bd}else{if(aw.hold){ag=setTimeout(f.proxy(function(){aS.trigger("hold",[bf.target]);if(aw.hold){bd=aw.hold.call(aS,bf,bf.target)}},this),aw.longTapThreshold)}ap(true)}return null}function a4(bf){var bi=bf.originalEvent?bf.originalEvent:bf;if(aa===h||aa===q||an()){return}var be,bj=bi.touches,bd=bj?bj[0]:bi;var bg=aI(bd);a3=au();if(bj){X=bj.length}if(aw.hold){clearTimeout(ag)}aa=k;if(X==2){if(a2==0){aj(1,bj[1]);a2=a0=av(aR[0].start,aR[1].start)}else{aI(bj[1]);a0=av(aR[0].end,aR[1].end);aK=at(aR[0].end,aR[1].end)}H=a8(a2,a0);ar=Math.abs(a2-a0)}if((X===aw.fingers||aw.fingers===i)||!bj||aY()){aQ=aM(bg.start,bg.end);am(bf,aQ);ah=aT(bg.start,bg.end);ac=aN();aJ(aQ,ah);if(aw.swipeStatus||aw.pinchStatus){be=P(bi,aa)}if(!aw.triggerOnTouchEnd||aw.triggerOnTouchLeave){var bc=true;if(aw.triggerOnTouchLeave){var bh=aZ(this);bc=F(bg.end,bh)}if(!aw.triggerOnTouchEnd&&bc){aa=aD(k)}else{if(aw.triggerOnTouchLeave&&!bc){aa=aD(h)}}if(aa==q||aa==h){P(bi,aa)}}}else{aa=q;P(bi,aa)}if(be===false){aa=q;P(bi,aa)}}function M(bc){var bd=bc.originalEvent?bc.originalEvent:bc,be=bd.touches;if(be){if(be.length){G();return true}}if(an()){X=ae}a3=au();ac=aN();if(bb()||!ao()){aa=q;P(bd,aa)}else{if(aw.triggerOnTouchEnd||(aw.triggerOnTouchEnd==false&&aa===k)){bc.preventDefault();aa=h;P(bd,aa)}else{if(!aw.triggerOnTouchEnd&&a7()){aa=h;aG(bd,aa,B)}else{if(aa===k){aa=q;P(bd,aa)}}}}ap(false);return null}function ba(){X=0;a3=0;U=0;a2=0;a0=0;H=1;S();ap(false)}function L(bc){var bd=bc.originalEvent?bc.originalEvent:bc;if(aw.triggerOnTouchLeave){aa=aD(h);P(bd,aa)}}function aL(){aS.unbind(K,aO);aS.unbind(aE,ba);aS.unbind(az,a4);aS.unbind(V,M);if(T){aS.unbind(T,L)}ap(false)}function aD(bg){var bf=bg;var be=aB();var bd=ao();var bc=bb();if(!be||bc){bf=q}else{if(bd&&bg==k&&(!aw.triggerOnTouchEnd||aw.triggerOnTouchLeave)){bf=h}else{if(!bd&&bg==h&&aw.triggerOnTouchLeave){bf=q}}}return bf}function P(be,bc){var bd,bf=be.touches;if((J()||W())||(Q()||aY())){if(J()||W()){bd=aG(be,bc,l)}if((Q()||aY())&&bd!==false){bd=aG(be,bc,t)}}else{if(aH()&&bd!==false){bd=aG(be,bc,j)}else{if(aq()&&bd!==false){bd=aG(be,bc,b)}else{if(ai()&&bd!==false){bd=aG(be,bc,B)}}}}if(bc===q){ba(be)}if(bc===h){if(bf){if(!bf.length){ba(be)}}else{ba(be)}}return bd}function aG(bf,bc,be){var bd;if(be==l){aS.trigger("swipeStatus",[bc,aQ||null,ah||0,ac||0,X,aR]);if(aw.swipeStatus){bd=aw.swipeStatus.call(aS,bf,bc,aQ||null,ah||0,ac||0,X,aR);if(bd===false){return false}}if(bc==h&&aW()){aS.trigger("swipe",[aQ,ah,ac,X,aR]);if(aw.swipe){bd=aw.swipe.call(aS,bf,aQ,ah,ac,X,aR);if(bd===false){return false}}switch(aQ){case p:aS.trigger("swipeLeft",[aQ,ah,ac,X,aR]);if(aw.swipeLeft){bd=aw.swipeLeft.call(aS,bf,aQ,ah,ac,X,aR)}break;case o:aS.trigger("swipeRight",[aQ,ah,ac,X,aR]);if(aw.swipeRight){bd=aw.swipeRight.call(aS,bf,aQ,ah,ac,X,aR)}break;case e:aS.trigger("swipeUp",[aQ,ah,ac,X,aR]);if(aw.swipeUp){bd=aw.swipeUp.call(aS,bf,aQ,ah,ac,X,aR)}break;case x:aS.trigger("swipeDown",[aQ,ah,ac,X,aR]);if(aw.swipeDown){bd=aw.swipeDown.call(aS,bf,aQ,ah,ac,X,aR)}break}}}if(be==t){aS.trigger("pinchStatus",[bc,aK||null,ar||0,ac||0,X,H,aR]);if(aw.pinchStatus){bd=aw.pinchStatus.call(aS,bf,bc,aK||null,ar||0,ac||0,X,H,aR);if(bd===false){return false}}if(bc==h&&a9()){switch(aK){case c:aS.trigger("pinchIn",[aK||null,ar||0,ac||0,X,H,aR]);if(aw.pinchIn){bd=aw.pinchIn.call(aS,bf,aK||null,ar||0,ac||0,X,H,aR)}break;case A:aS.trigger("pinchOut",[aK||null,ar||0,ac||0,X,H,aR]);if(aw.pinchOut){bd=aw.pinchOut.call(aS,bf,aK||null,ar||0,ac||0,X,H,aR)}break}}}if(be==B){if(bc===q||bc===h){clearTimeout(aX);clearTimeout(ag);if(Z()&&!I()){O=au();aX=setTimeout(f.proxy(function(){O=null;aS.trigger("tap",[bf.target]);if(aw.tap){bd=aw.tap.call(aS,bf,bf.target)}},this),aw.doubleTapThreshold)}else{O=null;aS.trigger("tap",[bf.target]);if(aw.tap){bd=aw.tap.call(aS,bf,bf.target)}}}}else{if(be==j){if(bc===q||bc===h){clearTimeout(aX);O=null;aS.trigger("doubletap",[bf.target]);if(aw.doubleTap){bd=aw.doubleTap.call(aS,bf,bf.target)}}}else{if(be==b){if(bc===q||bc===h){clearTimeout(aX);O=null;aS.trigger("longtap",[bf.target]);if(aw.longTap){bd=aw.longTap.call(aS,bf,bf.target)}}}}}return bd}function ao(){var bc=true;if(aw.threshold!==null){bc=ah>=aw.threshold}return bc}function bb(){var bc=false;if(aw.cancelThreshold!==null&&aQ!==null){bc=(aU(aQ)-ah)>=aw.cancelThreshold}return bc}function af(){if(aw.pinchThreshold!==null){return ar>=aw.pinchThreshold}return true}function aB(){var bc;if(aw.maxTimeThreshold){if(ac>=aw.maxTimeThreshold){bc=false}else{bc=true}}else{bc=true}return bc}function am(bc,bd){if(aw.preventDefaultEvents===false){return}if(aw.allowPageScroll===m){bc.preventDefault()}else{var be=aw.allowPageScroll===s;switch(bd){case p:if((aw.swipeLeft&&be)||(!be&&aw.allowPageScroll!=E)){bc.preventDefault()}break;case o:if((aw.swipeRight&&be)||(!be&&aw.allowPageScroll!=E)){bc.preventDefault()}break;case e:if((aw.swipeUp&&be)||(!be&&aw.allowPageScroll!=u)){bc.preventDefault()}break;case x:if((aw.swipeDown&&be)||(!be&&aw.allowPageScroll!=u)){bc.preventDefault()}break}}}function a9(){var bd=aP();var bc=Y();var be=af();return bd&&bc&&be}function aY(){return !!(aw.pinchStatus||aw.pinchIn||aw.pinchOut)}function Q(){return !!(a9()&&aY())}function aW(){var bf=aB();var bh=ao();var be=aP();var bc=Y();var bd=bb();var bg=!bd&&bc&&be&&bh&&bf;return bg}function W(){return !!(aw.swipe||aw.swipeStatus||aw.swipeLeft||aw.swipeRight||aw.swipeUp||aw.swipeDown)}function J(){return !!(aW()&&W())}function aP(){return((X===aw.fingers||aw.fingers===i)||!a)}function Y(){return aR[0].end.x!==0}function a7(){return !!(aw.tap)}function Z(){return !!(aw.doubleTap)}function aV(){return !!(aw.longTap)}function R(){if(O==null){return false}var bc=au();return(Z()&&((bc-O)<=aw.doubleTapThreshold))}function I(){return R()}function ay(){return((X===1||!a)&&(isNaN(ah)||ah<aw.threshold))}function a1(){return((ac>aw.longTapThreshold)&&(ah<r))}function ai(){return !!(ay()&&a7())}function aH(){return !!(R()&&Z())}function aq(){return !!(a1()&&aV())}function G(){a6=au();ae=event.touches.length+1}function S(){a6=0;ae=0}function an(){var bc=false;if(a6){var bd=au()-a6;if(bd<=aw.fingerReleaseThreshold){bc=true}}return bc}function aC(){return !!(aS.data(C+"_intouch")===true)}function ap(bc){if(bc===true){aS.bind(az,a4);aS.bind(V,M);if(T){aS.bind(T,L)}}else{aS.unbind(az,a4,false);aS.unbind(V,M,false);if(T){aS.unbind(T,L,false)}}aS.data(C+"_intouch",bc===true)}function aj(bd,bc){var be=bc.identifier!==undefined?bc.identifier:0;aR[bd].identifier=be;aR[bd].start.x=aR[bd].end.x=bc.pageX||bc.clientX;aR[bd].start.y=aR[bd].end.y=bc.pageY||bc.clientY;return aR[bd]}function aI(bc){var be=bc.identifier!==undefined?bc.identifier:0;var bd=ad(be);bd.end.x=bc.pageX||bc.clientX;bd.end.y=bc.pageY||bc.clientY;return bd}function ad(bd){for(var bc=0;bc<aR.length;bc++){if(aR[bc].identifier==bd){return aR[bc]}}}function ak(){var bc=[];for(var bd=0;bd<=5;bd++){bc.push({start:{x:0,y:0},end:{x:0,y:0},identifier:0})}return bc}function aJ(bc,bd){bd=Math.max(bd,aU(bc));N[bc].distance=bd}function aU(bc){if(N[bc]){return N[bc].distance}return undefined}function ab(){var bc={};bc[p]=ax(p);bc[o]=ax(o);bc[e]=ax(e);bc[x]=ax(x);return bc}function ax(bc){return{direction:bc,distance:0}}function aN(){return a3-U}function av(bf,be){var bd=Math.abs(bf.x-be.x);var bc=Math.abs(bf.y-be.y);return Math.round(Math.sqrt(bd*bd+bc*bc))}function a8(bc,bd){var be=(bd/bc)*1;return be.toFixed(2)}function at(){if(H<1){return A}else{return c}}function aT(bd,bc){return Math.round(Math.sqrt(Math.pow(bc.x-bd.x,2)+Math.pow(bc.y-bd.y,2)))}function aF(bf,bd){var bc=bf.x-bd.x;var bh=bd.y-bf.y;var be=Math.atan2(bh,bc);var bg=Math.round(be*180/Math.PI);if(bg<0){bg=360-Math.abs(bg)}return bg}function aM(bd,bc){var be=aF(bd,bc);if((be<=45)&&(be>=0)){return p}else{if((be<=360)&&(be>=315)){return p}else{if((be>=135)&&(be<=225)){return o}else{if((be>45)&&(be<135)){return x}else{return e}}}}}function au(){var bc=new Date();return bc.getTime()}function aZ(bc){bc=f(bc);var be=bc.offset();var bd={left:be.left,right:be.left+bc.outerWidth(),top:be.top,bottom:be.top+bc.outerHeight()};return bd}function F(bc,bd){return(bc.x>bd.left&&bc.x<bd.right&&bc.y>bd.top&&bc.y<bd.bottom)}}}));
/*
 *	jQuery carouFredSel 6.2.1
 *	Demo's and documentation:
 *	caroufredsel.dev7studios.com
 *
 *	Copyright (c) 2013 Fred Heusschen
 *	www.frebsite.nl
 *
 *	Dual licensed under the MIT and GPL licenses.
 *	http://en.wikipedia.org/wiki/MIT_License
 *	http://en.wikipedia.org/wiki/GNU_General_Public_License
 */


(function($){function sc_setScroll(a,b,c){return"transition"==c.transition&&"swing"==b&&(b="ease"),{anims:[],duration:a,orgDuration:a,easing:b,startTime:getTime()}}function sc_startScroll(a,b){for(var c=0,d=a.anims.length;d>c;c++){var e=a.anims[c];e&&e[0][b.transition](e[1],a.duration,a.easing,e[2])}}function sc_stopScroll(a,b){is_boolean(b)||(b=!0),is_object(a.pre)&&sc_stopScroll(a.pre,b);for(var c=0,d=a.anims.length;d>c;c++){var e=a.anims[c];e[0].stop(!0),b&&(e[0].css(e[1]),is_function(e[2])&&e[2]())}is_object(a.post)&&sc_stopScroll(a.post,b)}function sc_afterScroll(a,b,c){switch(b&&b.remove(),c.fx){case"fade":case"crossfade":case"cover-fade":case"uncover-fade":a.css("opacity",1),a.css("filter","")}}function sc_fireCallbacks(a,b,c,d,e){if(b[c]&&b[c].call(a,d),e[c].length)for(var f=0,g=e[c].length;g>f;f++)e[c][f].call(a,d);return[]}function sc_fireQueue(a,b,c){return b.length&&(a.trigger(cf_e(b[0][0],c),b[0][1]),b.shift()),b}function sc_hideHiddenItems(a){a.each(function(){var a=$(this);a.data("_cfs_isHidden",a.is(":hidden")).hide()})}function sc_showHiddenItems(a){a&&a.each(function(){var a=$(this);a.data("_cfs_isHidden")||a.show()})}function sc_clearTimers(a){return a.auto&&clearTimeout(a.auto),a.progress&&clearInterval(a.progress),a}function sc_mapCallbackArguments(a,b,c,d,e,f,g){return{width:g.width,height:g.height,items:{old:a,skipped:b,visible:c},scroll:{items:d,direction:e,duration:f}}}function sc_getDuration(a,b,c,d){var e=a.duration;return"none"==a.fx?0:("auto"==e?e=b.scroll.duration/b.scroll.items*c:10>e&&(e=d/e),1>e?0:("fade"==a.fx&&(e/=2),Math.round(e)))}function nv_showNavi(a,b,c){var d=is_number(a.items.minimum)?a.items.minimum:a.items.visible+1;if("show"==b||"hide"==b)var e=b;else if(d>b){debug(c,"Not enough items ("+b+" total, "+d+" needed): Hiding navigation.");var e="hide"}else var e="show";var f="show"==e?"removeClass":"addClass",g=cf_c("hidden",c);a.auto.button&&a.auto.button[e]()[f](g),a.prev.button&&a.prev.button[e]()[f](g),a.next.button&&a.next.button[e]()[f](g),a.pagination.container&&a.pagination.container[e]()[f](g)}function nv_enableNavi(a,b,c){if(!a.circular&&!a.infinite){var d="removeClass"==b||"addClass"==b?b:!1,e=cf_c("disabled",c);if(a.auto.button&&d&&a.auto.button[d](e),a.prev.button){var f=d||0==b?"addClass":"removeClass";a.prev.button[f](e)}if(a.next.button){var f=d||b==a.items.visible?"addClass":"removeClass";a.next.button[f](e)}}}function go_getObject(a,b){return is_function(b)?b=b.call(a):is_undefined(b)&&(b={}),b}function go_getItemsObject(a,b){return b=go_getObject(a,b),is_number(b)?b={visible:b}:"variable"==b?b={visible:b,width:b,height:b}:is_object(b)||(b={}),b}function go_getScrollObject(a,b){return b=go_getObject(a,b),is_number(b)?b=50>=b?{items:b}:{duration:b}:is_string(b)?b={easing:b}:is_object(b)||(b={}),b}function go_getNaviObject(a,b){if(b=go_getObject(a,b),is_string(b)){var c=cf_getKeyCode(b);b=-1==c?$(b):c}return b}function go_getAutoObject(a,b){return b=go_getNaviObject(a,b),is_jquery(b)?b={button:b}:is_boolean(b)?b={play:b}:is_number(b)&&(b={timeoutDuration:b}),b.progress&&(is_string(b.progress)||is_jquery(b.progress))&&(b.progress={bar:b.progress}),b}function go_complementAutoObject(a,b){return is_function(b.button)&&(b.button=b.button.call(a)),is_string(b.button)&&(b.button=$(b.button)),is_boolean(b.play)||(b.play=!0),is_number(b.delay)||(b.delay=0),is_undefined(b.pauseOnEvent)&&(b.pauseOnEvent=!0),is_boolean(b.pauseOnResize)||(b.pauseOnResize=!0),is_number(b.timeoutDuration)||(b.timeoutDuration=10>b.duration?2500:5*b.duration),b.progress&&(is_function(b.progress.bar)&&(b.progress.bar=b.progress.bar.call(a)),is_string(b.progress.bar)&&(b.progress.bar=$(b.progress.bar)),b.progress.bar?(is_function(b.progress.updater)||(b.progress.updater=$.fn.carouFredSel.progressbarUpdater),is_number(b.progress.interval)||(b.progress.interval=50)):b.progress=!1),b}function go_getPrevNextObject(a,b){return b=go_getNaviObject(a,b),is_jquery(b)?b={button:b}:is_number(b)&&(b={key:b}),b}function go_complementPrevNextObject(a,b){return is_function(b.button)&&(b.button=b.button.call(a)),is_string(b.button)&&(b.button=$(b.button)),is_string(b.key)&&(b.key=cf_getKeyCode(b.key)),b}function go_getPaginationObject(a,b){return b=go_getNaviObject(a,b),is_jquery(b)?b={container:b}:is_boolean(b)&&(b={keys:b}),b}function go_complementPaginationObject(a,b){return is_function(b.container)&&(b.container=b.container.call(a)),is_string(b.container)&&(b.container=$(b.container)),is_number(b.items)||(b.items=!1),is_boolean(b.keys)||(b.keys=!1),is_function(b.anchorBuilder)||is_false(b.anchorBuilder)||(b.anchorBuilder=$.fn.carouFredSel.pageAnchorBuilder),is_number(b.deviation)||(b.deviation=0),b}function go_getSwipeObject(a,b){return is_function(b)&&(b=b.call(a)),is_undefined(b)&&(b={onTouch:!1}),is_true(b)?b={onTouch:b}:is_number(b)&&(b={items:b}),b}function go_complementSwipeObject(a,b){return is_boolean(b.onTouch)||(b.onTouch=!0),is_boolean(b.onMouse)||(b.onMouse=!1),is_object(b.options)||(b.options={}),is_boolean(b.options.triggerOnTouchEnd)||(b.options.triggerOnTouchEnd=!1),b}function go_getMousewheelObject(a,b){return is_function(b)&&(b=b.call(a)),is_true(b)?b={}:is_number(b)?b={items:b}:is_undefined(b)&&(b=!1),b}function go_complementMousewheelObject(a,b){return b}function gn_getItemIndex(a,b,c,d,e){if(is_string(a)&&(a=$(a,e)),is_object(a)&&(a=$(a,e)),is_jquery(a)?(a=e.children().index(a),is_boolean(c)||(c=!1)):is_boolean(c)||(c=!0),is_number(a)||(a=0),is_number(b)||(b=0),c&&(a+=d.first),a+=b,d.total>0){for(;a>=d.total;)a-=d.total;for(;0>a;)a+=d.total}return a}function gn_getVisibleItemsPrev(a,b,c){for(var d=0,e=0,f=c;f>=0;f--){var g=a.eq(f);if(d+=g.is(":visible")?g[b.d.outerWidth](!0):0,d>b.maxDimension)return e;0==f&&(f=a.length),e++}}function gn_getVisibleItemsPrevFilter(a,b,c){return gn_getItemsPrevFilter(a,b.items.filter,b.items.visibleConf.org,c)}function gn_getScrollItemsPrevFilter(a,b,c,d){return gn_getItemsPrevFilter(a,b.items.filter,d,c)}function gn_getItemsPrevFilter(a,b,c,d){for(var e=0,f=0,g=d,h=a.length;g>=0;g--){if(f++,f==h)return f;var i=a.eq(g);if(i.is(b)&&(e++,e==c))return f;0==g&&(g=h)}}function gn_getVisibleOrg(a,b){return b.items.visibleConf.org||a.children().slice(0,b.items.visible).filter(b.items.filter).length}function gn_getVisibleItemsNext(a,b,c){for(var d=0,e=0,f=c,g=a.length-1;g>=f;f++){var h=a.eq(f);if(d+=h.is(":visible")?h[b.d.outerWidth](!0):0,d>b.maxDimension)return e;if(e++,e==g+1)return e;f==g&&(f=-1)}}function gn_getVisibleItemsNextTestCircular(a,b,c,d){var e=gn_getVisibleItemsNext(a,b,c);return b.circular||c+e>d&&(e=d-c),e}function gn_getVisibleItemsNextFilter(a,b,c){return gn_getItemsNextFilter(a,b.items.filter,b.items.visibleConf.org,c,b.circular)}function gn_getScrollItemsNextFilter(a,b,c,d){return gn_getItemsNextFilter(a,b.items.filter,d+1,c,b.circular)-1}function gn_getItemsNextFilter(a,b,c,d){for(var f=0,g=0,h=d,i=a.length-1;i>=h;h++){if(g++,g>=i)return g;var j=a.eq(h);if(j.is(b)&&(f++,f==c))return g;h==i&&(h=-1)}}function gi_getCurrentItems(a,b){return a.slice(0,b.items.visible)}function gi_getOldItemsPrev(a,b,c){return a.slice(c,b.items.visibleConf.old+c)}function gi_getNewItemsPrev(a,b){return a.slice(0,b.items.visible)}function gi_getOldItemsNext(a,b){return a.slice(0,b.items.visibleConf.old)}function gi_getNewItemsNext(a,b,c){return a.slice(c,b.items.visible+c)}function sz_storeMargin(a,b,c){b.usePadding&&(is_string(c)||(c="_cfs_origCssMargin"),a.each(function(){var a=$(this),d=parseInt(a.css(b.d.marginRight),10);is_number(d)||(d=0),a.data(c,d)}))}function sz_resetMargin(a,b,c){if(b.usePadding){var d=is_boolean(c)?c:!1;is_number(c)||(c=0),sz_storeMargin(a,b,"_cfs_tempCssMargin"),a.each(function(){var a=$(this);a.css(b.d.marginRight,d?a.data("_cfs_tempCssMargin"):c+a.data("_cfs_origCssMargin"))})}}function sz_storeOrigCss(a){a.each(function(){var a=$(this);a.data("_cfs_origCss",a.attr("style")||"")})}function sz_restoreOrigCss(a){a.each(function(){var a=$(this);a.attr("style",a.data("_cfs_origCss")||"")})}function sz_setResponsiveSizes(a,b){var d=(a.items.visible,a.items[a.d.width]),e=a[a.d.height],f=is_percentage(e);b.each(function(){var b=$(this),c=d-ms_getPaddingBorderMargin(b,a,"Width");b[a.d.width](c),f&&b[a.d.height](ms_getPercentage(c,e))})}function sz_setSizes(a,b){var c=a.parent(),d=a.children(),e=gi_getCurrentItems(d,b),f=cf_mapWrapperSizes(ms_getSizes(e,b,!0),b,!1);if(c.css(f),b.usePadding){var g=b.padding,h=g[b.d[1]];b.align&&0>h&&(h=0);var i=e.last();i.css(b.d.marginRight,i.data("_cfs_origCssMargin")+h),a.css(b.d.top,g[b.d[0]]),a.css(b.d.left,g[b.d[3]])}return a.css(b.d.width,f[b.d.width]+2*ms_getTotalSize(d,b,"width")),a.css(b.d.height,ms_getLargestSize(d,b,"height")),f}function ms_getSizes(a,b,c){return[ms_getTotalSize(a,b,"width",c),ms_getLargestSize(a,b,"height",c)]}function ms_getLargestSize(a,b,c,d){return is_boolean(d)||(d=!1),is_number(b[b.d[c]])&&d?b[b.d[c]]:is_number(b.items[b.d[c]])?b.items[b.d[c]]:(c=c.toLowerCase().indexOf("width")>-1?"outerWidth":"outerHeight",ms_getTrueLargestSize(a,b,c))}function ms_getTrueLargestSize(a,b,c){for(var d=0,e=0,f=a.length;f>e;e++){var g=a.eq(e),h=g.is(":visible")?g[b.d[c]](!0):0;h>d&&(d=h)}return d}function ms_getTotalSize(a,b,c,d){if(is_boolean(d)||(d=!1),is_number(b[b.d[c]])&&d)return b[b.d[c]];if(is_number(b.items[b.d[c]]))return b.items[b.d[c]]*a.length;for(var e=c.toLowerCase().indexOf("width")>-1?"outerWidth":"outerHeight",f=0,g=0,h=a.length;h>g;g++){var i=a.eq(g);f+=i.is(":visible")?i[b.d[e]](!0):0}return f}function ms_getParentSize(a,b,c){var d=a.is(":visible");d&&a.hide();var e=a.parent()[b.d[c]]();return d&&a.show(),e}function ms_getMaxDimension(a,b){return is_number(a[a.d.width])?a[a.d.width]:b}function ms_hasVariableSizes(a,b,c){for(var d=!1,e=!1,f=0,g=a.length;g>f;f++){var h=a.eq(f),i=h.is(":visible")?h[b.d[c]](!0):0;d===!1?d=i:d!=i&&(e=!0),0==d&&(e=!0)}return e}function ms_getPaddingBorderMargin(a,b,c){return a[b.d["outer"+c]](!0)-a[b.d[c.toLowerCase()]]()}function ms_getPercentage(a,b){if(is_percentage(b)){if(b=parseInt(b.slice(0,-1),10),!is_number(b))return a;a*=b/100}return a}function cf_e(a,b,c,d,e){return is_boolean(c)||(c=!0),is_boolean(d)||(d=!0),is_boolean(e)||(e=!1),c&&(a=b.events.prefix+a),d&&(a=a+"."+b.events.namespace),d&&e&&(a+=b.serialNumber),a}function cf_c(a,b){return is_string(b.classnames[a])?b.classnames[a]:a}function cf_mapWrapperSizes(a,b,c){is_boolean(c)||(c=!0);var d=b.usePadding&&c?b.padding:[0,0,0,0],e={};return e[b.d.width]=a[0]+d[1]+d[3],e[b.d.height]=a[1]+d[0]+d[2],e}function cf_sortParams(a,b){for(var c=[],d=0,e=a.length;e>d;d++)for(var f=0,g=b.length;g>f;f++)if(b[f].indexOf(typeof a[d])>-1&&is_undefined(c[f])){c[f]=a[d];break}return c}function cf_getPadding(a){if(is_undefined(a))return[0,0,0,0];if(is_number(a))return[a,a,a,a];if(is_string(a)&&(a=a.split("px").join("").split("em").join("").split(" ")),!is_array(a))return[0,0,0,0];for(var b=0;4>b;b++)a[b]=parseInt(a[b],10);switch(a.length){case 0:return[0,0,0,0];case 1:return[a[0],a[0],a[0],a[0]];case 2:return[a[0],a[1],a[0],a[1]];case 3:return[a[0],a[1],a[2],a[1]];default:return[a[0],a[1],a[2],a[3]]}}function cf_getAlignPadding(a,b){var c=is_number(b[b.d.width])?Math.ceil(b[b.d.width]-ms_getTotalSize(a,b,"width")):0;switch(b.align){case"left":return[0,c];case"right":return[c,0];case"center":default:return[Math.ceil(c/2),Math.floor(c/2)]}}function cf_getDimensions(a){for(var b=[["width","innerWidth","outerWidth","height","innerHeight","outerHeight","left","top","marginRight",0,1,2,3],["height","innerHeight","outerHeight","width","innerWidth","outerWidth","top","left","marginBottom",3,2,1,0]],c=b[0].length,d="right"==a.direction||"left"==a.direction?0:1,e={},f=0;c>f;f++)e[b[0][f]]=b[d][f];return e}function cf_getAdjust(a,b,c,d){var e=a;if(is_function(c))e=c.call(d,e);else if(is_string(c)){var f=c.split("+"),g=c.split("-");if(g.length>f.length)var h=!0,i=g[0],j=g[1];else var h=!1,i=f[0],j=f[1];switch(i){case"even":e=1==a%2?a-1:a;break;case"odd":e=0==a%2?a-1:a;break;default:e=a}j=parseInt(j,10),is_number(j)&&(h&&(j=-j),e+=j)}return(!is_number(e)||1>e)&&(e=1),e}function cf_getItemsAdjust(a,b,c,d){return cf_getItemAdjustMinMax(cf_getAdjust(a,b,c,d),b.items.visibleConf)}function cf_getItemAdjustMinMax(a,b){return is_number(b.min)&&b.min>a&&(a=b.min),is_number(b.max)&&a>b.max&&(a=b.max),1>a&&(a=1),a}function cf_getSynchArr(a){is_array(a)||(a=[[a]]),is_array(a[0])||(a=[a]);for(var b=0,c=a.length;c>b;b++)is_string(a[b][0])&&(a[b][0]=$(a[b][0])),is_boolean(a[b][1])||(a[b][1]=!0),is_boolean(a[b][2])||(a[b][2]=!0),is_number(a[b][3])||(a[b][3]=0);return a}function cf_getKeyCode(a){return"right"==a?39:"left"==a?37:"up"==a?38:"down"==a?40:-1}function cf_setCookie(a,b,c){if(a){var d=b.triggerHandler(cf_e("currentPosition",c));$.fn.carouFredSel.cookie.set(a,d)}}function cf_getCookie(a){var b=$.fn.carouFredSel.cookie.get(a);return""==b?0:b}function in_mapCss(a,b){for(var c={},d=0,e=b.length;e>d;d++)c[b[d]]=a.css(b[d]);return c}function in_complementItems(a,b,c,d){return is_object(a.visibleConf)||(a.visibleConf={}),is_object(a.sizesConf)||(a.sizesConf={}),0==a.start&&is_number(d)&&(a.start=d),is_object(a.visible)?(a.visibleConf.min=a.visible.min,a.visibleConf.max=a.visible.max,a.visible=!1):is_string(a.visible)?("variable"==a.visible?a.visibleConf.variable=!0:a.visibleConf.adjust=a.visible,a.visible=!1):is_function(a.visible)&&(a.visibleConf.adjust=a.visible,a.visible=!1),is_string(a.filter)||(a.filter=c.filter(":hidden").length>0?":visible":"*"),a[b.d.width]||(b.responsive?(debug(!0,"Set a "+b.d.width+" for the items!"),a[b.d.width]=ms_getTrueLargestSize(c,b,"outerWidth")):a[b.d.width]=ms_hasVariableSizes(c,b,"outerWidth")?"variable":c[b.d.outerWidth](!0)),a[b.d.height]||(a[b.d.height]=ms_hasVariableSizes(c,b,"outerHeight")?"variable":c[b.d.outerHeight](!0)),a.sizesConf.width=a.width,a.sizesConf.height=a.height,a}function in_complementVisibleItems(a,b){return"variable"==a.items[a.d.width]&&(a.items.visibleConf.variable=!0),a.items.visibleConf.variable||(is_number(a[a.d.width])?a.items.visible=Math.floor(a[a.d.width]/a.items[a.d.width]):(a.items.visible=Math.floor(b/a.items[a.d.width]),a[a.d.width]=a.items.visible*a.items[a.d.width],a.items.visibleConf.adjust||(a.align=!1)),("Infinity"==a.items.visible||1>a.items.visible)&&(debug(!0,'Not a valid number of visible items: Set to "variable".'),a.items.visibleConf.variable=!0)),a}function in_complementPrimarySize(a,b,c){return"auto"==a&&(a=ms_getTrueLargestSize(c,b,"outerWidth")),a}function in_complementSecondarySize(a,b,c){return"auto"==a&&(a=ms_getTrueLargestSize(c,b,"outerHeight")),a||(a=b.items[b.d.height]),a}function in_getAlignPadding(a,b){var c=cf_getAlignPadding(gi_getCurrentItems(b,a),a);return a.padding[a.d[1]]=c[1],a.padding[a.d[3]]=c[0],a}function in_getResponsiveValues(a,b){var d=cf_getItemAdjustMinMax(Math.ceil(a[a.d.width]/a.items[a.d.width]),a.items.visibleConf);d>b.length&&(d=b.length);var e=Math.floor(a[a.d.width]/d);return a.items.visible=d,a.items[a.d.width]=e,a[a.d.width]=d*e,a}function bt_pauseOnHoverConfig(a){if(is_string(a))var b=a.indexOf("immediate")>-1?!0:!1,c=a.indexOf("resume")>-1?!0:!1;else var b=c=!1;return[b,c]}function bt_mousesheelNumber(a){return is_number(a)?a:null}function is_null(a){return null===a}function is_undefined(a){return is_null(a)||a===void 0||""===a||"undefined"===a}function is_array(a){return a instanceof Array}function is_jquery(a){return a instanceof jQuery}function is_object(a){return(a instanceof Object||"object"==typeof a)&&!is_null(a)&&!is_jquery(a)&&!is_array(a)&&!is_function(a)}function is_number(a){return(a instanceof Number||"number"==typeof a)&&!isNaN(a)}function is_string(a){return(a instanceof String||"string"==typeof a)&&!is_undefined(a)&&!is_true(a)&&!is_false(a)}function is_function(a){return a instanceof Function||"function"==typeof a}function is_boolean(a){return a instanceof Boolean||"boolean"==typeof a||is_true(a)||is_false(a)}function is_true(a){return a===!0||"true"===a}function is_false(a){return a===!1||"false"===a}function is_percentage(a){return is_string(a)&&"%"==a.slice(-1)}function getTime(){return(new Date).getTime()}function deprecated(a,b){debug(!0,a+" is DEPRECATED, support for it will be removed. Use "+b+" instead.")}function debug(a,b){if(!is_undefined(window.console)&&!is_undefined(window.console.log)){if(is_object(a)){var c=" ("+a.selector+")";a=a.debug}else var c="";if(!a)return!1;b=is_string(b)?"carouFredSel"+c+": "+b:["carouFredSel"+c+":",b],window.console.log(b)}return!1}$.fn.carouFredSel||($.fn.caroufredsel=$.fn.carouFredSel=function(options,configs){if(0==this.length)return debug(!0,'No element found for "'+this.selector+'".'),this;if(this.length>1)return this.each(function(){$(this).carouFredSel(options,configs)});var $cfs=this,$tt0=this[0],starting_position=!1;$cfs.data("_cfs_isCarousel")&&(starting_position=$cfs.triggerHandler("_cfs_triggerEvent","currentPosition"),$cfs.trigger("_cfs_triggerEvent",["destroy",!0]));var FN={};FN._init=function(a,b,c){a=go_getObject($tt0,a),a.items=go_getItemsObject($tt0,a.items),a.scroll=go_getScrollObject($tt0,a.scroll),a.auto=go_getAutoObject($tt0,a.auto),a.prev=go_getPrevNextObject($tt0,a.prev),a.next=go_getPrevNextObject($tt0,a.next),a.pagination=go_getPaginationObject($tt0,a.pagination),a.swipe=go_getSwipeObject($tt0,a.swipe),a.mousewheel=go_getMousewheelObject($tt0,a.mousewheel),b&&(opts_orig=$.extend(!0,{},$.fn.carouFredSel.defaults,a)),opts=$.extend(!0,{},$.fn.carouFredSel.defaults,a),opts.d=cf_getDimensions(opts),crsl.direction="up"==opts.direction||"left"==opts.direction?"next":"prev";var d=$cfs.children(),e=ms_getParentSize($wrp,opts,"width");if(is_true(opts.cookie)&&(opts.cookie="caroufredsel_cookie_"+conf.serialNumber),opts.maxDimension=ms_getMaxDimension(opts,e),opts.items=in_complementItems(opts.items,opts,d,c),opts[opts.d.width]=in_complementPrimarySize(opts[opts.d.width],opts,d),opts[opts.d.height]=in_complementSecondarySize(opts[opts.d.height],opts,d),opts.responsive&&(is_percentage(opts[opts.d.width])||(opts[opts.d.width]="100%")),is_percentage(opts[opts.d.width])&&(crsl.upDateOnWindowResize=!0,crsl.primarySizePercentage=opts[opts.d.width],opts[opts.d.width]=ms_getPercentage(e,crsl.primarySizePercentage),opts.items.visible||(opts.items.visibleConf.variable=!0)),opts.responsive?(opts.usePadding=!1,opts.padding=[0,0,0,0],opts.align=!1,opts.items.visibleConf.variable=!1):(opts.items.visible||(opts=in_complementVisibleItems(opts,e)),opts[opts.d.width]||(!opts.items.visibleConf.variable&&is_number(opts.items[opts.d.width])&&"*"==opts.items.filter?(opts[opts.d.width]=opts.items.visible*opts.items[opts.d.width],opts.align=!1):opts[opts.d.width]="variable"),is_undefined(opts.align)&&(opts.align=is_number(opts[opts.d.width])?"center":!1),opts.items.visibleConf.variable&&(opts.items.visible=gn_getVisibleItemsNext(d,opts,0))),"*"==opts.items.filter||opts.items.visibleConf.variable||(opts.items.visibleConf.org=opts.items.visible,opts.items.visible=gn_getVisibleItemsNextFilter(d,opts,0)),opts.items.visible=cf_getItemsAdjust(opts.items.visible,opts,opts.items.visibleConf.adjust,$tt0),opts.items.visibleConf.old=opts.items.visible,opts.responsive)opts.items.visibleConf.min||(opts.items.visibleConf.min=opts.items.visible),opts.items.visibleConf.max||(opts.items.visibleConf.max=opts.items.visible),opts=in_getResponsiveValues(opts,d,e);else switch(opts.padding=cf_getPadding(opts.padding),"top"==opts.align?opts.align="left":"bottom"==opts.align&&(opts.align="right"),opts.align){case"center":case"left":case"right":"variable"!=opts[opts.d.width]&&(opts=in_getAlignPadding(opts,d),opts.usePadding=!0);break;default:opts.align=!1,opts.usePadding=0==opts.padding[0]&&0==opts.padding[1]&&0==opts.padding[2]&&0==opts.padding[3]?!1:!0}is_number(opts.scroll.duration)||(opts.scroll.duration=500),is_undefined(opts.scroll.items)&&(opts.scroll.items=opts.responsive||opts.items.visibleConf.variable||"*"!=opts.items.filter?"visible":opts.items.visible),opts.auto=$.extend(!0,{},opts.scroll,opts.auto),opts.prev=$.extend(!0,{},opts.scroll,opts.prev),opts.next=$.extend(!0,{},opts.scroll,opts.next),opts.pagination=$.extend(!0,{},opts.scroll,opts.pagination),opts.auto=go_complementAutoObject($tt0,opts.auto),opts.prev=go_complementPrevNextObject($tt0,opts.prev),opts.next=go_complementPrevNextObject($tt0,opts.next),opts.pagination=go_complementPaginationObject($tt0,opts.pagination),opts.swipe=go_complementSwipeObject($tt0,opts.swipe),opts.mousewheel=go_complementMousewheelObject($tt0,opts.mousewheel),opts.synchronise&&(opts.synchronise=cf_getSynchArr(opts.synchronise)),opts.auto.onPauseStart&&(opts.auto.onTimeoutStart=opts.auto.onPauseStart,deprecated("auto.onPauseStart","auto.onTimeoutStart")),opts.auto.onPausePause&&(opts.auto.onTimeoutPause=opts.auto.onPausePause,deprecated("auto.onPausePause","auto.onTimeoutPause")),opts.auto.onPauseEnd&&(opts.auto.onTimeoutEnd=opts.auto.onPauseEnd,deprecated("auto.onPauseEnd","auto.onTimeoutEnd")),opts.auto.pauseDuration&&(opts.auto.timeoutDuration=opts.auto.pauseDuration,deprecated("auto.pauseDuration","auto.timeoutDuration"))},FN._build=function(){$cfs.data("_cfs_isCarousel",!0);var a=$cfs.children(),b=in_mapCss($cfs,["textAlign","float","position","top","right","bottom","left","zIndex","width","height","marginTop","marginRight","marginBottom","marginLeft"]),c="relative";switch(b.position){case"absolute":case"fixed":c=b.position}"parent"==conf.wrapper?sz_storeOrigCss($wrp):$wrp.css(b),$wrp.css({overflow:"hidden",position:c}),sz_storeOrigCss($cfs),$cfs.data("_cfs_origCssZindex",b.zIndex),$cfs.css({textAlign:"left","float":"none",position:"absolute",top:0,right:"auto",bottom:"auto",left:0,marginTop:0,marginRight:0,marginBottom:0,marginLeft:0}),sz_storeMargin(a,opts),sz_storeOrigCss(a),opts.responsive&&sz_setResponsiveSizes(opts,a)},FN._bind_events=function(){FN._unbind_events(),$cfs.bind(cf_e("stop",conf),function(a,b){return a.stopPropagation(),crsl.isStopped||opts.auto.button&&opts.auto.button.addClass(cf_c("stopped",conf)),crsl.isStopped=!0,opts.auto.play&&(opts.auto.play=!1,$cfs.trigger(cf_e("pause",conf),b)),!0}),$cfs.bind(cf_e("finish",conf),function(a){return a.stopPropagation(),crsl.isScrolling&&sc_stopScroll(scrl),!0}),$cfs.bind(cf_e("pause",conf),function(a,b,c){if(a.stopPropagation(),tmrs=sc_clearTimers(tmrs),b&&crsl.isScrolling){scrl.isStopped=!0;var d=getTime()-scrl.startTime;scrl.duration-=d,scrl.pre&&(scrl.pre.duration-=d),scrl.post&&(scrl.post.duration-=d),sc_stopScroll(scrl,!1)}if(crsl.isPaused||crsl.isScrolling||c&&(tmrs.timePassed+=getTime()-tmrs.startTime),crsl.isPaused||opts.auto.button&&opts.auto.button.addClass(cf_c("paused",conf)),crsl.isPaused=!0,opts.auto.onTimeoutPause){var e=opts.auto.timeoutDuration-tmrs.timePassed,f=100-Math.ceil(100*e/opts.auto.timeoutDuration);opts.auto.onTimeoutPause.call($tt0,f,e)}return!0}),$cfs.bind(cf_e("play",conf),function(a,b,c,d){a.stopPropagation(),tmrs=sc_clearTimers(tmrs);var e=[b,c,d],f=["string","number","boolean"],g=cf_sortParams(e,f);if(b=g[0],c=g[1],d=g[2],"prev"!=b&&"next"!=b&&(b=crsl.direction),is_number(c)||(c=0),is_boolean(d)||(d=!1),d&&(crsl.isStopped=!1,opts.auto.play=!0),!opts.auto.play)return a.stopImmediatePropagation(),debug(conf,"Carousel stopped: Not scrolling.");crsl.isPaused&&opts.auto.button&&(opts.auto.button.removeClass(cf_c("stopped",conf)),opts.auto.button.removeClass(cf_c("paused",conf))),crsl.isPaused=!1,tmrs.startTime=getTime();var h=opts.auto.timeoutDuration+c;return dur2=h-tmrs.timePassed,perc=100-Math.ceil(100*dur2/h),opts.auto.progress&&(tmrs.progress=setInterval(function(){var a=getTime()-tmrs.startTime+tmrs.timePassed,b=Math.ceil(100*a/h);opts.auto.progress.updater.call(opts.auto.progress.bar[0],b)},opts.auto.progress.interval)),tmrs.auto=setTimeout(function(){opts.auto.progress&&opts.auto.progress.updater.call(opts.auto.progress.bar[0],100),opts.auto.onTimeoutEnd&&opts.auto.onTimeoutEnd.call($tt0,perc,dur2),crsl.isScrolling?$cfs.trigger(cf_e("play",conf),b):$cfs.trigger(cf_e(b,conf),opts.auto)},dur2),opts.auto.onTimeoutStart&&opts.auto.onTimeoutStart.call($tt0,perc,dur2),!0}),$cfs.bind(cf_e("resume",conf),function(a){return a.stopPropagation(),scrl.isStopped?(scrl.isStopped=!1,crsl.isPaused=!1,crsl.isScrolling=!0,scrl.startTime=getTime(),sc_startScroll(scrl,conf)):$cfs.trigger(cf_e("play",conf)),!0}),$cfs.bind(cf_e("prev",conf)+" "+cf_e("next",conf),function(a,b,c,d,e){if(a.stopPropagation(),crsl.isStopped||$cfs.is(":hidden"))return a.stopImmediatePropagation(),debug(conf,"Carousel stopped or hidden: Not scrolling.");var f=is_number(opts.items.minimum)?opts.items.minimum:opts.items.visible+1;if(f>itms.total)return a.stopImmediatePropagation(),debug(conf,"Not enough items ("+itms.total+" total, "+f+" needed): Not scrolling.");var g=[b,c,d,e],h=["object","number/string","function","boolean"],i=cf_sortParams(g,h);b=i[0],c=i[1],d=i[2],e=i[3];var j=a.type.slice(conf.events.prefix.length);if(is_object(b)||(b={}),is_function(d)&&(b.onAfter=d),is_boolean(e)&&(b.queue=e),b=$.extend(!0,{},opts[j],b),b.conditions&&!b.conditions.call($tt0,j))return a.stopImmediatePropagation(),debug(conf,'Callback "conditions" returned false.');if(!is_number(c)){if("*"!=opts.items.filter)c="visible";else for(var k=[c,b.items,opts[j].items],i=0,l=k.length;l>i;i++)if(is_number(k[i])||"page"==k[i]||"visible"==k[i]){c=k[i];break}switch(c){case"page":return a.stopImmediatePropagation(),$cfs.triggerHandler(cf_e(j+"Page",conf),[b,d]);case"visible":opts.items.visibleConf.variable||"*"!=opts.items.filter||(c=opts.items.visible)}}if(scrl.isStopped)return $cfs.trigger(cf_e("resume",conf)),$cfs.trigger(cf_e("queue",conf),[j,[b,c,d]]),a.stopImmediatePropagation(),debug(conf,"Carousel resumed scrolling.");if(b.duration>0&&crsl.isScrolling)return b.queue&&("last"==b.queue&&(queu=[]),("first"!=b.queue||0==queu.length)&&$cfs.trigger(cf_e("queue",conf),[j,[b,c,d]])),a.stopImmediatePropagation(),debug(conf,"Carousel currently scrolling.");if(tmrs.timePassed=0,$cfs.trigger(cf_e("slide_"+j,conf),[b,c]),opts.synchronise)for(var m=opts.synchronise,n=[b,c],o=0,l=m.length;l>o;o++){var p=j;m[o][2]||(p="prev"==p?"next":"prev"),m[o][1]||(n[0]=m[o][0].triggerHandler("_cfs_triggerEvent",["configuration",p])),n[1]=c+m[o][3],m[o][0].trigger("_cfs_triggerEvent",["slide_"+p,n])}return!0}),$cfs.bind(cf_e("slide_prev",conf),function(a,b,c){a.stopPropagation();var d=$cfs.children();if(!opts.circular&&0==itms.first)return opts.infinite&&$cfs.trigger(cf_e("next",conf),itms.total-1),a.stopImmediatePropagation();if(sz_resetMargin(d,opts),!is_number(c)){if(opts.items.visibleConf.variable)c=gn_getVisibleItemsPrev(d,opts,itms.total-1);else if("*"!=opts.items.filter){var e=is_number(b.items)?b.items:gn_getVisibleOrg($cfs,opts);c=gn_getScrollItemsPrevFilter(d,opts,itms.total-1,e)}else c=opts.items.visible;c=cf_getAdjust(c,opts,b.items,$tt0)}if(opts.circular||itms.total-c<itms.first&&(c=itms.total-itms.first),opts.items.visibleConf.old=opts.items.visible,opts.items.visibleConf.variable){var f=cf_getItemsAdjust(gn_getVisibleItemsNext(d,opts,itms.total-c),opts,opts.items.visibleConf.adjust,$tt0);f>=opts.items.visible+c&&itms.total>c&&(c++,f=cf_getItemsAdjust(gn_getVisibleItemsNext(d,opts,itms.total-c),opts,opts.items.visibleConf.adjust,$tt0)),opts.items.visible=f}else if("*"!=opts.items.filter){var f=gn_getVisibleItemsNextFilter(d,opts,itms.total-c);opts.items.visible=cf_getItemsAdjust(f,opts,opts.items.visibleConf.adjust,$tt0)}if(sz_resetMargin(d,opts,!0),0==c)return a.stopImmediatePropagation(),debug(conf,"0 items to scroll: Not scrolling.");for(debug(conf,"Scrolling "+c+" items backward."),itms.first+=c;itms.first>=itms.total;)itms.first-=itms.total;opts.circular||(0==itms.first&&b.onEnd&&b.onEnd.call($tt0,"prev"),opts.infinite||nv_enableNavi(opts,itms.first,conf)),$cfs.children().slice(itms.total-c,itms.total).prependTo($cfs),itms.total<opts.items.visible+c&&$cfs.children().slice(0,opts.items.visible+c-itms.total).clone(!0).appendTo($cfs);var d=$cfs.children(),g=gi_getOldItemsPrev(d,opts,c),h=gi_getNewItemsPrev(d,opts),i=d.eq(c-1),j=g.last(),k=h.last();sz_resetMargin(d,opts);var l=0,m=0;if(opts.align){var n=cf_getAlignPadding(h,opts);l=n[0],m=n[1]}var o=0>l?opts.padding[opts.d[3]]:0,p=!1,q=$();if(c>opts.items.visible&&(q=d.slice(opts.items.visibleConf.old,c),"directscroll"==b.fx)){var r=opts.items[opts.d.width];p=q,i=k,sc_hideHiddenItems(p),opts.items[opts.d.width]="variable"}var s=!1,t=ms_getTotalSize(d.slice(0,c),opts,"width"),u=cf_mapWrapperSizes(ms_getSizes(h,opts,!0),opts,!opts.usePadding),v=0,w={},x={},y={},z={},A={},B={},C={},D=sc_getDuration(b,opts,c,t);switch(b.fx){case"cover":case"cover-fade":v=ms_getTotalSize(d.slice(0,opts.items.visible),opts,"width")}p&&(opts.items[opts.d.width]=r),sz_resetMargin(d,opts,!0),m>=0&&sz_resetMargin(j,opts,opts.padding[opts.d[1]]),l>=0&&sz_resetMargin(i,opts,opts.padding[opts.d[3]]),opts.align&&(opts.padding[opts.d[1]]=m,opts.padding[opts.d[3]]=l),B[opts.d.left]=-(t-o),C[opts.d.left]=-(v-o),x[opts.d.left]=u[opts.d.width];var E=function(){},F=function(){},G=function(){},H=function(){},I=function(){},J=function(){},K=function(){},L=function(){},M=function(){},N=function(){},O=function(){};switch(b.fx){case"crossfade":case"cover":case"cover-fade":case"uncover":case"uncover-fade":s=$cfs.clone(!0).appendTo($wrp)}switch(b.fx){case"crossfade":case"uncover":case"uncover-fade":s.children().slice(0,c).remove(),s.children().slice(opts.items.visibleConf.old).remove();break;case"cover":case"cover-fade":s.children().slice(opts.items.visible).remove(),s.css(C)}if($cfs.css(B),scrl=sc_setScroll(D,b.easing,conf),w[opts.d.left]=opts.usePadding?opts.padding[opts.d[3]]:0,("variable"==opts[opts.d.width]||"variable"==opts[opts.d.height])&&(E=function(){$wrp.css(u)},F=function(){scrl.anims.push([$wrp,u])}),opts.usePadding){switch(k.not(i).length&&(y[opts.d.marginRight]=i.data("_cfs_origCssMargin"),0>l?i.css(y):(K=function(){i.css(y)},L=function(){scrl.anims.push([i,y])})),b.fx){case"cover":case"cover-fade":s.children().eq(c-1).css(y)}k.not(j).length&&(z[opts.d.marginRight]=j.data("_cfs_origCssMargin"),G=function(){j.css(z)},H=function(){scrl.anims.push([j,z])}),m>=0&&(A[opts.d.marginRight]=k.data("_cfs_origCssMargin")+opts.padding[opts.d[1]],I=function(){k.css(A)},J=function(){scrl.anims.push([k,A])})}O=function(){$cfs.css(w)};var P=opts.items.visible+c-itms.total;N=function(){if(P>0&&($cfs.children().slice(itms.total).remove(),g=$($cfs.children().slice(itms.total-(opts.items.visible-P)).get().concat($cfs.children().slice(0,P).get()))),sc_showHiddenItems(p),opts.usePadding){var a=$cfs.children().eq(opts.items.visible+c-1);a.css(opts.d.marginRight,a.data("_cfs_origCssMargin"))}};var Q=sc_mapCallbackArguments(g,q,h,c,"prev",D,u);switch(M=function(){sc_afterScroll($cfs,s,b),crsl.isScrolling=!1,clbk.onAfter=sc_fireCallbacks($tt0,b,"onAfter",Q,clbk),queu=sc_fireQueue($cfs,queu,conf),crsl.isPaused||$cfs.trigger(cf_e("play",conf))},crsl.isScrolling=!0,tmrs=sc_clearTimers(tmrs),clbk.onBefore=sc_fireCallbacks($tt0,b,"onBefore",Q,clbk),b.fx){case"none":$cfs.css(w),E(),G(),I(),K(),O(),N(),M();break;case"fade":scrl.anims.push([$cfs,{opacity:0},function(){E(),G(),I(),K(),O(),N(),scrl=sc_setScroll(D,b.easing,conf),scrl.anims.push([$cfs,{opacity:1},M]),sc_startScroll(scrl,conf)}]);break;case"crossfade":$cfs.css({opacity:0}),scrl.anims.push([s,{opacity:0}]),scrl.anims.push([$cfs,{opacity:1},M]),F(),G(),I(),K(),O(),N();break;case"cover":scrl.anims.push([s,w,function(){G(),I(),K(),O(),N(),M()}]),F();break;case"cover-fade":scrl.anims.push([$cfs,{opacity:0}]),scrl.anims.push([s,w,function(){G(),I(),K(),O(),N(),M()}]),F();break;case"uncover":scrl.anims.push([s,x,M]),F(),G(),I(),K(),O(),N();break;case"uncover-fade":$cfs.css({opacity:0}),scrl.anims.push([$cfs,{opacity:1}]),scrl.anims.push([s,x,M]),F(),G(),I(),K(),O(),N();break;default:scrl.anims.push([$cfs,w,function(){N(),M()}]),F(),H(),J(),L()}return sc_startScroll(scrl,conf),cf_setCookie(opts.cookie,$cfs,conf),$cfs.trigger(cf_e("updatePageStatus",conf),[!1,u]),!0
}),$cfs.bind(cf_e("slide_next",conf),function(a,b,c){a.stopPropagation();var d=$cfs.children();if(!opts.circular&&itms.first==opts.items.visible)return opts.infinite&&$cfs.trigger(cf_e("prev",conf),itms.total-1),a.stopImmediatePropagation();if(sz_resetMargin(d,opts),!is_number(c)){if("*"!=opts.items.filter){var e=is_number(b.items)?b.items:gn_getVisibleOrg($cfs,opts);c=gn_getScrollItemsNextFilter(d,opts,0,e)}else c=opts.items.visible;c=cf_getAdjust(c,opts,b.items,$tt0)}var f=0==itms.first?itms.total:itms.first;if(!opts.circular){if(opts.items.visibleConf.variable)var g=gn_getVisibleItemsNext(d,opts,c),e=gn_getVisibleItemsPrev(d,opts,f-1);else var g=opts.items.visible,e=opts.items.visible;c+g>f&&(c=f-e)}if(opts.items.visibleConf.old=opts.items.visible,opts.items.visibleConf.variable){for(var g=cf_getItemsAdjust(gn_getVisibleItemsNextTestCircular(d,opts,c,f),opts,opts.items.visibleConf.adjust,$tt0);opts.items.visible-c>=g&&itms.total>c;)c++,g=cf_getItemsAdjust(gn_getVisibleItemsNextTestCircular(d,opts,c,f),opts,opts.items.visibleConf.adjust,$tt0);opts.items.visible=g}else if("*"!=opts.items.filter){var g=gn_getVisibleItemsNextFilter(d,opts,c);opts.items.visible=cf_getItemsAdjust(g,opts,opts.items.visibleConf.adjust,$tt0)}if(sz_resetMargin(d,opts,!0),0==c)return a.stopImmediatePropagation(),debug(conf,"0 items to scroll: Not scrolling.");for(debug(conf,"Scrolling "+c+" items forward."),itms.first-=c;0>itms.first;)itms.first+=itms.total;opts.circular||(itms.first==opts.items.visible&&b.onEnd&&b.onEnd.call($tt0,"next"),opts.infinite||nv_enableNavi(opts,itms.first,conf)),itms.total<opts.items.visible+c&&$cfs.children().slice(0,opts.items.visible+c-itms.total).clone(!0).appendTo($cfs);var d=$cfs.children(),h=gi_getOldItemsNext(d,opts),i=gi_getNewItemsNext(d,opts,c),j=d.eq(c-1),k=h.last(),l=i.last();sz_resetMargin(d,opts);var m=0,n=0;if(opts.align){var o=cf_getAlignPadding(i,opts);m=o[0],n=o[1]}var p=!1,q=$();if(c>opts.items.visibleConf.old&&(q=d.slice(opts.items.visibleConf.old,c),"directscroll"==b.fx)){var r=opts.items[opts.d.width];p=q,j=k,sc_hideHiddenItems(p),opts.items[opts.d.width]="variable"}var s=!1,t=ms_getTotalSize(d.slice(0,c),opts,"width"),u=cf_mapWrapperSizes(ms_getSizes(i,opts,!0),opts,!opts.usePadding),v=0,w={},x={},y={},z={},A={},B=sc_getDuration(b,opts,c,t);switch(b.fx){case"uncover":case"uncover-fade":v=ms_getTotalSize(d.slice(0,opts.items.visibleConf.old),opts,"width")}p&&(opts.items[opts.d.width]=r),opts.align&&0>opts.padding[opts.d[1]]&&(opts.padding[opts.d[1]]=0),sz_resetMargin(d,opts,!0),sz_resetMargin(k,opts,opts.padding[opts.d[1]]),opts.align&&(opts.padding[opts.d[1]]=n,opts.padding[opts.d[3]]=m),A[opts.d.left]=opts.usePadding?opts.padding[opts.d[3]]:0;var C=function(){},D=function(){},E=function(){},F=function(){},G=function(){},H=function(){},I=function(){},J=function(){},K=function(){};switch(b.fx){case"crossfade":case"cover":case"cover-fade":case"uncover":case"uncover-fade":s=$cfs.clone(!0).appendTo($wrp),s.children().slice(opts.items.visibleConf.old).remove()}switch(b.fx){case"crossfade":case"cover":case"cover-fade":$cfs.css("zIndex",1),s.css("zIndex",0)}if(scrl=sc_setScroll(B,b.easing,conf),w[opts.d.left]=-t,x[opts.d.left]=-v,0>m&&(w[opts.d.left]+=m),("variable"==opts[opts.d.width]||"variable"==opts[opts.d.height])&&(C=function(){$wrp.css(u)},D=function(){scrl.anims.push([$wrp,u])}),opts.usePadding){var L=l.data("_cfs_origCssMargin");n>=0&&(L+=opts.padding[opts.d[1]]),l.css(opts.d.marginRight,L),j.not(k).length&&(z[opts.d.marginRight]=k.data("_cfs_origCssMargin")),E=function(){k.css(z)},F=function(){scrl.anims.push([k,z])};var M=j.data("_cfs_origCssMargin");m>0&&(M+=opts.padding[opts.d[3]]),y[opts.d.marginRight]=M,G=function(){j.css(y)},H=function(){scrl.anims.push([j,y])}}K=function(){$cfs.css(A)};var N=opts.items.visible+c-itms.total;J=function(){N>0&&$cfs.children().slice(itms.total).remove();var a=$cfs.children().slice(0,c).appendTo($cfs).last();if(N>0&&(i=gi_getCurrentItems(d,opts)),sc_showHiddenItems(p),opts.usePadding){if(itms.total<opts.items.visible+c){var b=$cfs.children().eq(opts.items.visible-1);b.css(opts.d.marginRight,b.data("_cfs_origCssMargin")+opts.padding[opts.d[1]])}a.css(opts.d.marginRight,a.data("_cfs_origCssMargin"))}};var O=sc_mapCallbackArguments(h,q,i,c,"next",B,u);switch(I=function(){$cfs.css("zIndex",$cfs.data("_cfs_origCssZindex")),sc_afterScroll($cfs,s,b),crsl.isScrolling=!1,clbk.onAfter=sc_fireCallbacks($tt0,b,"onAfter",O,clbk),queu=sc_fireQueue($cfs,queu,conf),crsl.isPaused||$cfs.trigger(cf_e("play",conf))},crsl.isScrolling=!0,tmrs=sc_clearTimers(tmrs),clbk.onBefore=sc_fireCallbacks($tt0,b,"onBefore",O,clbk),b.fx){case"none":$cfs.css(w),C(),E(),G(),K(),J(),I();break;case"fade":scrl.anims.push([$cfs,{opacity:0},function(){C(),E(),G(),K(),J(),scrl=sc_setScroll(B,b.easing,conf),scrl.anims.push([$cfs,{opacity:1},I]),sc_startScroll(scrl,conf)}]);break;case"crossfade":$cfs.css({opacity:0}),scrl.anims.push([s,{opacity:0}]),scrl.anims.push([$cfs,{opacity:1},I]),D(),E(),G(),K(),J();break;case"cover":$cfs.css(opts.d.left,$wrp[opts.d.width]()),scrl.anims.push([$cfs,A,I]),D(),E(),G(),J();break;case"cover-fade":$cfs.css(opts.d.left,$wrp[opts.d.width]()),scrl.anims.push([s,{opacity:0}]),scrl.anims.push([$cfs,A,I]),D(),E(),G(),J();break;case"uncover":scrl.anims.push([s,x,I]),D(),E(),G(),K(),J();break;case"uncover-fade":$cfs.css({opacity:0}),scrl.anims.push([$cfs,{opacity:1}]),scrl.anims.push([s,x,I]),D(),E(),G(),K(),J();break;default:scrl.anims.push([$cfs,w,function(){K(),J(),I()}]),D(),F(),H()}return sc_startScroll(scrl,conf),cf_setCookie(opts.cookie,$cfs,conf),$cfs.trigger(cf_e("updatePageStatus",conf),[!1,u]),!0}),$cfs.bind(cf_e("slideTo",conf),function(a,b,c,d,e,f,g){a.stopPropagation();var h=[b,c,d,e,f,g],i=["string/number/object","number","boolean","object","string","function"],j=cf_sortParams(h,i);return e=j[3],f=j[4],g=j[5],b=gn_getItemIndex(j[0],j[1],j[2],itms,$cfs),0==b?!1:(is_object(e)||(e=!1),"prev"!=f&&"next"!=f&&(f=opts.circular?itms.total/2>=b?"next":"prev":0==itms.first||itms.first>b?"next":"prev"),"prev"==f&&(b=itms.total-b),$cfs.trigger(cf_e(f,conf),[e,b,g]),!0)}),$cfs.bind(cf_e("prevPage",conf),function(a,b,c){a.stopPropagation();var d=$cfs.triggerHandler(cf_e("currentPage",conf));return $cfs.triggerHandler(cf_e("slideToPage",conf),[d-1,b,"prev",c])}),$cfs.bind(cf_e("nextPage",conf),function(a,b,c){a.stopPropagation();var d=$cfs.triggerHandler(cf_e("currentPage",conf));return $cfs.triggerHandler(cf_e("slideToPage",conf),[d+1,b,"next",c])}),$cfs.bind(cf_e("slideToPage",conf),function(a,b,c,d,e){a.stopPropagation(),is_number(b)||(b=$cfs.triggerHandler(cf_e("currentPage",conf)));var f=opts.pagination.items||opts.items.visible,g=Math.ceil(itms.total/f)-1;return 0>b&&(b=g),b>g&&(b=0),$cfs.triggerHandler(cf_e("slideTo",conf),[b*f,0,!0,c,d,e])}),$cfs.bind(cf_e("jumpToStart",conf),function(a,b){if(a.stopPropagation(),b=b?gn_getItemIndex(b,0,!0,itms,$cfs):0,b+=itms.first,0!=b){if(itms.total>0)for(;b>itms.total;)b-=itms.total;$cfs.prepend($cfs.children().slice(b,itms.total))}return!0}),$cfs.bind(cf_e("synchronise",conf),function(a,b){if(a.stopPropagation(),b)b=cf_getSynchArr(b);else{if(!opts.synchronise)return debug(conf,"No carousel to synchronise.");b=opts.synchronise}for(var c=$cfs.triggerHandler(cf_e("currentPosition",conf)),d=!0,e=0,f=b.length;f>e;e++)b[e][0].triggerHandler(cf_e("slideTo",conf),[c,b[e][3],!0])||(d=!1);return d}),$cfs.bind(cf_e("queue",conf),function(a,b,c){return a.stopPropagation(),is_function(b)?b.call($tt0,queu):is_array(b)?queu=b:is_undefined(b)||queu.push([b,c]),queu}),$cfs.bind(cf_e("insertItem",conf),function(a,b,c,d,e){a.stopPropagation();var f=[b,c,d,e],g=["string/object","string/number/object","boolean","number"],h=cf_sortParams(f,g);if(b=h[0],c=h[1],d=h[2],e=h[3],is_object(b)&&!is_jquery(b)?b=$(b):is_string(b)&&(b=$(b)),!is_jquery(b)||0==b.length)return debug(conf,"Not a valid object.");is_undefined(c)&&(c="end"),sz_storeMargin(b,opts),sz_storeOrigCss(b);var i=c,j="before";"end"==c?d?(0==itms.first?(c=itms.total-1,j="after"):(c=itms.first,itms.first+=b.length),0>c&&(c=0)):(c=itms.total-1,j="after"):c=gn_getItemIndex(c,e,d,itms,$cfs);var k=$cfs.children().eq(c);return k.length?k[j](b):(debug(conf,"Correct insert-position not found! Appending item to the end."),$cfs.append(b)),"end"==i||d||itms.first>c&&(itms.first+=b.length),itms.total=$cfs.children().length,itms.first>=itms.total&&(itms.first-=itms.total),$cfs.trigger(cf_e("updateSizes",conf)),$cfs.trigger(cf_e("linkAnchors",conf)),!0}),$cfs.bind(cf_e("removeItem",conf),function(a,b,c,d){a.stopPropagation();var e=[b,c,d],f=["string/number/object","boolean","number"],g=cf_sortParams(e,f);if(b=g[0],c=g[1],d=g[2],b instanceof $&&b.length>1)return i=$(),b.each(function(){var e=$cfs.trigger(cf_e("removeItem",conf),[$(this),c,d]);e&&(i=i.add(e))}),i;if(is_undefined(b)||"end"==b)i=$cfs.children().last();else{b=gn_getItemIndex(b,d,c,itms,$cfs);var i=$cfs.children().eq(b);i.length&&itms.first>b&&(itms.first-=i.length)}return i&&i.length&&(i.detach(),itms.total=$cfs.children().length,$cfs.trigger(cf_e("updateSizes",conf))),i}),$cfs.bind(cf_e("onBefore",conf)+" "+cf_e("onAfter",conf),function(a,b){a.stopPropagation();var c=a.type.slice(conf.events.prefix.length);return is_array(b)&&(clbk[c]=b),is_function(b)&&clbk[c].push(b),clbk[c]}),$cfs.bind(cf_e("currentPosition",conf),function(a,b){if(a.stopPropagation(),0==itms.first)var c=0;else var c=itms.total-itms.first;return is_function(b)&&b.call($tt0,c),c}),$cfs.bind(cf_e("currentPage",conf),function(a,b){a.stopPropagation();var e,c=opts.pagination.items||opts.items.visible,d=Math.ceil(itms.total/c-1);return e=0==itms.first?0:itms.first<itms.total%c?0:itms.first!=c||opts.circular?Math.round((itms.total-itms.first)/c):d,0>e&&(e=0),e>d&&(e=d),is_function(b)&&b.call($tt0,e),e}),$cfs.bind(cf_e("currentVisible",conf),function(a,b){a.stopPropagation();var c=gi_getCurrentItems($cfs.children(),opts);return is_function(b)&&b.call($tt0,c),c}),$cfs.bind(cf_e("slice",conf),function(a,b,c,d){if(a.stopPropagation(),0==itms.total)return!1;var e=[b,c,d],f=["number","number","function"],g=cf_sortParams(e,f);if(b=is_number(g[0])?g[0]:0,c=is_number(g[1])?g[1]:itms.total,d=g[2],b+=itms.first,c+=itms.first,items.total>0){for(;b>itms.total;)b-=itms.total;for(;c>itms.total;)c-=itms.total;for(;0>b;)b+=itms.total;for(;0>c;)c+=itms.total}var i,h=$cfs.children();return i=c>b?h.slice(b,c):$(h.slice(b,itms.total).get().concat(h.slice(0,c).get())),is_function(d)&&d.call($tt0,i),i}),$cfs.bind(cf_e("isPaused",conf)+" "+cf_e("isStopped",conf)+" "+cf_e("isScrolling",conf),function(a,b){a.stopPropagation();var c=a.type.slice(conf.events.prefix.length),d=crsl[c];return is_function(b)&&b.call($tt0,d),d}),$cfs.bind(cf_e("configuration",conf),function(e,a,b,c){e.stopPropagation();var reInit=!1;if(is_function(a))a.call($tt0,opts);else if(is_object(a))opts_orig=$.extend(!0,{},opts_orig,a),b!==!1?reInit=!0:opts=$.extend(!0,{},opts,a);else if(!is_undefined(a))if(is_function(b)){var val=eval("opts."+a);is_undefined(val)&&(val=""),b.call($tt0,val)}else{if(is_undefined(b))return eval("opts."+a);"boolean"!=typeof c&&(c=!0),eval("opts_orig."+a+" = b"),c!==!1?reInit=!0:eval("opts."+a+" = b")}if(reInit){sz_resetMargin($cfs.children(),opts),FN._init(opts_orig),FN._bind_buttons();var sz=sz_setSizes($cfs,opts);$cfs.trigger(cf_e("updatePageStatus",conf),[!0,sz])}return opts}),$cfs.bind(cf_e("linkAnchors",conf),function(a,b,c){return a.stopPropagation(),is_undefined(b)?b=$("body"):is_string(b)&&(b=$(b)),is_jquery(b)&&0!=b.length?(is_string(c)||(c="a.caroufredsel"),b.find(c).each(function(){var a=this.hash||"";a.length>0&&-1!=$cfs.children().index($(a))&&$(this).unbind("click").click(function(b){b.preventDefault(),$cfs.trigger(cf_e("slideTo",conf),a)})}),!0):debug(conf,"Not a valid object.")}),$cfs.bind(cf_e("updatePageStatus",conf),function(a,b){if(a.stopPropagation(),opts.pagination.container){var d=opts.pagination.items||opts.items.visible,e=Math.ceil(itms.total/d);b&&(opts.pagination.anchorBuilder&&(opts.pagination.container.children().remove(),opts.pagination.container.each(function(){for(var a=0;e>a;a++){var b=$cfs.children().eq(gn_getItemIndex(a*d,0,!0,itms,$cfs));$(this).append(opts.pagination.anchorBuilder.call(b[0],a+1))}})),opts.pagination.container.each(function(){$(this).children().unbind(opts.pagination.event).each(function(a){$(this).bind(opts.pagination.event,function(b){b.preventDefault(),$cfs.trigger(cf_e("slideTo",conf),[a*d,-opts.pagination.deviation,!0,opts.pagination])})})}));var f=$cfs.triggerHandler(cf_e("currentPage",conf))+opts.pagination.deviation;return f>=e&&(f=0),0>f&&(f=e-1),opts.pagination.container.each(function(){$(this).children().removeClass(cf_c("selected",conf)).eq(f).addClass(cf_c("selected",conf))}),!0}}),$cfs.bind(cf_e("updateSizes",conf),function(){var b=opts.items.visible,c=$cfs.children(),d=ms_getParentSize($wrp,opts,"width");if(itms.total=c.length,crsl.primarySizePercentage?(opts.maxDimension=d,opts[opts.d.width]=ms_getPercentage(d,crsl.primarySizePercentage)):opts.maxDimension=ms_getMaxDimension(opts,d),opts.responsive?(opts.items.width=opts.items.sizesConf.width,opts.items.height=opts.items.sizesConf.height,opts=in_getResponsiveValues(opts,c,d),b=opts.items.visible,sz_setResponsiveSizes(opts,c)):opts.items.visibleConf.variable?b=gn_getVisibleItemsNext(c,opts,0):"*"!=opts.items.filter&&(b=gn_getVisibleItemsNextFilter(c,opts,0)),!opts.circular&&0!=itms.first&&b>itms.first){if(opts.items.visibleConf.variable)var e=gn_getVisibleItemsPrev(c,opts,itms.first)-itms.first;else if("*"!=opts.items.filter)var e=gn_getVisibleItemsPrevFilter(c,opts,itms.first)-itms.first;else var e=opts.items.visible-itms.first;debug(conf,"Preventing non-circular: sliding "+e+" items backward."),$cfs.trigger(cf_e("prev",conf),e)}opts.items.visible=cf_getItemsAdjust(b,opts,opts.items.visibleConf.adjust,$tt0),opts.items.visibleConf.old=opts.items.visible,opts=in_getAlignPadding(opts,c);var f=sz_setSizes($cfs,opts);return $cfs.trigger(cf_e("updatePageStatus",conf),[!0,f]),nv_showNavi(opts,itms.total,conf),nv_enableNavi(opts,itms.first,conf),f}),$cfs.bind(cf_e("destroy",conf),function(a,b){return a.stopPropagation(),tmrs=sc_clearTimers(tmrs),$cfs.data("_cfs_isCarousel",!1),$cfs.trigger(cf_e("finish",conf)),b&&$cfs.trigger(cf_e("jumpToStart",conf)),sz_restoreOrigCss($cfs.children()),sz_restoreOrigCss($cfs),FN._unbind_events(),FN._unbind_buttons(),"parent"==conf.wrapper?sz_restoreOrigCss($wrp):$wrp.replaceWith($cfs),!0}),$cfs.bind(cf_e("debug",conf),function(){return debug(conf,"Carousel width: "+opts.width),debug(conf,"Carousel height: "+opts.height),debug(conf,"Item widths: "+opts.items.width),debug(conf,"Item heights: "+opts.items.height),debug(conf,"Number of items visible: "+opts.items.visible),opts.auto.play&&debug(conf,"Number of items scrolled automatically: "+opts.auto.items),opts.prev.button&&debug(conf,"Number of items scrolled backward: "+opts.prev.items),opts.next.button&&debug(conf,"Number of items scrolled forward: "+opts.next.items),conf.debug}),$cfs.bind("_cfs_triggerEvent",function(a,b,c){return a.stopPropagation(),$cfs.triggerHandler(cf_e(b,conf),c)})},FN._unbind_events=function(){$cfs.unbind(cf_e("",conf)),$cfs.unbind(cf_e("",conf,!1)),$cfs.unbind("_cfs_triggerEvent")},FN._bind_buttons=function(){if(FN._unbind_buttons(),nv_showNavi(opts,itms.total,conf),nv_enableNavi(opts,itms.first,conf),opts.auto.pauseOnHover){var a=bt_pauseOnHoverConfig(opts.auto.pauseOnHover);$wrp.bind(cf_e("mouseenter",conf,!1),function(){$cfs.trigger(cf_e("pause",conf),a)}).bind(cf_e("mouseleave",conf,!1),function(){$cfs.trigger(cf_e("resume",conf))})}if(opts.auto.button&&opts.auto.button.bind(cf_e(opts.auto.event,conf,!1),function(a){a.preventDefault();var b=!1,c=null;crsl.isPaused?b="play":opts.auto.pauseOnEvent&&(b="pause",c=bt_pauseOnHoverConfig(opts.auto.pauseOnEvent)),b&&$cfs.trigger(cf_e(b,conf),c)}),opts.prev.button&&(opts.prev.button.bind(cf_e(opts.prev.event,conf,!1),function(a){a.preventDefault(),$cfs.trigger(cf_e("prev",conf))}),opts.prev.pauseOnHover)){var a=bt_pauseOnHoverConfig(opts.prev.pauseOnHover);opts.prev.button.bind(cf_e("mouseenter",conf,!1),function(){$cfs.trigger(cf_e("pause",conf),a)}).bind(cf_e("mouseleave",conf,!1),function(){$cfs.trigger(cf_e("resume",conf))})}if(opts.next.button&&(opts.next.button.bind(cf_e(opts.next.event,conf,!1),function(a){a.preventDefault(),$cfs.trigger(cf_e("next",conf))}),opts.next.pauseOnHover)){var a=bt_pauseOnHoverConfig(opts.next.pauseOnHover);opts.next.button.bind(cf_e("mouseenter",conf,!1),function(){$cfs.trigger(cf_e("pause",conf),a)}).bind(cf_e("mouseleave",conf,!1),function(){$cfs.trigger(cf_e("resume",conf))})}if(opts.pagination.container&&opts.pagination.pauseOnHover){var a=bt_pauseOnHoverConfig(opts.pagination.pauseOnHover);opts.pagination.container.bind(cf_e("mouseenter",conf,!1),function(){$cfs.trigger(cf_e("pause",conf),a)}).bind(cf_e("mouseleave",conf,!1),function(){$cfs.trigger(cf_e("resume",conf))})}if((opts.prev.key||opts.next.key)&&$(document).bind(cf_e("keyup",conf,!1,!0,!0),function(a){var b=a.keyCode;b==opts.next.key&&(a.preventDefault(),$cfs.trigger(cf_e("next",conf))),b==opts.prev.key&&(a.preventDefault(),$cfs.trigger(cf_e("prev",conf)))}),opts.pagination.keys&&$(document).bind(cf_e("keyup",conf,!1,!0,!0),function(a){var b=a.keyCode;b>=49&&58>b&&(b=(b-49)*opts.items.visible,itms.total>=b&&(a.preventDefault(),$cfs.trigger(cf_e("slideTo",conf),[b,0,!0,opts.pagination])))}),$.fn.swipe){var b="ontouchstart"in window;if(b&&opts.swipe.onTouch||!b&&opts.swipe.onMouse){var c=$.extend(!0,{},opts.prev,opts.swipe),d=$.extend(!0,{},opts.next,opts.swipe),e=function(){$cfs.trigger(cf_e("prev",conf),[c])},f=function(){$cfs.trigger(cf_e("next",conf),[d])};switch(opts.direction){case"up":case"down":opts.swipe.options.swipeUp=f,opts.swipe.options.swipeDown=e;break;default:opts.swipe.options.swipeLeft=f,opts.swipe.options.swipeRight=e}crsl.swipe&&$cfs.swipe("destroy"),$wrp.swipe(opts.swipe.options),$wrp.css("cursor","move"),crsl.swipe=!0}}if($.fn.mousewheel&&opts.mousewheel){var g=$.extend(!0,{},opts.prev,opts.mousewheel),h=$.extend(!0,{},opts.next,opts.mousewheel);crsl.mousewheel&&$wrp.unbind(cf_e("mousewheel",conf,!1)),$wrp.bind(cf_e("mousewheel",conf,!1),function(a,b){a.preventDefault(),b>0?$cfs.trigger(cf_e("prev",conf),[g]):$cfs.trigger(cf_e("next",conf),[h])}),crsl.mousewheel=!0}if(opts.auto.play&&$cfs.trigger(cf_e("play",conf),opts.auto.delay),crsl.upDateOnWindowResize){var i=function(){$cfs.trigger(cf_e("finish",conf)),opts.auto.pauseOnResize&&!crsl.isPaused&&$cfs.trigger(cf_e("play",conf)),sz_resetMargin($cfs.children(),opts),$cfs.trigger(cf_e("updateSizes",conf))},j=$(window),k=null;if($.debounce&&"debounce"==conf.onWindowResize)k=$.debounce(200,i);else if($.throttle&&"throttle"==conf.onWindowResize)k=$.throttle(300,i);else{var l=0,m=0;k=function(){var a=j.width(),b=j.height();(a!=l||b!=m)&&(i(),l=a,m=b)}}j.bind(cf_e("resize",conf,!1,!0,!0),k)}},FN._unbind_buttons=function(){var b=(cf_e("",conf),cf_e("",conf,!1));ns3=cf_e("",conf,!1,!0,!0),$(document).unbind(ns3),$(window).unbind(ns3),$wrp.unbind(b),opts.auto.button&&opts.auto.button.unbind(b),opts.prev.button&&opts.prev.button.unbind(b),opts.next.button&&opts.next.button.unbind(b),opts.pagination.container&&(opts.pagination.container.unbind(b),opts.pagination.anchorBuilder&&opts.pagination.container.children().remove()),crsl.swipe&&($cfs.swipe("destroy"),$wrp.css("cursor","default"),crsl.swipe=!1),crsl.mousewheel&&(crsl.mousewheel=!1),nv_showNavi(opts,"hide",conf),nv_enableNavi(opts,"removeClass",conf)},is_boolean(configs)&&(configs={debug:configs});var crsl={direction:"next",isPaused:!0,isScrolling:!1,isStopped:!1,mousewheel:!1,swipe:!1},itms={total:$cfs.children().length,first:0},tmrs={auto:null,progress:null,startTime:getTime(),timePassed:0},scrl={isStopped:!1,duration:0,startTime:0,easing:"",anims:[]},clbk={onBefore:[],onAfter:[]},queu=[],conf=$.extend(!0,{},$.fn.carouFredSel.configs,configs),opts={},opts_orig=$.extend(!0,{},options),$wrp="parent"==conf.wrapper?$cfs.parent():$cfs.wrap("<"+conf.wrapper.element+' class="'+conf.wrapper.classname+'" />').parent();if(conf.selector=$cfs.selector,conf.serialNumber=$.fn.carouFredSel.serialNumber++,conf.transition=conf.transition&&$.fn.transition?"transition":"animate",FN._init(opts_orig,!0,starting_position),FN._build(),FN._bind_events(),FN._bind_buttons(),is_array(opts.items.start))var start_arr=opts.items.start;else{var start_arr=[];0!=opts.items.start&&start_arr.push(opts.items.start)}if(opts.cookie&&start_arr.unshift(parseInt(cf_getCookie(opts.cookie),10)),start_arr.length>0)for(var a=0,l=start_arr.length;l>a;a++){var s=start_arr[a];if(0!=s){if(s===!0){if(s=window.location.hash,1>s.length)continue}else"random"===s&&(s=Math.floor(Math.random()*itms.total));if($cfs.triggerHandler(cf_e("slideTo",conf),[s,0,!0,{fx:"none"}]))break}}var siz=sz_setSizes($cfs,opts),itm=gi_getCurrentItems($cfs.children(),opts);return opts.onCreate&&opts.onCreate.call($tt0,{width:siz.width,height:siz.height,items:itm}),$cfs.trigger(cf_e("updatePageStatus",conf),[!0,siz]),$cfs.trigger(cf_e("linkAnchors",conf)),conf.debug&&$cfs.trigger(cf_e("debug",conf)),$cfs},$.fn.carouFredSel.serialNumber=1,$.fn.carouFredSel.defaults={synchronise:!1,infinite:!0,circular:!0,responsive:!1,direction:"left",items:{start:0},scroll:{easing:"swing",duration:500,pauseOnHover:!1,event:"click",queue:!1}},$.fn.carouFredSel.configs={debug:!1,transition:!1,onWindowResize:"throttle",events:{prefix:"",namespace:"cfs"},wrapper:{element:"div",classname:"caroufredsel_wrapper"},classnames:{}},$.fn.carouFredSel.pageAnchorBuilder=function(a){return'<a href="#"><span>'+a+"</span></a>"},$.fn.carouFredSel.progressbarUpdater=function(a){$(this).css("width",a+"%")},$.fn.carouFredSel.cookie={get:function(a){a+="=";for(var b=document.cookie.split(";"),c=0,d=b.length;d>c;c++){for(var e=b[c];" "==e.charAt(0);)e=e.slice(1);if(0==e.indexOf(a))return e.slice(a.length)}return 0},set:function(a,b,c){var d="";if(c){var e=new Date;e.setTime(e.getTime()+1e3*60*60*24*c),d="; expires="+e.toGMTString()}document.cookie=a+"="+b+d+"; path=/"},remove:function(a){$.fn.carouFredSel.cookie.set(a,"",-1)}},$.extend($.easing,{quadratic:function(a){var b=a*a;return a*(-b*a+4*b-6*a+4)},cubic:function(a){return a*(4*a*a-9*a+6)},elastic:function(a){var b=a*a;return a*(33*b*b-106*b*a+126*b-67*a+15)}}))})(jQuery);
/* Local pack index.js starts here */
/*
 jQuery Waypoints - v2.0.5
Copyright (c) 2011-2014 Caleb Troughton
Licensed under the MIT license.
https://github.com/imakewebthings/jquery-waypoints/blob/master/licenses.txt
*/
var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.createTemplateTagFirstArg=function(a){return a.raw=a};$jscomp.createTemplateTagFirstArgWithRaw=function(a,b){a.raw=b;return a};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.SIMPLE_FROUND_POLYFILL=!1;$jscomp.ISOLATE_POLYFILLS=!1;$jscomp.FORCE_POLYFILL_PROMISE=!1;$jscomp.FORCE_POLYFILL_PROMISE_WHEN_NO_UNHANDLED_REJECTION=!1;
$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(a,b,c){if(a==Array.prototype||a==Object.prototype)return a;a[b]=c.value;return a};$jscomp.getGlobal=function(a){a=["object"==typeof globalThis&&globalThis,a,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global];for(var b=0;b<a.length;++b){var c=a[b];if(c&&c.Math==Math)return c}throw Error("Cannot find global object");};$jscomp.global=$jscomp.getGlobal(this);
$jscomp.IS_SYMBOL_NATIVE="function"===typeof Symbol&&"symbol"===typeof Symbol("x");$jscomp.TRUST_ES6_POLYFILLS=!$jscomp.ISOLATE_POLYFILLS||$jscomp.IS_SYMBOL_NATIVE;$jscomp.polyfills={};$jscomp.propertyToPolyfillSymbol={};$jscomp.POLYFILL_PREFIX="$jscp$";var $jscomp$lookupPolyfilledValue=function(a,b){var c=$jscomp.propertyToPolyfillSymbol[b];if(null==c)return a[b];c=a[c];return void 0!==c?c:a[b]};
$jscomp.polyfill=function(a,b,c,e){b&&($jscomp.ISOLATE_POLYFILLS?$jscomp.polyfillIsolated(a,b,c,e):$jscomp.polyfillUnisolated(a,b,c,e))};$jscomp.polyfillUnisolated=function(a,b,c,e){c=$jscomp.global;a=a.split(".");for(e=0;e<a.length-1;e++){var d=a[e];if(!(d in c))return;c=c[d]}a=a[a.length-1];e=c[a];b=b(e);b!=e&&null!=b&&$jscomp.defineProperty(c,a,{configurable:!0,writable:!0,value:b})};
$jscomp.polyfillIsolated=function(a,b,c,e){var d=a.split(".");a=1===d.length;e=d[0];e=!a&&e in $jscomp.polyfills?$jscomp.polyfills:$jscomp.global;for(var f=0;f<d.length-1;f++){var g=d[f];if(!(g in e))return;e=e[g]}d=d[d.length-1];c=$jscomp.IS_SYMBOL_NATIVE&&"es6"===c?e[d]:null;b=b(c);null!=b&&(a?$jscomp.defineProperty($jscomp.polyfills,d,{configurable:!0,writable:!0,value:b}):b!==c&&(void 0===$jscomp.propertyToPolyfillSymbol[d]&&(c=1E9*Math.random()>>>0,$jscomp.propertyToPolyfillSymbol[d]=$jscomp.IS_SYMBOL_NATIVE?
$jscomp.global.Symbol(d):$jscomp.POLYFILL_PREFIX+c+"$"+d),$jscomp.defineProperty(e,$jscomp.propertyToPolyfillSymbol[d],{configurable:!0,writable:!0,value:b})))};$jscomp.underscoreProtoCanBeSet=function(){var a={a:!0},b={};try{return b.__proto__=a,b.a}catch(c){}return!1};
$jscomp.setPrototypeOf=$jscomp.TRUST_ES6_POLYFILLS&&"function"==typeof Object.setPrototypeOf?Object.setPrototypeOf:$jscomp.underscoreProtoCanBeSet()?function(a,b){a.__proto__=b;if(a.__proto__!==b)throw new TypeError(a+" is not extensible");return a}:null;$jscomp.arrayIteratorImpl=function(a){var b=0;return function(){return b<a.length?{done:!1,value:a[b++]}:{done:!0}}};$jscomp.arrayIterator=function(a){return{next:$jscomp.arrayIteratorImpl(a)}};
$jscomp.makeIterator=function(a){var b="undefined"!=typeof Symbol&&Symbol.iterator&&a[Symbol.iterator];return b?b.call(a):$jscomp.arrayIterator(a)};$jscomp.generator={};$jscomp.generator.ensureIteratorResultIsObject_=function(a){if(!(a instanceof Object))throw new TypeError("Iterator result "+a+" is not an object");};
$jscomp.generator.Context=function(){this.isRunning_=!1;this.yieldAllIterator_=null;this.yieldResult=void 0;this.nextAddress=1;this.finallyAddress_=this.catchAddress_=0;this.finallyContexts_=this.abruptCompletion_=null};$jscomp.generator.Context.prototype.start_=function(){if(this.isRunning_)throw new TypeError("Generator is already running");this.isRunning_=!0};$jscomp.generator.Context.prototype.stop_=function(){this.isRunning_=!1};
$jscomp.generator.Context.prototype.jumpToErrorHandler_=function(){this.nextAddress=this.catchAddress_||this.finallyAddress_};$jscomp.generator.Context.prototype.next_=function(a){this.yieldResult=a};$jscomp.generator.Context.prototype.throw_=function(a){this.abruptCompletion_={exception:a,isException:!0};this.jumpToErrorHandler_()};$jscomp.generator.Context.prototype.return=function(a){this.abruptCompletion_={return:a};this.nextAddress=this.finallyAddress_};
$jscomp.generator.Context.prototype.jumpThroughFinallyBlocks=function(a){this.abruptCompletion_={jumpTo:a};this.nextAddress=this.finallyAddress_};$jscomp.generator.Context.prototype.yield=function(a,b){this.nextAddress=b;return{value:a}};$jscomp.generator.Context.prototype.yieldAll=function(a,b){a=$jscomp.makeIterator(a);var c=a.next();$jscomp.generator.ensureIteratorResultIsObject_(c);if(c.done)this.yieldResult=c.value,this.nextAddress=b;else return this.yieldAllIterator_=a,this.yield(c.value,b)};
$jscomp.generator.Context.prototype.jumpTo=function(a){this.nextAddress=a};$jscomp.generator.Context.prototype.jumpToEnd=function(){this.nextAddress=0};$jscomp.generator.Context.prototype.setCatchFinallyBlocks=function(a,b){this.catchAddress_=a;void 0!=b&&(this.finallyAddress_=b)};$jscomp.generator.Context.prototype.setFinallyBlock=function(a){this.catchAddress_=0;this.finallyAddress_=a||0};$jscomp.generator.Context.prototype.leaveTryBlock=function(a,b){this.nextAddress=a;this.catchAddress_=b||0};
$jscomp.generator.Context.prototype.enterCatchBlock=function(a){this.catchAddress_=a||0;a=this.abruptCompletion_.exception;this.abruptCompletion_=null;return a};$jscomp.generator.Context.prototype.enterFinallyBlock=function(a,b,c){c?this.finallyContexts_[c]=this.abruptCompletion_:this.finallyContexts_=[this.abruptCompletion_];this.catchAddress_=a||0;this.finallyAddress_=b||0};
$jscomp.generator.Context.prototype.leaveFinallyBlock=function(a,b){b=this.finallyContexts_.splice(b||0)[0];if(b=this.abruptCompletion_=this.abruptCompletion_||b){if(b.isException)return this.jumpToErrorHandler_();void 0!=b.jumpTo&&this.finallyAddress_<b.jumpTo?(this.nextAddress=b.jumpTo,this.abruptCompletion_=null):this.nextAddress=this.finallyAddress_}else this.nextAddress=a};$jscomp.generator.Context.prototype.forIn=function(a){return new $jscomp.generator.Context.PropertyIterator(a)};
$jscomp.generator.Context.PropertyIterator=function(a){this.object_=a;this.properties_=[];for(var b in a)this.properties_.push(b);this.properties_.reverse()};$jscomp.generator.Context.PropertyIterator.prototype.getNext=function(){for(;0<this.properties_.length;){var a=this.properties_.pop();if(a in this.object_)return a}return null};$jscomp.generator.Engine_=function(a){this.context_=new $jscomp.generator.Context;this.program_=a};
$jscomp.generator.Engine_.prototype.next_=function(a){this.context_.start_();if(this.context_.yieldAllIterator_)return this.yieldAllStep_(this.context_.yieldAllIterator_.next,a,this.context_.next_);this.context_.next_(a);return this.nextStep_()};
$jscomp.generator.Engine_.prototype.return_=function(a){this.context_.start_();var b=this.context_.yieldAllIterator_;if(b)return this.yieldAllStep_("return"in b?b["return"]:function(c){return{value:c,done:!0}},a,this.context_.return);this.context_.return(a);return this.nextStep_()};
$jscomp.generator.Engine_.prototype.throw_=function(a){this.context_.start_();if(this.context_.yieldAllIterator_)return this.yieldAllStep_(this.context_.yieldAllIterator_["throw"],a,this.context_.next_);this.context_.throw_(a);return this.nextStep_()};
$jscomp.generator.Engine_.prototype.yieldAllStep_=function(a,b,c){try{var e=a.call(this.context_.yieldAllIterator_,b);$jscomp.generator.ensureIteratorResultIsObject_(e);if(!e.done)return this.context_.stop_(),e;var d=e.value}catch(f){return this.context_.yieldAllIterator_=null,this.context_.throw_(f),this.nextStep_()}this.context_.yieldAllIterator_=null;c.call(this.context_,d);return this.nextStep_()};
$jscomp.generator.Engine_.prototype.nextStep_=function(){for(;this.context_.nextAddress;)try{var a=this.program_(this.context_);if(a)return this.context_.stop_(),{value:a.value,done:!1}}catch(b){this.context_.yieldResult=void 0,this.context_.throw_(b)}this.context_.stop_();if(this.context_.abruptCompletion_){a=this.context_.abruptCompletion_;this.context_.abruptCompletion_=null;if(a.isException)throw a.exception;return{value:a.return,done:!0}}return{value:void 0,done:!0}};
$jscomp.generator.Generator_=function(a){this.next=function(b){return a.next_(b)};this.throw=function(b){return a.throw_(b)};this.return=function(b){return a.return_(b)};this[Symbol.iterator]=function(){return this}};$jscomp.generator.createGenerator=function(a,b){b=new $jscomp.generator.Generator_(new $jscomp.generator.Engine_(b));$jscomp.setPrototypeOf&&a.prototype&&$jscomp.setPrototypeOf(b,a.prototype);return b};
$jscomp.asyncExecutePromiseGenerator=function(a){function b(e){return a.next(e)}function c(e){return a.throw(e)}return new Promise(function(e,d){function f(g){g.done?e(g.value):Promise.resolve(g.value).then(b,c).then(f,d)}f(a.next())})};$jscomp.asyncExecutePromiseGeneratorFunction=function(a){return $jscomp.asyncExecutePromiseGenerator(a())};$jscomp.asyncExecutePromiseGeneratorProgram=function(a){return $jscomp.asyncExecutePromiseGenerator(new $jscomp.generator.Generator_(new $jscomp.generator.Engine_(a)))};
$jscomp.initSymbol=function(){};$jscomp.polyfill("Symbol",function(a){if(a)return a;var b=function(f,g){this.$jscomp$symbol$id_=f;$jscomp.defineProperty(this,"description",{configurable:!0,writable:!0,value:g})};b.prototype.toString=function(){return this.$jscomp$symbol$id_};var c="jscomp_symbol_"+(1E9*Math.random()>>>0)+"_",e=0,d=function(f){if(this instanceof d)throw new TypeError("Symbol is not a constructor");return new b(c+(f||"")+"_"+e++,f)};return d},"es6","es3");
$jscomp.polyfill("Symbol.iterator",function(a){if(a)return a;a=Symbol("Symbol.iterator");for(var b="Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array".split(" "),c=0;c<b.length;c++){var e=$jscomp.global[b[c]];"function"===typeof e&&"function"!=typeof e.prototype[a]&&$jscomp.defineProperty(e.prototype,a,{configurable:!0,writable:!0,value:function(){return $jscomp.iteratorPrototype($jscomp.arrayIteratorImpl(this))}})}return a},"es6",
"es3");$jscomp.iteratorPrototype=function(a){a={next:a};a[Symbol.iterator]=function(){return this};return a};
$jscomp.polyfill("Promise",function(a){function b(){this.batch_=null}function c(g){return g instanceof d?g:new d(function(h,k){h(g)})}if(a&&(!($jscomp.FORCE_POLYFILL_PROMISE||$jscomp.FORCE_POLYFILL_PROMISE_WHEN_NO_UNHANDLED_REJECTION&&"undefined"===typeof $jscomp.global.PromiseRejectionEvent)||!$jscomp.global.Promise||-1===$jscomp.global.Promise.toString().indexOf("[native code]")))return a;b.prototype.asyncExecute=function(g){if(null==this.batch_){this.batch_=[];var h=this;this.asyncExecuteFunction(function(){h.executeBatch_()})}this.batch_.push(g)};
var e=$jscomp.global.setTimeout;b.prototype.asyncExecuteFunction=function(g){e(g,0)};b.prototype.executeBatch_=function(){for(;this.batch_&&this.batch_.length;){var g=this.batch_;this.batch_=[];for(var h=0;h<g.length;++h){var k=g[h];g[h]=null;try{k()}catch(l){this.asyncThrow_(l)}}}this.batch_=null};b.prototype.asyncThrow_=function(g){this.asyncExecuteFunction(function(){throw g;})};var d=function(g){this.state_=0;this.result_=void 0;this.onSettledCallbacks_=[];this.isRejectionHandled_=!1;var h=this.createResolveAndReject_();
try{g(h.resolve,h.reject)}catch(k){h.reject(k)}};d.prototype.createResolveAndReject_=function(){function g(l){return function(n){k||(k=!0,l.call(h,n))}}var h=this,k=!1;return{resolve:g(this.resolveTo_),reject:g(this.reject_)}};d.prototype.resolveTo_=function(g){if(g===this)this.reject_(new TypeError("A Promise cannot resolve to itself"));else if(g instanceof d)this.settleSameAsPromise_(g);else{a:switch(typeof g){case "object":var h=null!=g;break a;case "function":h=!0;break a;default:h=!1}h?this.resolveToNonPromiseObj_(g):
this.fulfill_(g)}};d.prototype.resolveToNonPromiseObj_=function(g){var h=void 0;try{h=g.then}catch(k){this.reject_(k);return}"function"==typeof h?this.settleSameAsThenable_(h,g):this.fulfill_(g)};d.prototype.reject_=function(g){this.settle_(2,g)};d.prototype.fulfill_=function(g){this.settle_(1,g)};d.prototype.settle_=function(g,h){if(0!=this.state_)throw Error("Cannot settle("+g+", "+h+"): Promise already settled in state"+this.state_);this.state_=g;this.result_=h;2===this.state_&&this.scheduleUnhandledRejectionCheck_();
this.executeOnSettledCallbacks_()};d.prototype.scheduleUnhandledRejectionCheck_=function(){var g=this;e(function(){if(g.notifyUnhandledRejection_()){var h=$jscomp.global.console;"undefined"!==typeof h&&h.error(g.result_)}},1)};d.prototype.notifyUnhandledRejection_=function(){if(this.isRejectionHandled_)return!1;var g=$jscomp.global.CustomEvent,h=$jscomp.global.Event,k=$jscomp.global.dispatchEvent;if("undefined"===typeof k)return!0;"function"===typeof g?g=new g("unhandledrejection",{cancelable:!0}):
"function"===typeof h?g=new h("unhandledrejection",{cancelable:!0}):(g=$jscomp.global.document.createEvent("CustomEvent"),g.initCustomEvent("unhandledrejection",!1,!0,g));g.promise=this;g.reason=this.result_;return k(g)};d.prototype.executeOnSettledCallbacks_=function(){if(null!=this.onSettledCallbacks_){for(var g=0;g<this.onSettledCallbacks_.length;++g)f.asyncExecute(this.onSettledCallbacks_[g]);this.onSettledCallbacks_=null}};var f=new b;d.prototype.settleSameAsPromise_=function(g){var h=this.createResolveAndReject_();
g.callWhenSettled_(h.resolve,h.reject)};d.prototype.settleSameAsThenable_=function(g,h){var k=this.createResolveAndReject_();try{g.call(h,k.resolve,k.reject)}catch(l){k.reject(l)}};d.prototype.then=function(g,h){function k(q,x){return"function"==typeof q?function(p){try{l(q(p))}catch(m){n(m)}}:x}var l,n,v=new d(function(q,x){l=q;n=x});this.callWhenSettled_(k(g,l),k(h,n));return v};d.prototype.catch=function(g){return this.then(void 0,g)};d.prototype.callWhenSettled_=function(g,h){function k(){switch(l.state_){case 1:g(l.result_);
break;case 2:h(l.result_);break;default:throw Error("Unexpected state: "+l.state_);}}var l=this;null==this.onSettledCallbacks_?f.asyncExecute(k):this.onSettledCallbacks_.push(k);this.isRejectionHandled_=!0};d.resolve=c;d.reject=function(g){return new d(function(h,k){k(g)})};d.race=function(g){return new d(function(h,k){for(var l=$jscomp.makeIterator(g),n=l.next();!n.done;n=l.next())c(n.value).callWhenSettled_(h,k)})};d.all=function(g){var h=$jscomp.makeIterator(g),k=h.next();return k.done?c([]):new d(function(l,
n){function v(p){return function(m){q[p]=m;x--;0==x&&l(q)}}var q=[],x=0;do q.push(void 0),x++,c(k.value).callWhenSettled_(v(q.length-1),n),k=h.next();while(!k.done)})};return d},"es6","es3");$jscomp.findInternal=function(a,b,c){a instanceof String&&(a=String(a));for(var e=a.length,d=0;d<e;d++){var f=a[d];if(b.call(c,f,d,a))return{i:d,v:f}}return{i:-1,v:void 0}};$jscomp.polyfill("Array.prototype.find",function(a){return a?a:function(b,c){return $jscomp.findInternal(this,b,c).v}},"es6","es3");
(function(){var a=[].indexOf||function(c){for(var e=0,d=this.length;e<d;e++)if(e in this&&this[e]===c)return e;return-1},b=[].slice;(function(c,e){return"function"===typeof define&&define.amd?define("waypoints",["jquery"],function(d){return e(d,c)}):e(c.jQuery,c)})(window,function(c,e){var d=c(e);var f=0<=a.call(e,"ontouchstart");var g={horizontal:{},vertical:{}};var h=1;var k={};var l=1;var n=function(){function p(m){var r=this;this.$element=m;this.element=m[0];this.didScroll=this.didResize=!1;this.id=
"context"+h++;this.oldScroll={x:m.scrollLeft(),y:m.scrollTop()};this.waypoints={horizontal:{},vertical:{}};this.element["waypoints-context-id"]=this.id;k[this.id]=this;m.bind("scroll.waypoints",function(){if(!r.didScroll&&!f)return r.didScroll=!0,e.setTimeout(function(){r.doScroll();return r.didScroll=!1},c.waypoints.settings.scrollThrottle)});m.bind("resize.waypoints",function(){if(!r.didResize)return r.didResize=!0,e.setTimeout(function(){c.waypoints("refresh");return r.didResize=!1},c.waypoints.settings.resizeThrottle)})}
p.prototype.doScroll=function(){var m=this;var r={horizontal:{newScroll:this.$element.scrollLeft(),oldScroll:this.oldScroll.x,forward:"right",backward:"left"},vertical:{newScroll:this.$element.scrollTop(),oldScroll:this.oldScroll.y,forward:"down",backward:"up"}};!f||r.vertical.oldScroll&&r.vertical.newScroll||c.waypoints("refresh");c.each(r,function(u,w){var y;var t=[];var z=(y=w.newScroll>w.oldScroll)?w.forward:w.backward;c.each(m.waypoints[u],function(A,B){var C,D;if(w.oldScroll<(C=B.offset)&&C<=
w.newScroll||w.newScroll<(D=B.offset)&&D<=w.oldScroll)return t.push(B)});t.sort(function(A,B){return A.offset-B.offset});y||t.reverse();return c.each(t,function(A,B){if(B.options.continuous||A===t.length-1)return B.trigger([z])})});return this.oldScroll={x:r.horizontal.newScroll,y:r.vertical.newScroll}};p.prototype.refresh=function(){var m=this;var r=c.isWindow(this.element);var u=this.$element.offset();this.doScroll();u={horizontal:{contextOffset:r?0:u.left,contextScroll:r?0:this.oldScroll.x,contextDimension:this.$element.width(),
oldScroll:this.oldScroll.x,forward:"right",backward:"left",offsetProp:"left"},vertical:{contextOffset:r?0:u.top,contextScroll:r?0:this.oldScroll.y,contextDimension:r?c.waypoints("viewportHeight"):this.$element.height(),oldScroll:this.oldScroll.y,forward:"down",backward:"up",offsetProp:"top"}};return c.each(u,function(w,y){return c.each(m.waypoints[w],function(t,z){var A,B;t=z.options.offset;var C=z.offset;var D=c.isWindow(z.element)?0:z.$element.offset()[y.offsetProp];c.isFunction(t)?t=t.apply(z.element):
"string"===typeof t&&(t=parseFloat(t),-1<z.options.offset.indexOf("%")&&(t=Math.ceil(y.contextDimension*t/100)));z.offset=D-y.contextOffset+y.contextScroll-t;if((!z.options.onlyOnScroll||null==C)&&z.enabled){if(null!==C&&C<(A=y.oldScroll)&&A<=z.offset)return z.trigger([y.backward]);if(null!==C&&C>(B=y.oldScroll)&&B>=z.offset||null===C&&y.oldScroll>=z.offset)return z.trigger([y.forward])}})})};p.prototype.checkEmpty=function(){if(c.isEmptyObject(this.waypoints.horizontal)&&c.isEmptyObject(this.waypoints.vertical))return this.$element.unbind("resize.waypoints scroll.waypoints"),
delete k[this.id]};return p}();var v=function(){function p(m,r,u){var w;"bottom-in-view"===u.offset&&(u.offset=function(){var y=c.waypoints("viewportHeight");c.isWindow(r.element)||(y=r.$element.height());return y-c(this).outerHeight()});this.$element=m;this.element=m[0];this.axis=u.horizontal?"horizontal":"vertical";this.callback=u.handler;this.context=r;this.enabled=u.enabled;this.id="waypoints"+l++;this.offset=null;this.options=u;r.waypoints[this.axis][this.id]=this;g[this.axis][this.id]=this;
m=null!=(w=this.element["waypoints-waypoint-ids"])?w:[];m.push(this.id);this.element["waypoints-waypoint-ids"]=m}p.prototype.trigger=function(m){if(this.enabled&&(null!=this.callback&&this.callback.apply(this.element,m),this.options.triggerOnce))return this.destroy()};p.prototype.disable=function(){return this.enabled=!1};p.prototype.enable=function(){this.context.refresh();return this.enabled=!0};p.prototype.destroy=function(){delete g[this.axis][this.id];delete this.context.waypoints[this.axis][this.id];
return this.context.checkEmpty()};p.getWaypointsByElement=function(m){m=m["waypoints-waypoint-ids"];if(!m)return[];var r=c.extend({},g.horizontal,g.vertical);return c.map(m,function(u){return r[u]})};return p}();var q={init:function(p,m){m=c.extend({},c.fn.waypoint.defaults,m);null==m.handler&&(m.handler=p);this.each(function(){var r;var u=c(this);var w=null!=(r=m.context)?r:c.fn.waypoint.defaults.context;c.isWindow(w)||(w=u.closest(w));w=c(w);(r=k[w[0]["waypoints-context-id"]])||(r=new n(w));return new v(u,
r,m)});c.waypoints("refresh");return this},disable:function(){return q._invoke.call(this,"disable")},enable:function(){return q._invoke.call(this,"enable")},destroy:function(){return q._invoke.call(this,"destroy")},prev:function(p,m){return q._traverse.call(this,p,m,function(r,u,w){if(0<u)return r.push(w[u-1])})},next:function(p,m){return q._traverse.call(this,p,m,function(r,u,w){if(u<w.length-1)return r.push(w[u+1])})},_traverse:function(p,m,r){null==p&&(p="vertical");null==m&&(m=e);var u=x.aggregate(m);
var w=[];this.each(function(){var y=c.inArray(this,u[p]);return r(w,y,u[p])});return this.pushStack(w)},_invoke:function(p){this.each(function(){var m=v.getWaypointsByElement(this);return c.each(m,function(r,u){u[p]();return!0})});return this}};c.fn.waypoint=function(){var p=arguments[0];var m=2<=arguments.length?b.call(arguments,1):[];return q[p]?q[p].apply(this,m):c.isFunction(p)?q.init.apply(this,arguments):c.isPlainObject(p)?q.init.apply(this,[null,p]):p?c.error("The "+p+" method does not exist in jQuery Waypoints."):
c.error("jQuery Waypoints needs a callback function or handler option.")};c.fn.waypoint.defaults={context:e,continuous:!0,enabled:!0,horizontal:!1,offset:0,triggerOnce:!1};var x={refresh:function(){return c.each(k,function(p,m){return m.refresh()})},viewportHeight:function(){var p;return null!=(p=e.innerHeight)?p:d.height()},aggregate:function(p){var m;var r=g;p&&(r=null!=(m=k[c(p)[0]["waypoints-context-id"]])?m.waypoints:void 0);if(!r)return[];var u={horizontal:[],vertical:[]};c.each(u,function(w,
y){c.each(r[w],function(t,z){return y.push(z)});y.sort(function(t,z){return t.offset-z.offset});u[w]=c.map(y,function(t){return t.element});return u[w]=c.unique(u[w])});return u},above:function(p){null==p&&(p=e);return x._filter(p,"vertical",function(m,r){return r.offset<=m.oldScroll.y})},below:function(p){null==p&&(p=e);return x._filter(p,"vertical",function(m,r){return r.offset>m.oldScroll.y})},left:function(p){null==p&&(p=e);return x._filter(p,"horizontal",function(m,r){return r.offset<=m.oldScroll.x})},
right:function(p){null==p&&(p=e);return x._filter(p,"horizontal",function(m,r){return r.offset>m.oldScroll.x})},enable:function(){return x._invoke("enable")},disable:function(){return x._invoke("disable")},destroy:function(){return x._invoke("destroy")},extendFn:function(p,m){return q[p]=m},_invoke:function(p){var m=c.extend({},g.vertical,g.horizontal);return c.each(m,function(r,u){u[p]();return!0})},_filter:function(p,m,r){var u=k[c(p)[0]["waypoints-context-id"]];if(!u)return[];var w=[];c.each(u.waypoints[m],
function(y,t){if(r(u,t))return w.push(t)});w.sort(function(y,t){return y.offset-t.offset});return c.map(w,function(y){return y.element})}};c.waypoints=function(){var p=arguments[0];var m=2<=arguments.length?b.call(arguments,1):[];return x[p]?x[p].apply(null,m):x.aggregate.call(null,p)};c.waypoints.settings={resizeThrottle:100,scrollThrottle:30};return d.on("load.waypoints",function(){return c.waypoints("refresh")})})}).call(this);/*
 Copyright (c) Tabelaofert Sp. z o.o. (https://tabelaofert.pl)
*/
(function(a){a.widget("to.cpc",{options:{onEvent:"click",dataKey:"cpc",timeout:750,setLocation:!0},defaults:{id:null,klient:null,label:null,www:null,ga:"CPC",hit:"INWESTYCJA-WWWCPC",tracklink:"Klient/{$klient}/Inwestycja/{$id}",location:function(b){return this.element.attr("href")}},_create:function(){this._initEvent();dev&&this._debug()},_debug:function(){var b=this._cpcGet();this._cpcCheck(b)||console.log("CPC:ERROR",b)},_initEvent:function(){var b=this;this.element.on(this.options.onEvent,function(c){var e=
b._cpcGet();if(b._cpcCheck(e))return b._cpcExec(e,1==a.event.fix(c).which)})},_cpcGet:function(){var b=a.extend({},this.defaults,this.element.data(this.options.dataKey)),c;for(c in b)"undefined"!=a.type(this.options[c])&&(b[c]=this.options[c]);for(c in b)a.isFunction(b[c])&&(b[c]=b[c].call(this,b));for(c in b)"string"==a.type(b[c])&&(b[c]=this._tplString(b[c],b));return b},_cpcCheck:function(b){for(var c in this.defaults)switch(a.type(b[c])){case "undefined":case "null":return!1;case "string":if(1>
b[c].length)return!1;break;case "number":if(0==b[c])return!1}return!0},_cpcExec:function(b,c){a.fn.hit(b.hit,b.id);GA.event(b.ga,b.label,b.tracklink);if(c)window.open(b.www,b.tracklink),this.options.setLocation&&window.setTimeout(function(){window.location=b.location},this.options.timeout);else return!0},_tplString:function(b,c){for(var e=/{\$(\w+)}/g,d;d=e.exec(b);)b=b.replace(d[0],c[d[1]]);return b}})})(jQuery);(function(a){var b={},c=[],e=null;a.widget("ui.autocomplete",a.ui.autocomplete,{options:{position:{my:"left top-0.5px"},getData:function(){return{}},select:function(d,f){f.item&&(f.item.value=f.item.value.replace("|"," "),a(this).autocompleter("select",d,f))},search:function(d,f){if(a(this).hasClass("readonly"))return!1},source:function(d,f){var g=a.proxy(this.options.getData,this)(),h=this.options.url+a.param(a.extend(g,{term:d.term}));if(h in b)e=d.term,c=this._filterResults(b[h]),f(b[h]),a(document).trigger("autocompleter:success");
else{this.xhr&&this.xhr.abort();var k=this;this.xhr=a.ajax({url:this.options.url,type:"POST",dataType:"json",data:g,success:function(l){b[h]=a.map(l,function(n){return a.extend(n,{value:n.lokalizacja})});e=d.term;c=k._filterResults(b[h]);f(b[h]);a(document).trigger("autocompleter:success")},error:function(l,n){"abort"!=n&&a(document).trigger("autocompleter:error")}})}}},select:function(d,f){"function"==typeof this.options.onSelect&&a.proxy(this.options.onSelect,this)(d,f);e=f.item.value;c=[]},getResults:function(){return c},
getTerm:function(){return e},_filterResults:function(d){for(var f=[],g=0;g<d.length;g++)"undefined"!=typeof d[g].value&&"reklama"!=d[g].rodzaj&&"wyszukane"!=d[g].rodzaj&&(d[g].value=d[g].value.replace("|"," "),f.push(d[g].lokalizacja));return f},_highlighter:{_accentMap:{a:"[a\u0105]",c:"[c\u0107]",e:"[e\u0119]",l:"[l\u0142]",n:"[n\u0144]",o:"[o\u00f3]",s:"[s\u015b]",z:"[z\u017a\u017c]","\u0105":"[a\u0105]","\u0107":"[c\u0107]","\u0119":"[e\u0119]","\u0142":"[l\u0142]","\u0144":"[n\u0144]","\u00f3":"[o\u00f3]",
"\u015b":"[s\u015b]","\u017a":"[z\u017a\u017c]","\u017c":"[z\u017a\u017c]"},_highlightPattern:null,_lastTerm:null,_highlightTerm:function(d,f){if(this._lastTerm!=f||null==this._highlightPattern){this._lastTerm=f;var g="";for(i=0;i<f.length;i++)g+=this._accentMap[f.charAt(i)]||f.charAt(i);try{this._highlightPattern=new RegExp("(^|||-)("+g+")","i")}catch(h){return d}}return d.replace("|"," ").replace(this._highlightPattern,"$1<strong>$2</strong>")},_highlightPartial:function(d,f){if(""==f)return d;
f=f.replace(/[-+^]/," ").split(" ");f.sort(function(n,v){return v.length-n.length});for(var g=0;g<f.length;g++){for(var h=f[g].trim(),k="",l=0;l<h.length;l++)k+=this._accentMap[h.charAt(l)]||h.charAt(l);k=k.replace(/[\(\)]/g,"");d=d.replace(new RegExp("(^| |-)("+k+")","gi"),"$1<strong>$2</strong>")}return d},_unaccent:function(d){d=d.replace("\u0105","a");d=d.replace("\u0107","c");d=d.replace("\u0119","e");d=d.replace("\u0142","l");d=d.replace("\u0144","n");d=d.replace("\u00f3","o");d=d.replace("\u015b",
"s");d=d.replace("\u017a","z");return d=d.replace("\u017c","z")}},_create:function(){this._super();0<this.element.parents("#oferty_alert_box").length&&this.menu.element.addClass("edycja-kryteriow")},_suggest:function(d){this._super(d);1024>a(window).width()&&(d=parseInt(this.menu.element.css("left"))+parseInt(this.menu.element.css("width"))-a(window).width(),0<d&&this.menu.element.css({left:parseInt(this.menu.element.css("left"))-d-5+"px"}));this.menu.element.find("li.reklama span.subtitle").css("width",
"auto");this.menu.element.scrollTop(0)},_close:function(d){this._super(d)},_value:function(){return this.valueMethod.apply(this.element,arguments)},_renderItem:function(d,f){return a("<li>").append(a("<a>").html(f.label)).appendTo(d)},_resizeMenu:function(){this._super();0==this.menu.element[0].childElementCount&&this.menu.element.hide()}})})(jQuery);(function(a){a.widget("to.autocompleter",a.ui.autocomplete,{options:{url:"/index-ng,ajax-autocompleter",minLength:0,delay:200,getData:function(){return this.element.closest("form").toserializeObject()},onSelect:function(b,c){var e=this;if("reklama"==c.item.rodzaj){b=c.item;var d=null;a(this.element).prop("disabled",!0).attr("name","reklama");a("body").hasClass("index-ng")?d="(strona g\u0142\u00f3wna)":a("body").hasClass("oferty-ng")?d="(lista)":a("body").hasClass("szczegoly-ng")&&(d="(szczeg\u00f3\u0142y)");
d&&GA.event("Autocompleter","Klikni\u0119cie "+d,b.tracklink);window.location.href=b.href}this.element.hasClass("autocomplete-lockable")&&this.lock();c.item.value&&(this.element.closest("form").off("submit.replacer"),this.element.val(c.item.value),this.element.attr("disable-autosubmit")||this.element.closest("form").submit(),window.setTimeout(function(){e.element.blur()},10));return!0}},lock:function(){var b=this;this.lastTerm=this.getTerm();this.element.addClass("readonly");this._close();this.element.on("keydown.autocomplete",
function(c){if(27==c.keyCode)b.element.focus(),b.element.val(b.lastTerm),b.element.off(c),b.search();else if(-1!==a.inArray(c.keyCode,[37,39,8,36,35,46]))b.unlock(),b.element.off(c);else return 13==c.keyCode?!0:!1});this.element.one("focus.autocomplete click.autocomplete",function(){b.element.off("keydown.autocomplete");b.unlock()})},unlock:function(){if(this.element.hasClass("readonly")){this.element.removeClass("readonly");this.element.trigger("autocompleteunlock");var b=this;this.lockedValue=this.element.val();
this.element.one("blur.autocomplete",function(){null!=b.lockedValue&&b.lockedValue==b.element.val()?b.lock():b.lockedValue=null})}},_create:function(){var b=this;this._super();this.menu.element.addClass("autocompleter");if(!this.element.attr("disable-x-button")){var c=this;if(!this.element.next().hasClass("ui-autocomplete-x")){var e=a('<span class="ui-autocomplete-x" title="wyczy\u015b\u0107"></span>').insertAfter(this.element);this.element.on({"init change focus blur keyup autocompleterclose":function(){var d=
b.element.val();e.toggleClass("hidden",!d||-1<[b.element.attr("placeholder"),b.element.data("placeholder")].indexOf(d))}}).trigger("init");e.on("click",function(){c.unlock();c.element.val("").focus()})}}},_wyswietlone:[],_renderItem:function(b,c){if("reklama"==c.rodzaj){if(a("body").hasClass("index-ng"))var e="(strona g\u0142\u00f3wna)";else if(a("body").hasClass("oferty-ng"))e="(lista)";else if(a("body").hasClass("szczegoly-ng"))e="(szczeg\u00f3\u0142y)";else return a('<li class="reklama"></li>');
-1==this._wyswietlone.indexOf(c.tracklink)&&(this._wyswietlone.push(c.tracklink),GA.event("Autocompleter","Ods\u0142ona "+e,c.tracklink));return a('<li class="reklama"></li>').prepend(a('<a href="'+c.href+'"></a>').html('<div class="reklama__container"><img class="main-image" src="'+c.wizualizacja+'"/><span class="all-reklama"><div class="header-reklama"><span class="title-inwestycja">'+c.inwestycjanazwa+'</span><span class="block-inline">'+this._highlighter._highlightTerm(c.lokalizacja,this._value())+
'</span></div><span class="info">POLECAMY</span></span><i class="icon icon-arrow-right"></i></div>')).appendTo(b)}return c.class?a('<li class="'+c.class+'"/></li>').click(c.click).data("item.autocomplete",c).append(a("<a></a>").html(this._highlighter._highlightPartial(c.lokalizacja,this._value())+(c.append||""))).appendTo(b):c.ico?a('<li class="ostatnio-szukane"></li>').data("item.autocomplete",c).append(a("<a></a>").html('<img src="'+c.ico+'">'+this._highlighter._highlightPartial(c.lokalizacja,this._value()))).appendTo(b):
this.element.hasClass("autocomplete-lockable")?a("<li></li>").data("item.autocomplete",c).append(a("<a></a>").html(this._highlighter._highlightPartial(c.lokalizacja,this._value()))).appendTo(b):a("<li></li>").data("item.autocomplete",c).append(a("<a></a>").html(this._highlighter._highlightTerm(c.lokalizacja,this._value())+("undefined"!=typeof c.liczbaOfert?' <span class="grey">('+c.liczbaOfert+")</span>":""))).appendTo(b)}})})(jQuery);(function(a){a.widget("to.autocompleterReplacer",{observing:!1,submitted:!1,lastValue:null,timeoutId:null,forcedSubmit:!1,options:{blurAutocomplete:!1},_create:function(){this._initFocus()},_autoFill:function(){var b=this.element.autocompleter("getTerm"),c=this.element.autocompleter("getResults");""!==b&&this._processResults(b,c)},_initFocus:function(){var b=this;this.element.focus(function(){b._initSubmit()});this.options.blurAutocomplete&&(this.element.blur(function(){b._autoFill()}),this.element.keypress(function(c){13===
c.keyCode&&b._autoFill()}))},_initSubmit:function(){var b=this,c=this.element;this.submitted=!1;c.closest("form").off("submit.replacer");c.closest("form").on("submit.replacer",function(){if(""!=c.val()&&!b.submitted){var e=c.autocompleter("getTerm");if(1!=b.forcedSubmit)if(b.lastValue==c.val())c.autocompleter("lock");else if(e==c.val()){var d=c.autocompleter("getResults");b._processResults(e,d)}else return c.addClass("loading"),a(document).one("autocompleter:success",function(){c.removeClass("loading");
clearTimeout(b.timeoutId);var f=c.autocompleter("getResults");b._processResults(e,f)&&c.closest("form").submit()}),a(document).one("autocompleter:error",function(){c.removeClass("loading")}),!1}return!0});this.observing=!0},_processResults:function(b,c){var e=this,d=this.element;if(0<c.length){if(c=e._getLastCorrectResult(b,c).replace("|"," "),d.val(c),d.hasClass("autocomplete-lockable"))return e.submitted=!0,e.lastValue=d.val(),d.autocompleter("lock"),d.one("autocompleteunlock",function(){e._initSubmit()}),
c==b?(e.submitted=!0,d.closest("form").off("submit.replacer"),!0):!1}else if(d.hasClass("readonly"))return d.autocompleter("lock"),!0;return!d.hasClass("autocomplete-lockable")},_getLastCorrectResult:function(b,c){for(var e=c[0],d=0;d<c.length;d++)if(-1<c[d].toLowerCase().indexOf(b.toLowerCase()))return c[d];return e},forceSubmit:function(){this.forcedSubmit=!0}})})(jQuery);(function(a){a.widget("to.specjalne",{version:"1",options:{},_create:function(){this._initLinks();this._initCarousel()},_initLinks:function(){this.element.find(".ng-specjalna a").click(function(){GA.event("Strona g\u0142\u00f3wna","Oferta specjalna",a(this).data("tracklink"))}).filter("[data-cpc]").cpc({label:"Oferta specjalna g\u0142\u00f3wna",id:function(){return this.element.data("tracklink").match(/\d+$/)[0]}})},_initCarousel:function(){var b=this.element.children("div:first-child");b.carouFredSel({scroll:"desktop"==
device?{fx:"crossfade",duration:800,pauseOnHover:!0}:{fx:"elastic",duration:200},auto:{timeoutDuration:7E3,play:debug?!1:!0},pagination:{container:"#ng_specjalne > div.paginator > ul",anchorBuilder:!1},items:{visible:1}});b.swipe({excludedElements:"button, input, select, textarea, .noSwipe",swipeLeft:function(){b.trigger("next",!0)},swipeRight:function(){b.trigger("prev",!0)}})}})})(jQuery);(function(a){a.widget("to.sugestie",function(){var b;return{version:"1",options:{},_create:function(){b=this;b._initBox()},_initBox:function(){b.element.find("#ng_sg_grabber").click(function(){a.colorbox({open:!0,height:"490px",href:"/sugestie,ajax-sugestie",onComplete:function(){var c=a("#sg_tip"),e=a("#sg_tekst"),d=a("#sg_dzial"),f=a("#sg_email"),g=a("#sg_submit"),h=a("#ng_sg_form"),k=!0;d.each(function(l,n){l=a(n);n=l.data("chosen-options")||{};n=a.extend({},{disable_search:!0,allow_single_deselect:!0,
no_results_text:"nie znaleziono"},n);l.chosen(n)});g.click(function(){if(k){var l={sg_tekst:e.val(),sg_dzial:a("#sg_dzial option:selected").text(),sg_email:f.val()},n=a("div.ng-sugestie a.chosen-single:eq(0)");a.ajax({url:"/sugestie,ajax-submit",data:l,type:"POST",beforeSend:function(){g.text("czekaj...");k=!1;h.fadeTo(300,.3)},success:function(v){var q="";if(v){v=a.parseJSON(v);var x=!1,p;for(p in v)switch(p){case "sg_email":f.addClass("error");x=!0;break;case "sg_tekst":e.addClass("error");x=!0;
break;case "sg_dzial":n.addClass("error").css("background-color","#ffeeee"),x=!0}x&&(q="Uzupe\u0142nij lub popraw zaznaczone pola!")}else q="Dzi\u0119kujemy! Twoja sugestia zosta\u0142a wys\u0142ana.",e.val(""),f.val("");h.fadeTo(300,1);g.text("Wy\u015blij");k=!0;c.css("visibility","visible").text(q)}})}});e.focus(function(){h.find('textarea[name="sg_tekst"]').removeClass("error")});f.focus(function(){h.find('input[name="sg_email"]').removeClass("error")});d.change(function(){a("div.ng-sugestie a.chosen-single:eq(0)").removeClass("error").css("background-color",
"#fff")})}})})}}}());a(function(){a("#ng_sg").sugestie()})})(jQuery);(function(a){a.widget("to.subskrypcjaAjax",function(){var b,c;return{version:"1",options:{action:"none",postData:{},fadeTime:600},_create:function(){b=this;c=this.options.postData},ajaxIndex:function(){a.post("/subskrypcja,ajax-index",c).done(function(e){a("#ng_sz_alert_box").css({display:"block",opacity:0}).html(e).fadeTo(b.options.fadeTime,1).find("form.subskrypcja").subskrypcja();767<screen.width&&0<a("#ng_sz_alert_box:has(.subskrypcja-kryteria-tlo)").length&&a("#ng_sz_alert_box").css({"max-width":"570px",
width:"570px","background-color":"#fff"});a("#oferty_alert_box").show();a(".overlay-alert").show();b._subskrypcjaEvents("newStyle");b._buttonClose()})},ajaxKryteria:function(){var e=a("input#wyszukiwanie").val(),d=a("#email").val();a.ajax({url:"/subskrypcja,ajax-edycja-kryteriow?subscriptionParams="+e,data:e,success:function(f){var g=a("#ng_sz_alert_box"),h=a("<div/>",{class:"alert-box-overflow",style:"height: "+(a(window).height()-80)+"px;"});h.html(a.trim(f));h.append(a("<div/>",{class:"fclear"}));
"phone"!==device?g.html(h).css({display:"block",width:"752px","background-color":"#fff","max-width":"752px"}):(g.html(h).css({display:"block","background-color":"#fff"}),g.css({position:"fixed",top:"0px",height:a(window).height()}));f=a("<div/>",{id:"box_buttons_action"});h=a("<a/>",{class:"btn big"}).text("Zapisz");var k=a("<a/>",{class:"btn big btn-close"}).text("Anuluj");f.append(k);f.append(h);g.append(f);f.addClass("active");a(".part-akcje, .button-anuluj").hide();h.click(function(){g.find(".button-submit").click()});
k.click(function(){g.find(".button-anuluj").click()});f=a("#ng_sz_alert_box form.kryteria");f.wyszukiwarka({submit:{auto:!1,mask:!1},counter:!1,reklama:!1});a("#hidden-email").val(d);f=a("#ng_sz_alert_box form.kryteria");f.ajaxForm({success:function(l){var n=a("#hidden-email").val();"phone"!==device?g.html(a.trim(l)).css({display:"block",width:"650px"}):g.html(a.trim(l)).css({display:"block"});a("form.subskrypcja").subskrypcja();a("#email").val(n);b._boxPosition();b._buttonClose()}});b._buttonCloseKryteria();
b._clickOutside();a(".ui-multiselect-menu").click(function(l){});b._boxPosition()}})},_buttonCloseKryteria:function(){a("#oferty_alert_box").find("#ng_sz_close_kryteria, .button-anuluj").on("click",function(){var e=a.parseJSON(a("#cancel_params").val()),d=a("#hidden-email").val();a.ajax({url:"/subskrypcja,ajax-index?cancel=true",data:e,success:function(f){"phone"!==device?a("#ng_sz_alert_box").html(a.trim(f)).css({display:"block",width:"650px"}):a("#ng_sz_alert_box").html(a.trim(f)).css({display:"block"});
a("form.subskrypcja").subskrypcja();a("#email").val(d);b._boxPosition();b._buttonClose()}})})},_buttonClose:function(){a("#oferty_alert_box").find("#ng_sz_close,.overlay-alert").on("click",function(e){a("#ng_sz_alert_box, #ng_sz_alert_box.zapamietane-alert").fadeOut();a(".ng-topmenu-bar").removeAttr("style");a(".overlay-alert").fadeOut();a(".alert-box-background").fadeOut();b._subskrypcjaEvents();a("body").hasClass("szczegoly-ng")&&a("#fb_likebar, .ng-billboard, .ng-billboard-tablet, .ng-sz-floating.floating-header").css({visibility:"visible"})})},
_clickOutside:function(){},_background:function(e){"remove"==e&&a(".alert-box-background").remove();if(0!=a(".alert-box-background").length)return!1;a(e).before('<div class="alert-box-background"></div>');a(window).on("resize alertBoxBg",function(){var d=a(window).width(),f=a(window).height();a(".alert-box-background").css({width:d+"px",height:f+"px",display:"block"})});a(window).trigger("alertBoxBg");a(".alert-box-background").one("click tap",function(d){d.stopPropagation();b._subskrypcjaEvents();
a("#oferty_alert_box #ng_sz_close").click();a("#ng_sz_alert_box").fadeOut();a(".alert-box-background").remove()})},_boxPosition:function(){"tablet"!=window.device&&"phone"!=window.device||a("body").hasClass("oferty-ng")||a("body").hasClass("mapa")||(a(window).on("resize alertBoxPos",function(){var f="center center",g="center center";a("#ng_sz_alert_box").height()>a(window).height()&&(f="center top+20",g="center top");a("#ng_sz_alert_box").position({of:a(window),my:f,at:g})}),a(window).trigger("alertBoxPos"));
if(a("body").hasClass("oferty-ng")){var e=a(window).height(),d=0;"phone"!=window.device&&(d=40);a("#ng_sz_alert_box").css({"max-height":e-d+"px"}).position({of:a(window),my:"center center",at:"center center"})}a("body").hasClass("szczegoly-ng")&&a("#ng_sz_alert_box").position({of:a(window),my:"center center",at:"center center"})},_subskrypcjaEvents:function(e){"newStyle"!=e&&(e="");a("body").hasClass("index-ng")?("newStyle"==e?a(".ng-topmenu-bar, #ng_sg, #ng_google, #ng_fb").css({"z-index":"140"}):
a(".ng-topmenu-bar, #ng_sg, #ng_google, #ng_fb").css({"z-index":""}),a("html").hasClass("tablet")&&b._boxPosition()):a("body").hasClass("oferty-ng")?"newStyle"==e&&b._boxPosition():a("body").hasClass("szczegoly-ng")&&("newStyle"==e?(b._boxPosition(),a("#fb_likebar, .do-gory").css({"z-index":"140"})):a("#fb_likebar, .do-gory").css({"z-index":""}))}}}())})(jQuery);(function(a){a.widget("to.subskrypcja",{options:{},_create:function(){this._initForm();this._initZmienKryteria()},_initForm:function(){var b=this;b.element.find("input[data-placeholder]").inputHints();b.element.wiecej().validator().ajaxForm({success:function(c){c=a(a.trim(c));a(".subskrypcja").replaceWith(c);c.subskrypcja();a(window).trigger("resize");c.find(".error .errors > li").addClass("pulsate")},error:function(){}}).find(".submit").click(function(){a(this).hasClass("locked")||b.element.submit()})},
_initZmienKryteria:function(){a("#zmien").on("click",function(){var b=a(".alert-nowe-oferty:first");b.subskrypcjaAjax({action:"wszystko"});b.subskrypcjaAjax("ajaxKryteria")})},_initZmienKryteriaForm:function(){a("#ng_sz_alert_box form.kryteria").ajaxForm({success:function(b){var c=a("#hidden-email").val();"phone"!==device?a("#ng_sz_alert_box").html(a.trim(b)).css({display:"block",width:"650px"}):a("#ng_sz_alert_box").html(a.trim(b)).css({display:"block"});a("form.subskrypcja").subskrypcja();a("#email").val(c)}})}})})(jQuery);(function(a){a.widget("to.core",a.to.core,function(){var b;return{_create:function(){b=this;this._super();this._submitForm();this._selectInput();a(".jak-negocjowac-test").click(function(){b._selectInput()})},_submitForm:function(){var c=a("body").find(".jn-form");c.validator();c.wiecej();c.ajaxForm({beforeSubmit:function(){c.fadeTo(300,.5).find("#jn_submit").addClass("locked");c.fadeTo(300,.5).find("#jn_submit span").text("CZEKAJ...")},success:function(e){c.fadeTo(300,1).find("#jn_submit").removeClass("locked");
c.fadeTo(300,1).find("#jn_submit span").text("POBIERZ");e=e.replace(/>\s+</g,"><");e=a(a.trim(e)).fadeTo(1,.5);c.replaceWith(e.fadeTo(300,1));0<a("body").find("#jn_submit").length?("FORM"===e[0].tagName.toUpperCase()&&b._submitForm(),b._selectInput(),b.element.find("input[data-placeholder]").inputHints(),e.find(".errors > li").addClass("pulsate")):(a("#adres_email").text(b.email),a(".text1, .text2").css({visibility:"hidden"}),GA.event("E-Book","Pobranie E-Book","E-Book: Jak negocjowa\u0107 cen\u0119 mieszkania 2016"),
window._fbq=window._fbq||[],_fbq.push(["track","Lead"]));a("#colorbox").is(":visible")&&a("#colorbox").find("#jn_dziekujemy").text("Dzi\u0119kujemy")},error:function(){c.fadeTo(300,1).find("#jn_submit").removeClass("locked")}}).find("#jn_submit").click(function(){a(this).hasClass("locked")||(b.email=a(".jn-form #email").val(),a(this).closest("form").submit())})},_selectInput:function(){if("desktop"==window.device){var c={disable_search:!0,allow_single_deselect:!0,max_selected_options:0,display_selected_options:!1};
a("#colorbox").is(":visible")?a("#colorbox").find("#wojewodztwo").chosen(c):a("#wojewodztwo").chosen(c)}a("#wojewodztwo").on("change",function(){var e=a("option:checked",this).text();a("#label").val(e);e=a("option:checked",this).val();a(this).parent().find(".errors").length&&("_none"!=e?a(this).parent().find(".errors").fadeOut():a(this).parent().find(".errors").fadeIn());a(this).parent().find(".active-result").removeClass("result-selected");a(this).find(".active-result").removeClass("highlighted");
a(this).parent().find('.active-result[data-option-array-index="'+e+'"]').addClass("result-selected")});a(".chosen-container").click(function(){a("#wojewodztwo_chosen .result-selected").removeClass("result-selected").removeClass("highlighted");var e=a("#wojewodztwo_chosen .chosen-single > span").text();a("#wojewodztwo_chosen .chosen-drop .chosen-results li").each(function(){a(this).text()===e&&a(this).addClass("result-selected").addClass("highlighted").addClass("selected")})})},_dontTouch:null}}())})(jQuery);(function(a,b){var c=0,e=a(document);a.widget("ech.multiselect",{options:{header:!0,height:175,minWidth:225,classes:"",checkAllText:"Check all",uncheckAllText:"Uncheck all",noneSelectedText:"Select options",selectedText:"# selected",selectedList:0,show:null,hide:null,autoOpen:!1,multiple:!0,position:{},appendTo:"body"},_create:function(){var d=this.element.hide(),f=this.options;this.speed=a.fx.speeds._default;this._isOpen=!1;this._namespaceID=this.eventNamespace||"multiselect"+c;d=(this.button=a('<button type="button"><span class="ui-icon ui-icon-triangle-1-s"></span></button>')).addClass("ui-multiselect ui-widget ui-state-default ui-corner-all").addClass(f.classes).attr({title:d.attr("title"),
"aria-haspopup":!0,tabIndex:d.attr("tabIndex")}).insertAfter(d);(this.buttonlabel=a("<span />")).html(f.noneSelectedText).appendTo(d);d=(this.menu=a("<div />")).addClass("ui-multiselect-menu ui-widget ui-widget-content ui-corner-all").addClass(f.classes).appendTo(a(f.appendTo));var g=(this.header=a("<div />")).addClass("ui-widget-header ui-corner-all ui-multiselect-header ui-helper-clearfix").appendTo(d);(this.headerLinkContainer=a("<ul />")).addClass("ui-helper-reset").html(function(){return!0===
f.header?'<li><a class="ui-multiselect-all" href="#"><span class="ui-icon ui-icon-check"></span><span>'+f.checkAllText+'</span></a></li><li><a class="ui-multiselect-none" href="#"><span class="ui-icon ui-icon-closethick"></span><span>'+f.uncheckAllText+"</span></a></li>":"string"===typeof f.header?"<li>"+f.header+"</li>":""}).append('<li class="ui-multiselect-close"><a href="#" class="ui-multiselect-close"><span class="ui-icon ui-icon-circle-close"></span></a></li>').appendTo(g);(this.checkboxContainer=
a("<ul />")).addClass("ui-multiselect-checkboxes ui-helper-reset").appendTo(d);this._bindEvents();this.refresh(!0);f.multiple||d.addClass("ui-multiselect-single");c++},_init:function(){!1===this.options.header&&this.header.hide();this.options.multiple||this.headerLinkContainer.find(".ui-multiselect-all, .ui-multiselect-none").hide();this.options.autoOpen&&this.open();this.element.is(":disabled")&&this.disable()},refresh:function(d){var f=this.element,g=this.options,h=this.menu,k=this.checkboxContainer,
l=[],n="",v=f.attr("id")||c++;f.find("option").each(function(q){a(this);var x=this.parentNode,p=this.innerHTML,m=this.title,r=this.value;q="ui-multiselect-"+(this.id||v+"-option-"+q);var u=this.disabled,w=this.selected,y=["ui-corner-all"],t=(u?"ui-multiselect-disabled ":" ")+this.className;if("OPTGROUP"===x.tagName){var z=x.getAttribute("label");-1===a.inArray(z,l)&&(n+='<li class="ui-multiselect-optgroup-label '+x.className+'"><a href="#">'+z+"</a></li>",l.push(z))}u&&y.push("ui-state-disabled");
w&&!g.multiple&&y.push("ui-state-active");n+='<li class="'+t+'">';n+='<label for="'+q+'" title="'+m+'" class="'+y.join(" ")+'">';n+='<input id="'+q+'" name="multiselect_'+v+'" type="'+(g.multiple?"checkbox":"radio")+'" value="'+r+'" title="'+m+'"';w&&(n+=' checked="checked"',n+=' aria-selected="true"');u&&(n+=' disabled="disabled"',n+=' aria-disabled="true"');n+=" /><span>"+p+"</span></label></li>"});k.html(n);this.labels=h.find("label");this.inputs=this.labels.children("input");this._setButtonWidth();
this._setMenuWidth();this.button[0].defaultValue=this.update();d||this._trigger("refresh")},update:function(){var d=this.options,f=this.inputs,g=f.filter(":checked"),h=g.length;d=0===h?d.noneSelectedText:a.isFunction(d.selectedText)?d.selectedText.call(this,h,f.length,g.get()):/\d/.test(d.selectedList)&&0<d.selectedList&&h<=d.selectedList?g.map(function(){return a(this).next().html()}).get().join(", "):d.selectedText.replace("#",h).replace("#",f.length);this._setButtonValue(d);return d},_setButtonValue:function(d){this.buttonlabel.text(d)},
_bindEvents:function(){function d(){f[f._isOpen?"close":"open"]();return!1}var f=this,g=this.button;g.find("span").bind("click.multiselect",d);g.bind({click:d,keypress:function(h){switch(h.which){case 27:case 38:case 37:f.close();break;case 39:case 40:f.open()}},mouseenter:function(){g.hasClass("ui-state-disabled")||a(this).addClass("ui-state-hover")},mouseleave:function(){a(this).removeClass("ui-state-hover")},focus:function(){g.hasClass("ui-state-disabled")||a(this).addClass("ui-state-focus")},
blur:function(){a(this).removeClass("ui-state-focus")}});this.header.delegate("a","click.multiselect",function(h){if(a(this).hasClass("ui-multiselect-close"))f.close();else f[a(this).hasClass("ui-multiselect-all")?"checkAll":"uncheckAll"]();h.preventDefault()});this.menu.delegate("li.ui-multiselect-optgroup-label a","click.multiselect",function(h){h.preventDefault();var k=a(this),l=k.parent().nextUntil("li.ui-multiselect-optgroup-label").find("input:visible:not(:disabled)"),n=l.get();k=k.parent().text();
!1!==f._trigger("beforeoptgrouptoggle",h,{inputs:n,label:k})&&(f._toggleChecked(l.filter(":checked").length!==l.length,l),f._trigger("optgrouptoggle",h,{inputs:n,label:k,checked:n[0].checked}))}).delegate("label","mouseenter.multiselect",function(){a(this).hasClass("ui-state-disabled")||(f.labels.removeClass("ui-state-hover"),a(this).addClass("ui-state-hover").find("input").focus())}).delegate("label","keydown.multiselect",function(h){h.preventDefault();switch(h.which){case 9:case 27:f.close();break;
case 38:case 40:case 37:case 39:f._traverse(h.which,this);break;case 13:a(this).find("input")[0].click()}}).delegate('input[type="checkbox"], input[type="radio"]',"click.multiselect",function(h){var k=a(this),l=this.value,n=this.checked,v=f.element.find("option");this.disabled||!1===f._trigger("click",h,{value:l,text:this.title,checked:n})?h.preventDefault():(k.focus(),k.attr("aria-selected",n),v.each(function(){this.value===l?this.selected=n:f.options.multiple||(this.selected=!1)}),f.options.multiple||
(f.labels.removeClass("ui-state-active"),k.closest("label").toggleClass("ui-state-active",n),f.close()),f.element.trigger("change"),setTimeout(a.proxy(f.update,f),10))});e.bind("mousedown."+this._namespaceID,function(h){h=h.target;!f._isOpen||h===f.button[0]||h===f.menu[0]||a.contains(f.menu[0],h)||a.contains(f.button[0],h)||f.close()});a(this.element[0].form).bind("reset.multiselect",function(){setTimeout(a.proxy(f.refresh,f),10)})},_setButtonWidth:function(){var d=this.element.outerWidth(),f=this.options;
/\d/.test(f.minWidth)&&d<f.minWidth&&(d=f.minWidth);this.button.outerWidth(d)},_setMenuWidth:function(){this.menu.outerWidth(this.button.outerWidth())},_traverse:function(d,f){f=a(f);d=38===d||37===d;f=f.parent()[d?"prevAll":"nextAll"]("li:not(.ui-multiselect-disabled, .ui-multiselect-optgroup-label)").first();f.length?f.find("label").trigger("mouseover"):(f=this.menu.find("ul").last(),this.menu.find("label")[d?"last":"first"]().trigger("mouseover"),f.scrollTop(d?f.height():0))},_toggleState:function(d,
f){return function(){this.disabled||(this[d]=f);f?this.setAttribute("aria-selected",!0):this.removeAttribute("aria-selected")}},_toggleChecked:function(d,f){f=f&&f.length?f:this.inputs;var g=this;f.each(this._toggleState("checked",d));f.eq(0).focus();this.update();var h=f.map(function(){return this.value}).get();this.element.find("option").each(function(){!this.disabled&&-1<a.inArray(this.value,h)&&g._toggleState("selected",d).call(this)});f.length&&this.element.trigger("change")},_toggleDisabled:function(d){this.button.attr({disabled:d,
"aria-disabled":d})[d?"addClass":"removeClass"]("ui-state-disabled");var f=this.menu.find("input");f=d?f.filter(":enabled").data("ech-multiselect-disabled",!0):f.filter(function(){return!0===a.data(this,"ech-multiselect-disabled")}).removeData("ech-multiselect-disabled");f.attr({disabled:d,"arial-disabled":d}).parent()[d?"addClass":"removeClass"]("ui-state-disabled");this.element.attr({disabled:d,"aria-disabled":d})},open:function(d){d=this.button;var f=this.menu,g=this.speed,h=this.options,k=[];
if(!1!==this._trigger("beforeopen")&&!d.hasClass("ui-state-disabled")&&!this._isOpen){var l=f.find("ul").last(),n=h.show;a.isArray(h.show)&&(n=h.show[0],g=h.show[1]||this.speed);n&&(k=[n,g]);l.scrollTop(0).height(h.height);this.position();a.fn.show.apply(f,k);this.labels.filter(":not(.ui-state-disabled)").eq(0).trigger("mouseover").trigger("mouseenter").find("input").trigger("focus");d.addClass("ui-state-active");this._isOpen=!0;this._trigger("open")}},close:function(){if(!1!==this._trigger("beforeclose")){var d=
this.options,f=d.hide,g=this.speed,h=[];a.isArray(d.hide)&&(f=d.hide[0],g=d.hide[1]||this.speed);f&&(h=[f,g]);a.fn.hide.apply(this.menu,h);this.button.removeClass("ui-state-active").trigger("blur").trigger("mouseleave");this._isOpen=!1;this._trigger("close")}},enable:function(){this._toggleDisabled(!1)},disable:function(){this._toggleDisabled(!0)},checkAll:function(d){this._toggleChecked(!0);this._trigger("checkAll")},uncheckAll:function(){this._toggleChecked(!1);this._trigger("uncheckAll")},getChecked:function(){return this.menu.find("input").filter(":checked")},
destroy:function(){a.Widget.prototype.destroy.call(this);e.unbind(this._namespaceID);this.button.remove();this.menu.remove();this.element.show();return this},isOpen:function(){return this._isOpen},widget:function(){return this.menu},getButton:function(){return this.button},position:function(){var d=this.options;a.ui.position&&!a.isEmptyObject(d.position)?(d.position.of=d.position.of||this.button,this.menu.show().position(d.position).hide()):(d=this.button.offset(),this.menu.css({top:d.top+this.button.outerHeight(),
left:d.left}))},_setOption:function(d,f){var g=this.menu;switch(d){case "header":g.find("div.ui-multiselect-header")[f?"show":"hide"]();break;case "checkAllText":g.find("a.ui-multiselect-all span").eq(-1).text(f);break;case "uncheckAllText":g.find("a.ui-multiselect-none span").eq(-1).text(f);break;case "height":g.find("ul").last().height(parseInt(f,10));break;case "minWidth":this.options[d]=parseInt(f,10);this._setButtonWidth();this._setMenuWidth();break;case "selectedText":case "selectedList":case "noneSelectedText":this.options[d]=
f;this.update();break;case "classes":g.add(this.button).removeClass(this.options.classes).addClass(f);break;case "multiple":g.toggleClass("ui-multiselect-single",!f);this.options.multiple=f;this.element[0].multiple=f;this.refresh();break;case "position":this.position()}a.Widget.prototype._setOption.apply(this,arguments)}})})(jQuery);(function(a){a.extend(a.ech.multiselect.prototype.options,{checkAllText:"Zaznacz wszystkie",uncheckAllText:"Odznacz wszystkie",noneSelectedText:"Wybierz opcje",selectedText:"Zaznaczono #"})})(jQuery);(function(a){a.widget("to.counter",{options:{url:"/wyszukiwarka,ajax-count",timeout:1E3,display:5E3,message:"licz\u0119 oferty..."},_create:function(){this._cache={};this._handler=null;this._counting=!1;this._autoHide=this._isActive=!0;this.value=this.element.find(".counter-value")},_set:function(b){var c=this;this.value.html(a.formatNumber(b,{format:"#,##0",locale:"pl"})+' <span class="value-label">ofert'+(1===b?"a":1<b&&5>b?"y":"")+"</span>");this._display=window.setTimeout(function(){c._autoHide&&
c._hide()},this.options.display)},_show:function(){this._handler&&a.trim(this.value.text())&&this.element.stop(!0,!1).css({display:"block"}).position({my:"center bottom",at:"center top-"+(40-parseInt(this.element.css("marginTop")))+"px",of:this._handler}).animate({marginTop:"30px",opacity:1},{duration:500})},_hide:function(){this.element.stop(!0,!1).animate({marginTop:"0px",opacity:0},{duration:500,complete:function(){a(this).css("display","none")}})},_stop:function(){this._timeout&&window.clearTimeout(this._timeout);
this._display&&window.clearTimeout(this._display);this._request&&this._request.abort()},handle:function(b){(this._handler=b)||this._hide();return this.element},count:function(b){if(this._isActive){var c=this;this._stop();this._cache[b]?(this._counting=!1,this._set(this._cache[b]),this._show()):(this._counting=!0,this._timeout=window.setTimeout(function(){c.value.html('<span class="value-label">'+c.options.message+"</span>");c._show();c._request=a.ajax({url:c.options.url,data:b,complete:function(){c._counting=
!1},success:function(e){e=Number(e);c._cache[b]=e;c._set(e)}})},this.options.timeout))}return this.element},show:function(){this._autoHide=!1;this._show();return this.element},hide:function(){this._autoHide=!0;this._counting||this._hide();return this.element},enable:function(){this._isActive=!0;return this.element},disable:function(){this._isActive=!1;this._stop();this._hide();return this.element}})})(jQuery);(function(a){a.widget("to.wyszukiwarka",{options:{submit:{mask:!0,ajax:!1,auto:!0},reload:{mask:!0,url:"/wyszukiwarka,ajax-reload",method:"post",target:"dynamiczne",confirmation:{title:"Jeste\u015b pewien?",message:"Zmiana tego parametru, spowoduje prze\u0142adowanie p\u00f3l formularza, przez co niekt\u00f3re wybrane przez Ciebie kryteria mog\u0105 zosta\u0107 zresetowane."}},counter:{},fieldsPrefix:"id, element, group, part",changeEventDelay:1E3,onCreate:function(){},onReload:function(){},onChange:function(b,
c,e){},onInit:function(){},reklama:!0},_cenyLabel:"dowolna",_cenySprzedazDefault:[1E5,15E4,2E5,25E4,3E5,35E4,4E5,45E4,5E5,6E5],_cenySprzedazMieszkania:[2E5,25E4,3E5,35E4,4E5,45E4,5E5,55E4,6E5,7E5,8E5],_cenySprzedazDomy:[1E5,2E5,3E5,4E5,45E4,5E5,6E5,7E5,8E5,1E6],_cenyWynajemDefault:[500,750,1E3,1500,2E3,2500,3E3,4E3,5E3,6E3],_wynajemMetrazDropdown:[],_cenyMkwMieszkanieOd:[3500,4E3,4500,5E3,5500,6E3,6500,7E3,7500,8E3,8500,9E3,1E4,11E3],_cenyMkwMieszkanieDo:[4E3,4500,5E3,5500,6E3,6500,7E3,7500,8E3,8500,
9E3,1E4,11E3,12E3],_cenyMkwDom:[1E3,1500,2E3,2500,3E3,3500,4E3,4500,5E3],_cenyMkwDefault:[2500,3E3,3500,4E3,4500,5E3,5500,6E3,6500,7E3,7500,8E3,9E3,1E4],_pokojeLabel:"dowolne",_pokojeMieszkanie:[1,2,3,4,5,6],_pokojePozostale:[1,2,3,4,5,6],_powierzchniaLabel:"dowolna",_metrazLabel:"dowolny",_metrazMieszkanie:[25,30,40,45,50,55,60,70,80,100],_metrazDom:[50,100,120,150,200,250,300,400,500,1E3],_metrazInne:[50,100,150,200,300,500,1E3,5E3],_metrazMagazyn:[500,1E3,1500,2E3,3E3,5E3,1E4],_metrazDefault:[20,
25,30,35,40,45,50,55,60,65,70,75,80,85,90,95,100,110,120,150,200],_pietra:["parter",1,2,3,4,5,6,7,8,9,10],_create:function(b){this.typ=this._getTyp();this._initForm();this._initAttribs();this._initReloads();this._initChanges();this._initChoices();this._initRanges();this._initExtras();this._initAutocompleters();this._fixCore();this._searchMobile();this._propagation();this.options[b?"onReload":"onCreate"].call(this.element);this.options.onInit.call(this.element)},_getTyp:function(){return a('meta[name="oferta-typ"]').attr("content")},
_find:function(b,c){c||(c=this.options.fieldsPrefix);var e=[],d=[];a.each(b.split(","),function(){e.push(a.trim(this))});a.each(c.split(","),function(){d.push(a.trim(this))});b=[];c=0;for(var f=d.length;c<f;c++){var g="";switch(d[c]){case "id":g="#"+(this._formId?this._formId+"-":"");break;default:g="."+d[c]+"-"}b.push(g+e.join(", "+g))}return this.element.find(b.join(", "))},_findInputs:function(b){b=this._find(b);return 0<b.length?b.filter(":input").add(b.find(":input")):a([])},_name:function(b){var c=
b.attr("name");if(c)return this._nameDecode(c);c=b.attr("id");return this._formId?c.substr(this._formId.length+1):c},_nameEncode:function(b){return b},_nameDecode:function(b){var c=(new RegExp("^"+(this._formId?this._formId+"\\[":"")+"(\\w+)")).exec(b);return c&&1<c.length?c[1]:b},_serialize:function(){var b=this._getValues(),c=[],e;for(e in b)c.push(encodeURIComponent(e)+"="+encodeURIComponent(b[e]));return c.join("&").replace(/%20/g,"+")},_getHash:function(b){"undefined"===typeof b&&(b=this._serialize());
return a.hashVariable(b)},_getValues:function(){var b=this._getForm().toserializeObject();if(this._formId){var c={},e;for(e in b)c[this._nameDecode(e)]=b[e];return c}return b},_getForm:function(){return this.element.closest("form")},getValues:function(){return this._getValues()},_setValue:function(b,c){var e=this;this._findInputs(b).each(function(){e._inputValueSet(a(this),c)})},_setValues:function(b){for(var c in b)this._setValue(c,b[c])},_getCeny:function(b,c){if(b)switch(this.typ){case "mieszkanie":return"od"==
c?this._cenyMkwMieszkanieOd:this._cenyMkwMieszkanieDo;case "dom":return this._cenyMkwDom;default:return this._cenyMkwDefault}else{b=JSON.parse(JSON.stringify(this._cenySprzedazDefault));var e=JSON.parse(JSON.stringify(this._cenySprzedazMieszkania)),d=JSON.parse(JSON.stringify(this._cenySprzedazDomy)),f=JSON.parse(JSON.stringify(this._cenyWynajemDefault)),g=JSON.parse(JSON.stringify(this._cenyWynajemDefault));"do"===c?(b.splice(0,1),e.splice(0,1),d.splice(0,1),f.splice(0,1),g.splice(0,1)):(b=b.splice(0,
9),e=e.splice(0,10),d=d.splice(0,9),f=f.splice(0,9),g=g.splice(0,9));switch(this.cel){case "sprzedaz":return/^(mieszkanie)$/.test(this.typ)?e:/^(dom)$/.test(this.typ)?d:b;case "wynajem":return/^(mieszkanie)$/.test(this.typ)?f:/^(dom)$/.test(this.typ)?g:this._cenyWynajemDefault;default:if(this.typ_sprzedaz_mieszkanie)if(this.typ_wynajem_mieszkanie)if(0<=this.typ_sprzedaz.indexOf("mieszkanie")){if(-1==this.typ_wynajem.indexOf("mieszkanie"))return b}else return 0<=this.typ_wynajem.indexOf("mieszkanie")?
this._cenyWynajemDefault:b;else return e;else if(this.typ_wynajem_mieszkanie)return this._cenyWynajemDefault}}return[]},_getPokoje:function(){switch(this.typ){case "mieszkanie":return this._pokojeMieszkanie;default:return this._pokojePozostale}},_getMetraze:function(b,c){var e=JSON.parse(JSON.stringify(this._metrazMieszkanie)),d=JSON.parse(JSON.stringify(this._metrazDom));"od"===c&&(e=e.splice(0,9),d=d.splice(0,9));b||(b=this.typ);if(this.typy)switch(b){case "mieszkanie":return e;case "dom":return d;
case "biuro":case "uslugi":case "inne":return this._metrazInne;case "dzialka":case "magazyn":return this._metrazMagazyn;default:return this._metrazDefault}else if(this.typ_sprzedaz_mieszkanie)if(this.typ_wynajem_mieszkanie)if(0<=this.typ_sprzedaz.indexOf("mieszkanie")){if(-1==this.typ_wynajem.indexOf("mieszkanie"))return this._metrazDefault}else return 0<=this.typ_wynajem.indexOf("mieszkanie")?this._wynajemMetrazDropdown:this._metrazDefault;else return this._metrazDefault;else if(this.typ_wynajem_mieszkanie)return this._wynajemMetrazDropdown;
return[]},_getPietra:function(){return this._pietra},_fixCore:function(){this.element.find("input[data-placeholder]").each(function(){var b=a(this);if(b.data("inputHints")){var c=b.is(":focus");b.trigger("blur");c&&(b.focus(),b.trigger("click"))}else b.inputHints()})},_initForm:function(){var b=this,c=this.element.closest("form");if(!c.data("wyszukiwarka-init")&&(c.data("wyszukiwarka-init",!0),this.options.submit&&(c.on({submit:function(f){a(this).find(".element-lokalizacja").hasClass("readonly")&&
(b._status("Czekaj..."),b.options.submit.mask&&b._mask(!0),b._formCounter&&b._formCounter.counter("disable"))}}),this.options.submit.ajax))){var e=this._status();c.ajaxForm(a.extend({},b.options.submit.ajax,{success:function(){b._status(e);a.isFunction(b.options.submit.ajax.success)&&b.options.submit.ajax.success.apply(this,arguments)},error:function(){b._status("B\u0142\u0105d!");a.isFunction(b.options.submit.ajax.error)&&b.options.submit.ajax.error.apply(this,arguments)},complete:function(){b._fixCore();
b._mask();a.isFunction(b.options.submit.ajax.complete)&&b.options.submit.ajax.complete.apply(this,arguments)}}))}var d=c.find(".form-mask:first");1>d.length&&(d=a('<div class="form-mask"></div>').appendTo(c));this._formId=c.attr("id");this._formMask=d},_initAttribs:function(){var b=this,c;b.typy=null!=(c=this._find("typ"))?c:this.element.find(":input[name=typ]:checked");var e;(null!=(e=this._find("typ, cel, rynek"))?e:this.element.find(":input[name=typ]:checked, :input[name=cel]:checked, :input[name=rynek]:checked")).each(function(){var d=
a(this),f=b._inputValueGet(d);f&&(b[b._name(d)]=f)});b.typ_sprzedaz=null;b.typ_wynajem=null;b.typ_sprzedaz_mieszkanie=!1;b.typ_wynajem_mieszkanie=!1;this._find("typ_sprzedaz, typ_wynajem").each(function(){var d=a(this),f=b._inputValueGet(d);null==b[b._name(d)]&&(b[b._name(d)]=[]);"mieszkanie"==d.val()&&(b[b._name(d)+"_mieszkanie"]=!0);f&&b[b._name(d)].push(f)})},_initReloads:function(){if(!1!==this.options.reload){var b=this;this._findInputs("typ, cel, rynek").on({change:function(){b.options.reload.confirmation?
b._reloadConfirm(b.options.reload.confirmation.message,b.options.reload.confirmation.title):b._reload()}})}},_initChanges:function(){var b=this;this.element.find(":input").on({change:function(){var c=this;window.clearTimeout(b.changeTimeout);b.changeTimeout=window.setTimeout(function(){b.changeHash!=b._getHash()&&(b.changeHash=b._getHash(),b.options.onChange.call(c,b._getValues(),b._serialize(),b._getHash()))},b.options.changeEventDelay)}})},_initChoices:function(){this.element.find("select[multiple]").each(function(){var b=
a(this),c=b.find("option"),e=c.first();c=Math.min(229,38*c.length+1);var d=!1,f="";"_none"===e.val()&&(f=e.text(),d='<a class="ui-multiselect-none" href="#"><span class="ui-icon ui-icon-check"></span><span> '+f+"</span></a>",c-=38,e.remove());b.multiselect({position:{my:"left top+25",at:"left"},appendTo:a(this).parent(),header:d,height:c,minWidth:209,selectedList:1,selectedText:"zaznaczono #",noneSelectedText:f,classes:"ui-multiselect-wyszukiwarka",uncheckAll:function(){a(this).multiselect("close")}})});
this.element.find("select:not([multiple])").chosen({disable_search:!0,allow_single_deselect:!1,placeholder_text_single:" "});this.element.find('.form-group:has(input[type="checkbox"])').each(function(){var b=a(this);if(0<b.has(".group-checkbox").length)b.find(".group-checkbox").each(function(){var d=a(this),f=d.find(':input[value="*"]');f.closest("label");var g=d.find(':input[value!="*"]');g.closest("label");f.is(":checked")?g.prop("checked",!0):g.is(":checked")&&f.prop("checked",!0);var h=function(){d.find("input:checked").closest("label").addClass("checked");
d.find("input:not(:checked)").closest("label").removeClass("checked")};h();f.on("change",function(k){k=a(k.target);k.is(":checked")?(k.closest("label"),g.prop("checked",!0)):(k.closest("label"),g.prop("checked",!1));h()});g.on("change",function(k){k=a(k.target);k.is(":checked")?(k.closest("label"),g.is(":checked")&&f.prop("checked",!0)):(k.closest("label"),f.prop("checked",!1));h()})});else{b=a(this);var c=b.find('input[type="checkbox"]:first'),e=b.find('input[type="checkbox"]:not(#'+c.attr("id")+
")");if(b="_none"===c.val())c.on({"change init":function(d){var f=e.filter(":checked");c.prop("checked",!0);e.prop("checked",!1).closest("label").removeClass("checked").addClass("disabled");"change"===d.type&&f.trigger("change")}}).closest("label").addClass("first"),e.on({"change init":function(){var d=a(this);d.closest("label").toggleClass("checked",d.is(":checked"));0<e.filter(":checked").length?(c.prop("checked",!1),e.closest("label").removeClass("disabled")):c.trigger("init")}});e.add(b?null:
c).on({"change init":function(){var d=a(this);d.closest("label").toggleClass("checked",d.is(":checked"))}}).trigger("init")}})},_initRanges:function(){this.element.find(".contains-range").each(function(){var b=a(this),c=b.attr("id"),e=b.find("#"+c+"_od").data("dropdownTo",c+"_do"),d=b.find("#"+c+"_do").data("dropdownFrom",c+"_od");e.on({keydown:function(f){9===f.keyCode&&a.isNumeric(a(this).val())&&a(this).data("focusNext",!0)},blur:function(){a(this).data("focusNext")&&!a.isNumeric(d.val())&&(a(this).data("focusNext",
!1),window.setTimeout(function(){d.focus().click()},10))},autocompleteopen:function(){a(this).data("focusNext",!1)},autocompleteselect:function(){a.isNumeric(d.val())?a(this).data("focusNext",!1):a(this).data("focusNext",!0)}})});this.setDropdowns()},_getCel:function(){return a(':input[name="cel"]').is(":radio")?a(':input[name="cel"]:checked').val():a(':input[name="cel"]').val()},setDropdowns:function(){this.cel=this._getCel();"to"==window.module?(a("#popup-cena_od, #popup-cena_najmu_od, #popup-cena_mkw_od, #ng_sz_alert_box #cena_od, #ng_sz_wrapper #cena_od, #ng_sz_wrapper #cena_najmu_od").inputDropdowns({dropdownLabel:"dowolna",
multioptions:this._getCeny(!1,"od")}),a("#popup-cena_mkw_od, #cena_mkw_od").inputDropdowns({dropdownLabel:"dowolna",multioptions:this._getCeny(!0,"od")}),a("#popup-cena_do, #popup-cena_najmu_do, #popup-cena_mkw_do, #ng_sz_alert_box #cena_do, #ng_sz_wrapper #cena_do, #ng_sz_wrapper #cena_najmu_do").inputDropdowns({dropdownLabel:"dowolna",multioptions:this._getCeny(!1,"do")}),a("#popup-cena_mkw_do, #cena_mkw_do").inputDropdowns({dropdownLabel:"dowolna",multioptions:this._getCeny(!0,"do")}),a("#popup-metraz_od,   #ng_sz_wrapper #metraz_od, #ng_sz_alert_box #metraz_od").inputDropdowns({dropdownLabel:"dowolny",
multioptions:this._getMetraze(this.typ,"od")}),a("#popup-metraz_do,   #ng_sz_wrapper #metraz_do, #ng_sz_alert_box #metraz_do").inputDropdowns({dropdownLabel:"dowolny",multioptions:this._getMetraze(this.typ,"do")}),a("#popup-powierzchnia_dzialki_od, #popup-powierzchnia_dzialki_do").inputDropdowns({dropdownLabel:"dowolna",multioptions:this._getMetraze(this.typ)}),a("#popup-pietra_od, #popup-pietra_do, #ng_sz_alert_box #pietra_budynku_od, #ng_sz_alert_box #pietra_budynku_do, #ng_sz_alert_box #pietra_od, #ng_sz_alert_box #pietra_do, #popup-pietra_budynku_od, #popup-pietra_budynku_do,   #ng_sz_wrapper #pietra_od, #ng_sz_wrapper #pietra_do, #ng_sz_wrapper #pietra_budynku_od, #ng_sz_wrapper #pietra_budynku_do").inputDropdowns({dropdownLabel:"dowolne",
multioptions:this._getPietra()}),a("#popup-pokoje_od, #popup-pokoje_do, #ng_sz_alert_box #pokoje_do, #ng_sz_alert_box #pokoje_od, #ng_sz_wrapper #pokoje_od, #ng_sz_wrapper #pokoje_do").inputDropdowns({dropdownLabel:"dowolne",multioptions:this._getPokoje()})):(this._find("cena_od, cena_najmu_od, cena_mkw_od").inputDropdowns({dropdownLabel:"dowolna",multioptions:this._getCeny(!1,"od")}),this._find("cena_do, cena_najmu_do, cena_mkw_do").inputDropdowns({dropdownLabel:"dowolna",multioptions:this._getCeny(!1,
"do")}),this._find("metraz_od").inputDropdowns({dropdownLabel:"dowolny",multioptions:this._getMetraze(this.typ,"od")}),this._find("metraz_do").inputDropdowns({dropdownLabel:"dowolny",multioptions:this._getMetraze(this.typ,"do")}),this._find("pokoje_od, pokoje_do").inputDropdowns({dropdownLabel:"dowolne",multioptions:this._getPokoje()}))},_initExtras:function(){var b=this,c=this._find("nazwa_inwestycji");(a(':input[name="rynek"]').is(":radio")&&a(':input[name="rynek"]:checked').val()||"pierwotny"==
a(':input[name="rynek"]').val())&&c.find('input[type="text"]').prop("disabled",!1);var e=this._find('poziomy_dodatkowe input[type="checkbox"]');e.on({"change init":function(){var q=a(this);e.not(this).prop("checked",!1).prop("disabled",q.is(":checked"));e.each(function(){var x=a(this);x.parent().toggleClass("disabled",x.prop("disabled"))})}}).filter(":checked").trigger("init");var d=this._find('polozenia input[type="checkbox"]');d.on({"change init":function(){var q=a(this);switch(b._name(q)){case "parter":case "ostatnie_pietro":d.not(this).prop("checked",
!1).prop("disabled",q.is(":checked"));q.is(":checked")||(d.filter(".element-parter").prop("disabled",d.filter(".element-bez_parteru").is(":checked")),d.filter(".element-ostatnie_pietro").prop("disabled",d.filter(".element-bez_ostatniego_pietra").is(":checked")));break;case "bez_parteru":case "bez_ostatniego_pietra":q=0<d.filter(".element-bez_parteru:checked, .element-bez_ostatniego_pietra:checked").length,d.filter(".element-parter, .element-ostatnie_pietro").prop("disabled",q)}d.each(function(){var x=
a(this);x.parent().toggleClass("disabled",x.prop("disabled"))})}}).filter(":checked").trigger("init");var f=this.element.find(".label-mieszkanie_dla_mlodych"),g=this._find('ogloszeniodawcy input[type="checkbox"]');g.on({"change init":function(){var q=!0,x=g.filter(":checked");x.length&&(q=0<x.filter('[value="nowe"]').length);f.toggle(q)}}).first().trigger("init");var h=this._findInputs("typ"),k=this._findInputs("cel"),l=this._findInputs("rynek"),n=l.filter('[value="pierwotny"]'),v=l.filter('[value="wtorny"]');
c=function(){var q=h.filter(":checked").val();"wynajem"==k.filter(":checked").val()||-1<["dzialka","magazyn"].indexOf(q)?(n.prop("disabled",!0),v.prop("checked",!0)):l.prop("disabled",!1)};h.on("change",c);k.on("change",c);c()},_initAutocompleters:function(){var b=this,c=this._find("lokalizacje");c.length&&a.fn.lokalizacje&&c.lokalizacje({acElement:this._find("lokalizacja")});this._find("lokalizacja").each(function(){var f=a(this),g={at:"left bottom-0.5px"},h=f.parents(".bar-box, .form-control, .form-part").eq(0);
h.length&&(g={at:"left bottom",of:h},h.on("click",function(){f.focus()}).closest("form").on("submit",function(){h.off("click")}));f.autocompleter({position:g,getData:function(){var k=this.menu.element.closest("form").toserializeObject();if(k.zakladki){var l=k.zakladki.split(".");1===l.length?k.rynek="nowe"===l[0]?"pierwotny":"wtorny":1<l.length&&-1===a.inArray("nowe",l)&&(k.rynek="wtorny")}return k}}).autocompleterReplacer({blurAutocomplete:!b.options.submit.auto}).on({"focus click":function(){var k=
f.val();f.autocompleter("search",k);b._resizeWidthAutocomplete()}});if(b.options.submit.auto)f.on({keypress:function(k){13===k.keyCode&&(f.autocompleter("close").closest("form").submit(),setTimeout(function(){k.preventDefault();"phone"!=window.device&&"tablet"!=window.device||f.autocompleter("close").closest("form").submit()},200));b._resizeWidthAutocomplete()}})});var e=null;this._find("klient_nazwa").addClass("autocompleter-klient").autocomplete({source:function(f,g){e&&e.abort();e=a.ajax({url:"/oferty-ng,ajax-klient-nazwa-autocomplete",
dataType:"json",data:{typ:b.typ,cel:b.cel,klient_nazwa:f.term},success:function(h){g(h)}})},select:function(f,g){f.stopPropagation();a(this).autocomplete("close").val(g.item.value).blur().trigger("change")},focus:function(){b._resizeWidthAutocomplete(this)}}).focus(function(){var f=a(this);f.autocomplete("search",f.val());b._resizeWidthAutocomplete(this)}).autocomplete("widget").addClass("small-list autocompleter");this._find("inwestycja_nazwa").autocomplete({source:function(f,g){e&&e.abort();e=a.ajax({url:"/oferty-ng,ajax-inwestycja-nazwa-autocomplete",
dataType:"json",data:{typ:b.typ,cel:b.cel,inwestycja_nazwa:f.term},success:function(h){g(h)}})},select:function(f,g){f.stopPropagation();a(this).autocomplete("close").val(g.item.value).blur().trigger("change")},focus:function(){b._resizeWidthAutocomplete(this)}}).focus(function(){var f=a(this);f.autocomplete("search",f.val());b._resizeWidthAutocomplete(this)}).autocomplete("widget").addClass("small-list autocompleter");var d=1;a(window).on("resize scroll",function(){d&&(d=0,setTimeout(function(){b._resizeWidthAutocomplete();
$autocompilerMargin=100<a("body").scrollTop()?36:0;a("#oferty_wyszukiwarka .ui-autocomplete.autocompleter").css({"margin-left":$autocompilerMargin});d=1},400))})},_resizeWidthAutocomplete:function(b){var c="undefined"==typeof b?this._find("lokalizacja"):a(b);if(c.data("toAutocompleter")){b=c.autocompleter("widget");c=Math.max(c.outerWidth(),c.parents(".bar-box, .form-control, .form-part").eq(0).outerWidth());if("desktop"==window.device&&a("body").hasClass("oferty-ng")){var e=a("a.button-submit.btn.form-submit").outerWidth();
c+=e}b.css({"min-width":c,"max-width":c})}},_highlight:function(b){this.element.find(".wyszukiwarka-highlight").stop(!0).hide();if(b&&b.length){var c=b.data("wyszukiwarka-highlight");c||(c=a('<div class="wyszukiwarka-highlight" style="display: none;"></div>').insertBefore(b),b.data("wyszukiwarka-highlight",c));var e=b.position();c.css({position:"absolute",top:e.top+"px",left:e.left+"px",width:b.outerWidth()+25+"px",height:b.outerHeight()+10+"px",background:"#ffffff",border:"1px solid #ffffff",borderRadius:"6px"}).show();
for(b=1;5>=b;b++)(function(d){c.animate({backgroundColor:"#eeeeee",borderColor:"#c70000"},{duration:200}).delay(5==d?1E3:30).animate({backgroundColor:"#ffffff",borderColor:"#ffffff"},{duration:5==d?1E3:100,complete:function(){5==d&&c.hide()}})})(b)}},_mask:function(b){this._userMaskSet||!this._formMask||1>this._formMask.length||(this._formMask.stop(!0),b?this._formMask.fadeTo(300,.5):this._formMask.fadeOut(300))},_status:function(b){if(void 0===b)return this.element.find(".form-status:first").text();
this.element.find(".form-status").text(b)},_inputValueGet:function(b){if(b.is('input[type="tel"], input[type="text"]')||b.is(":checked")){var c=b.data("placeholder");b=b.val();if(!c||c!=b)return b}else if(b.is("select"))return b.find(":selected").val()},_inputValueSet:function(b,c){if(1<b.length){var e=this,d=!1;b.each(function(){e._inputValueSet(a(this),c)&&(d=!0)});return d}if(b.is('input[type="tel"], input[type="text"]')){var f=b.val(),g=b.data("placeholder");g&&""==c&&(c=g);if(f!=c)return b.val(c),
g&&b.trigger("blur"),!0}else if(b.is("select")){if(f=b.val(),f!=c)return b.val(c),b.data("chosen")&&b.trigger("chosen:updated"),!0}else if(b.is(":checkbox")||b.is(":radio"))if(f=b.is(":checked"),g=b.val()==c,f!=g)return b.prop("checked",g),!0;return!1},_reload:function(){var b=this;this.initAttribs();this.options.reload.mask&&this._mask(!0);a.ajax({url:this.options.reload.url,method:this.options.reload.method,data:a.param({form:this._formId,field:b.options.reload.target})+"&"+this.element.toserialize(),
success:function(c){c=a(a.trim(c));var e=b.element,d=null;b.options.reload.target&&(e=b._find(b.options.reload.target),d=b.element);1>c.length?(e.hide().empty(),b._mask(!1)):(e.show(),e.data(c.data()),e.replaceWith(c),b.element=c,b._create(!0),d&&(b.element=d),b._mask(!1),b._formCounter&&b._formCounter.counter("enable").counter("count",b._serialize()))}})},_reloadConfirm:function(b,c){var e=this;a("<p>"+b+"</p>").dialog({title:c,width:500,modal:!0,resizable:!1,appendTo:e.element,buttons:{Anuluj:function(){a(this).dialog("close")},
OK:function(){e._reload();a(this).dialog("destroy")}},close:function(){e._reloadDiscard();a(this).dialog("destroy")}})},_clean:function(b){if(b){var c=this;this._findInputs(b).each(function(){var e=a(this);c._inputValueSet(e,"")&&e.trigger("change")})}},mask:function(){this._userMaskSet=!0;this._mask(!0);return this.element},unmask:function(){this._userMaskSet=!1;this._mask(!1);return this.element},find:function(b){return this._find(b)},highlight:function(b){this._highlight(this._find(b));return this.element},
_ajaxSzukarkaZaawansowana:function(b){var c=this,e=a("#ng_sz_zaawansowana");a.ajax({url:"/"+b,type:"POST",data:a("form input, form select").not("input.hint").serialize(),beforeSend:function(){a("#wiecej").addClass("hover")},success:function(d){e.empty();e.addClass("loaded");a("#wiecej").removeClass("hover");e.append('<div class="wrapper"></div>');var f=e.find(".wrapper");f.append(a(d).find(".form-part.part-dynamiczne .part-wiersz2"));f.find(".form-part.part-wiersz2").append(a(d).find(".form-part.part-podstawowe fieldset#typy_budynkow"));
f.find(".form-part.part-wiersz2").prepend(a(d).find("fieldset#metraz"));f.append(a(d).find(".form-part.part-dodatkowe").addClass("hidden"));f.find("input[data-placeholder],textarea[data-placeholder]").inputHints();a("form .wyszukiwarka .wrapper").wyszukiwarka({reload:{confirmation:!1}});"phone"===device&&(0<a(".hero__search .search__append").length?f.append(a(".hero__search .search__append").clone(!0).removeAttr("id").addClass("szukaj-button").hide()):(f.append(a(".button-submit.btn.form-submit").clone(!0).addClass("szukaj-button").hide()),
a(".button-submit.btn.form-submit.szukaj-button").text("szukaj")),a("#ng_sz .wyszukiwarka .wrapper").find("select").each(function(){a(this).data("placeholder")&&a(this).find("option[value=_none]").text(a(this).data("placeholder"))}));a("#ng_sz_zaawansowana").hide();c._expandedStatus()}})},_getExpandButtonLabel:function(b,c){0<b.closest(".ng-content").find(".oferty-grid").length?b.hasClass("expand-button")&&b.text(this._getExpandButtonLabelString(c)):b.text(this._getExpandButtonLabelString(c))},_getExpandButtonLabelString:function(b){switch(b){case 1:return"Wi\u0119cej opcji wyszukiwania";
case 2:return"Jeszcze wi\u0119cej opcji wyszukiwania";case 3:return"Zwi\u0144 zaawansowane opcje";default:return[]}},_expandedStatus:function(){var b=a("#ng_sz_zaawansowana"),c=a("#wiecej"),e=a("#oferty_wyszukiwarka").find(".expand-button"),d=b.find(".form-part.part-wiersz2"),f=b.find(".form-part.part-dodatkowe"),g="Oferty";0<a("#ng_sz_zaawansowana").closest("#ng_sz").lenght&&(g="Strona g\u0142\u00f3wna");a("#ng_sz_zaawansowana").is(":visible")?d.hasClass("expanded")&&!f.hasClass("expanded")?(b.show(),
0<f.length?(f.addClass("expanded"),f.removeClass("hidden"),this._getExpandButtonLabel(c,3),this._getExpandButtonLabel(e,3),e.show(),b.find(".szukaj-button").show(),GA.event(g+" - Wyszukiwarka zaawansowana","Rozwijanie stopie\u0144 2")):(f.addClass("hidden"),f.removeClass("expanded"),d.removeClass("expanded"),e.hide(),b.hide(),this._getExpandButtonLabel(c,1),this._getExpandButtonLabel(e,1),b.find(".szukaj-button").hide(),GA.event(g+" - Wyszukiwarka zaawansowana","Zwini\u0119cie szukarki zaawansowanej"))):
f.hasClass("expanded")&&d.hasClass("expanded")&&(f.addClass("hidden"),f.removeClass("expanded"),d.removeClass("expanded"),d.addClass("hidden"),b.hide(),e.hide(),b.find(".szukaj-button").hide(),a("html, body").scrollTop(0),this._getExpandButtonLabel(c,1),this._getExpandButtonLabel(e,1),GA.event(g+" - Wyszukiwarka zaawansowana","Zwini\u0119cie szukarki zaawansowanej")):(b.show(),d.addClass("expanded"),d.removeClass("hidden"),e.show(),0<f.length?(this._getExpandButtonLabel(c,2),this._getExpandButtonLabel(e,
2)):(this._getExpandButtonLabel(c,3),this._getExpandButtonLabel(e,3)),b.find(".szukaj-button").hide(),GA.event(g+" - Wyszukiwarka zaawansowana","Rozwijanie stopie\u0144 1"))},initZaawansowana:function(b){var c=this;a("#wiecej").on("click touchstart",function(e){e.preventDefault();a("#ng_sz_zaawansowana").hasClass("loaded")?c._expandedStatus():c._ajaxSzukarkaZaawansowana(b)})},initAttribs:function(){this._initAttribs()},_searchMobile:function(){if("phone"==window.device||"tablet"==window.device)a(".wyszukiwarka.ui-front .button-submit.btn.form-submit").attr("onclick",
null).off("click"),a(".wyszukiwarka.ui-front .button-submit.btn.form-submit").click(function(b){a(this).closest("form").submit()})},_propagation:function(){a(".ui-multiselect-menu").click(function(b){b.stopPropagation()})},_goToTop:function(){a("body").hasClass("oferty-ng")&&100<a("body").scrollTop()&&("phone"==window.device?a("body").scrollTop(0):a("html, body").animate({scrollTop:0},400))}})})(jQuery);(function(a){a.widget("to.ofertyWyszukiwarka",a.to.wyszukiwarka,{options:{fieldsPrefix:"id, element, box",counter:!1,submit:{mask:!1},reload:{url:"/oferty-ng,ajax-reload",target:"dynamiczne",confirmation:!1},changeEventDelay:1E3},_fixCore:function(){},_create:function(b){this._super(b);this._initFilters();this._initColorbox();this._deleteGroupFilters();this._lokalizacjaScroll();if(!b){var c=this;a(document).on({click:function(){c._getForm().find(".bar-box.focus:not(.active)").removeClass("focus").find(":focus").blur()}})}},
_getFiltersElement:function(){return a(".items-grid .list-filters").length?a(".items-grid .list-filters"):this.element.parent().parent().siblings(".list-filters")},setDropdowns:function(){},_updateFiltersLabel:function(b,c){var e=this;0<c.find(".filter-item").each(function(){a(this).toggle(a(this).hasClass("item-active"))}).length&&c.on({update:function(){c.find(".filter-item").hasClass("item-active")&&c.appendTo(b);e.filtersElement.clearQueue();c[c.find(".filter-item.item-active").length?"show":
"hide"](300,function(){e.filtersElement[0<e.filtersElement.find(".item-active").length?"slideDown":"slideUp"](300)})}}).trigger("update")},_initForm:function(){this._super();this.element.find(".box-pokoje .form-group").pokoje({changeLowerFirst:!0});this._initAC()},_initFilters:function(){var b=this;this.filtersElement=this._getFiltersElement();console.log(this.filtersElement);var c=this.filtersElement.find(".filters-data");this.element.find(".bar-box:not(:has(.box-value.count)), .bar-box:has(.box-value.count) fieldset, #ukryte .show-filter-only").each(function(){var e=
a(this),d=a.trim(e.find(e.is("fieldset")?"legend":".box-label, > .better-label-span").text()),f="";if(0<d.length&&"Typ, cel, rynek:"!=d){var g=/^([^(:]+)(?:\(([^)]+)\))?:?$/.exec(d);3===g.length&&(d=a.trim(g[1]),g[2]&&(f=" "+g[2]));g=e.attr("id");var h=a('<div class="filters-group" data-filter="'+g+'"><div class="group-name">'+d+":</div></div>");"celTyp"!=g&&"rynki"!=g&&(e.find(':input:not([value="_none"])').each(function(){var k=a(this),l=a('<div class="filter-item"></div>').appendTo(h).on({click:function(){if(b._inputValueSet(k,
"")){k.trigger("change");b.element.find('input[type="tel"]').trigger("refreshInformation",[1,"refresh"]);var n=a(this).parent(),v=a(this).parent().data("filter"),q=[];n.find(".filter-item.item-active").each(function(){q.push(a(this).text())});q.length&&b.element.find('div[data-field="'+v+'"] .group-value').text(q.join(", "))}}});k.on({"init2 change":function(){h.stop(!0,!0);if(b._inputValueGet(k)){var n=b._inputValueLabel(k)+f;n=n.replace("Przetarg:","");/^[0-9]{1,2}\-(x|[0-9]{1,2})$/.test(n)&&(n=
b.element.find('div[data-field="wieki"] .group-value').text());n.indexOf("_")&&(n=n.split("_").join(" "));l.hasClass("item-active")?l.clearQueue().fadeTo(100,0,function(){l.text(n)}).fadeTo(100,1):l.addClass("item-active").text(n).show(200)}else l.removeClass("item-active").hide(200);/^[0-9]+?$/.test(k.val())&&l.attr("data-price",k.val());l.queue(function(){l.clearQueue().toggle(l.hasClass("item-active"));h.trigger("update")});b._checkSeparator();"to"!=module&&(/_do/.test(a(this).attr("id"))&&0==
a("#colorbox:visible").length&&a("body").click(),a("#cboxLoadedContent").click())}}).trigger("init2")}),b._updateFiltersLabel(c,h))}});a('<div class="fclear"></div>').appendTo(c)},_initAC:function(){this.element.find(".contains-range").each(function(){var b=a(this),c=b.find("input"),e=c.eq(0),d=c.eq(1);e.data("rangeWith",{key:"min",element:d});d.data("rangeWith",{key:"max",element:e});c.each(function(){var f=a(this),g=f.attr("name").substr(-2),h=f.data("range");f.inputNumber().inputFocusChange();
h&&f.on({"focus click":function(){f.is(":visible")&&f.autocomplete("search","")},blur:function(){var k=parseInt(f.val().replace(/\D/g,"")),l=parseInt(("od"==g?d.val():e.val()).replace(/\D/g,""));isNaN(k)||isNaN(l)||("od"==g?k>l&&d.val("").trigger("change"):k<l&&e.val("").trigger("change"))}}).autocomplete({minLength:0,delay:300,position:{my:"center top",at:"center bottom"},source:function(k,l){var n=[],v=[],q=parseInt(k.term.replace(/\D/g,"")),x=parseInt(("od"==g?d.val():e.val()).replace(/\D/g,""));
isNaN(q)&&(q="od"==g?h.min:h.max);isNaN(x)&&(x="od"==g?h.max:h.min);x=Math.max(h.min,"od"==g?q:x);q=parseInt(k.term.replace(/\D/g,""));isNaN(q);var p=parseInt(h.max);if(x<p){q=parseInt(k.term.replace(/\D/g,""));if(isNaN(q))if(10>=p)for(k=x;k<=p;k++)n.push(k);else{for(k=0;10>=k;k++){q=Math.log(x);q=Math.exp((Math.log(p)-q)/100*k*10+q);var m=2E6<=q?5E5:1E6<=q?25E4:5E5<=q?1E5:1E5<=q?5E4:1E3<=q?500:100<=q?50:10<=q?10:1;q=Math.round(q/m)*m;0>n.indexOf(q)&&n.push(q)}"od"==g?n.pop():n.shift()}else{m=q.toFixed().length;
var r=p.toFixed().length,u=r-m;1==u&&n.push(q);var w="0123456789".split("");for(2<r&&(w=1<u?["0","5"]:["0"]);0<u--;)for(var y=0;y<w.length;y++){var t=q.toFixed(),z=m+u;for(k=z;k<r;k++)t+=k==z?w[y]:"0";t=parseInt(t);t<=x?t.toString().length!=x.toString().length&&(t=null):t>=p&&t.toString().length!=p.toString().length&&(t=null);t&&0>n.indexOf(t)&&n.push(t)}}for(k=0;k<n.length;k++)t=n[k],t=h.labels&&h.labels[t]?h.labels[t]:a.formatNumber(t),v.push({value:t})}return l(v)},select:function(k,l){f.trigger("change");
window.setTimeout(function(){f.blur();"od"==g&&d.focus()},10)},open:function(){b.addClass("ac-open");f.addClass("ac-open")},close:function(k){b.removeClass("ac-open");f.removeClass("ac-open")},create:function(){f.autocomplete("widget").addClass("ac-range")}})})});this._initBoxes()},_inputValueLabel:function(b){if(b.is(":checkbox")||b.is(":radio")){var c=a.trim(b.closest("label").text());if(0<c.length)return c}if(b.is("select")){c=[];var e=b.data("labelPrefix");b.find(":selected").each(function(){c.push(a(this).text())});
return(e?e+" ":"")+c.join(",")}return b.is('input[type="text"], input[type="tel"]')&&(b.val(b.val().replace(",",".")),e=/_(od|do)$/.exec(b.attr("name")),null!==e)?(b=this._inputValueGet(b),e[1]+" "+(isNaN(b)?b:a.formatNumber(b))):this._inputValueGet(b)},_initBoxes:function(){var b=this;this.element.find(".bar-box.expandable").each(function(){var c=a(this),e=c.find(":input"),d=c.find(".box-content");c.on({click:function(f){f.stopPropagation()}});d.on({click:function(f){f.stopPropagation();b._getForm().find(".bar-box.focus").not(c[0]).removeClass("focus");
c.toggleClass("focus")&&window.setTimeout(function(){c.hasClass("focus")&&e.first().focus()},300)}});d.on("click",".field-unset",function(f){f.preventDefault();f.stopPropagation();c.removeClass("focus");f=a(this);var g=f.closest(".values-group");1>g.length&&(g=c.find(".values-group"));g.data("count",0).hide(200,function(){g.remove()});b._clean(f.data("field"))});e.on({focus:function(){c.addClass("active")},blur:function(){c.removeClass("active")},change:function(){var f=c.find(".box-value");f.length?
f.stop(!0,!0).fadeOut(200,function(){b._updateBox(c);f.fadeIn(200)}):b._updateBox(c)}});b._updateBox(c)});this.element.find("#wiecej .box-content, #oferty_fixed_topbar .button-wyszukiwarka").on({click:function(){b.openColorbox()}});"phone"===device&&a(".mapa #oferty_wyszukiwarka_static .button-wyszukiwarka").click(function(){b.openColorbox()});this.element.find(".box-celTyp label:first-child").each(function(){0==a(this).find(".ico").length&&a("input:checkbox",this).after('<span class="ico"></span>')})},
_updateBox:function(b){var c=this;b.find(".box-value").each(function(){var e=a(this);if(e.hasClass("count")){var d=0;b.find(".values-group").each(function(){var k=a(this),l=[];c._findInputs(k.data("field")).each(function(){var n=a(this),v=c._inputValueGet(n);v&&"_none"!=v&&l.push(c._inputValueLabel(n))});1>l.length&&k.hide();d+=l.length}).promise().done(function(){0===d?(b.removeClass("expandable"),e.empty().toggleClass("empty",!0).text(e.data("empty"))):e.find(".value").text(d)})}else if(e.hasClass("multi")){var f=
[];c._findInputs(e.data("fields")).each(function(){var k=a(this),l=c._inputValueGet(k);l&&"_none"!=l&&f.push(c._inputValueLabel(k))});e.empty().toggleClass("empty",1>f.length).text(0<f.length?f.join(", "):e.data("empty"))}else{var g=b.find(":input").filter(function(){var k=a(this);return""!=k.val()&&"_none"!=k.val()&&k.val()!=k.data("placeholder")&&(k.is(":checked")||!k.is(":checkbox")&&!k.is(":radio"))});if(0<g.length){f=[];var h=", ";b.hasClass("contains-range")?(h=1<g.length?" - ":"",g.each(function(){var k=
a(this),l=k.val(),n=parseInt(l.replace(/\D/gi,""));isNaN(n)||(l=a.formatNumber(n));f.push((""==h?"<span>"+k.attr("name").substr(-2)+"</span> ":"")+l)})):g.each(function(){var k=a(this);f.push(k.is(":checkbox")?a.trim(k.parent("label").text()):a.formatNumber(k.val().replace(/\D/gi,"")))});e.html(f.join(h)).removeClass("empty");b.hasClass("unsetable")&&e.append('<span class="field-unset ico-close" data-field="'+b.attr("id")+'"></span>')}else e.empty().toggleClass("empty",!0).text(e.data("empty"))}});
b.hasClass("box-celTyp")&&setTimeout(function(){var e=b.find(".box-label"),d=!1;0==e.find(".ico-sprzedaz, .ico-wynajem").length&&(0<b.find(".group-checkbox.sprzedaz input").length&&e.append('<span class="ico-sprzedaz"></span>'),0<b.find(".group-checkbox.wynajem input").length&&e.append('<span class="ico-wynajem"></span>'));0<b.find(".group-checkbox.sprzedaz input:checked").length?(e.find(".ico-sprzedaz").show(),d=!0):e.find(".ico-sprzedaz").hide();0<b.find(".group-checkbox.wynajem input:checked").length?
(e.find(".ico-wynajem").show(),d=!0):e.find(".ico-wynajem").hide();d||(e.find(".ico-sprzedaz").show(),e.find(".ico-wynajem").show())},300)},_initColorbox:function(){this._formActions=a();this._fixedActions=a("#box_buttons_action");1>this._fixedActions.length&&(this._fixedActions=a('<div id="box_buttons_action"></div>').appendTo("#colorbox"))},_colorboxResize:function(){var b=a("#cboxContent"),c=a("#cboxLoadedContent"),e=a("#wyszukiwarka_ajax");1>e.length&&(e=a(".cboxIframe"));if(!(1>e.length)){var d=
+("uslugi"===a(".element-typ option:selected").attr("value")||"biuro"===a(".element-typ option:selected").attr("value")?45:0);429>a(window).width()?e.height("100%"):e.height(e.height()+d);d=768>a(window).width();this._formActions.toggle(!d);d&&this._fixedActions.addClass("active");var f=a("#cboxContent").outerHeight()-a("#cboxContent").height(),g=a("#cboxLoadedContent").outerHeight()-a("#cboxLoadedContent").height();b=b.outerWidth(!0)-c.innerWidth();f+=g;c={width:a(window).width(),height:a(window).height()};
e={width:Math.min(e.outerWidth(!0)+b,c.width)+"px",height:Math.min(e.outerHeight(!0)+f,c.height)-0+"px"};a.colorbox.resize(d?c:e)}},openColorbox:function(b,c,e){var d=this,f=d._getValues();f=null!=e?e:d._getValues();null!=b&&(f.typ=b,f.rynek=c);window.resizeHandler=function(){window.clearTimeout(window.colorboxResize);window.colorboxResize=window.setTimeout(function(){d._colorboxResize()},300)};var g=850>a(window).width();b={href:"/oferty-ng,ajax-form",data:f,open:!0,fixed:!0,scrolling:!0,transition:"none",
onOpen:function(){a("body").css("overflow","hidden");a(window).on("resize scroll",resizeHandler)},onLoad:function(){"phone"==device&&(a("#cboxClose").hide(),a("#box_buttons_action a").each(function(){a(this).detach()}),a("#box_buttons_action").hide())},onClosed:function(){g&&a("#cboxClose").show();"phone"===window.device&&a(".fixed-mobile-menu").show()},onCleanup:function(){a("body").css("overflow","");a(window).off("resize scroll",resizeHandler);d._formActions=a();d._fixedActions.html("").removeClass("active")},
onComplete:function(){767<a(window).width()&&a("#wyszukiwarka_ajax .part-wybor").detach();var h=a("#cboxLoadedContent form.wyszukiwarka:first"),k=a(this).data("field");h.find(".part-dodatkowe");h.find(":input").on({focus:function(){resizeHandler()}});h.wyszukiwarka({reload:{confirmation:!1},onInit:function(){g&&a("#box_buttons_action").css({display:"flex"});d._formActions=h.find(".part-akcje");$typ=a(':input[name="typ"]').is(":radio")?a(':input[name="typ"]:checked').val():a(':input[name="typ"]').val();
$cel=a(':input[name="cel"]').is(":radio")?a(':input[name="cel"]:checked').val():a(':input[name="cel"]').val();a('<a href="javascript:void(0);" class="button big btn-close" id="anuluj_button">Anuluj</a>').on({click:function(){"phone"===window.device&&a(".fixed-mobile-menu").show();a.colorbox.close()}}).prependTo(d._fixedActions);a('<a href="javascript:void(0);" class="button big btn-submit" id="submit_button">Szukaj</a>').on({click:function(){h.submit()}}).prependTo(d._fixedActions);a(document).keypress(function(l){13==
l.which&&h.submit()});d._colorboxResize();k&&window.setTimeout(function(){h.wyszukiwarka("highlight",k)},300);d._highlightActive(f.typ,f.rynek,f)}});h.on({submit:function(){a("#colorbox_execute_mask").show()}});a("#colorbox #popup-lokalizacja").val(a("#lokalizacja").val());a("#colorbox #popup-lokalizacja").attr("type","search");"tablet"==window.device&&(a(window).on("resize wyszukiwarkaAjax",function(){a("#wyszukiwarka_ajax").css({height:a(window).height()-91})}),a(window).trigger("wyszukiwarkaAjax"));
d._colorboxResize()}};"pierwotny"==f.rynek&&0<=["mieszkanie","dom"].indexOf(f.typ)&&a.extend(b,{href:"/smartfit,znajdz-"+f.typ+"?"+d._getWyszukiwarkaZaawansowanaParams(f),className:"smartfit-wyszukiwarka",iframe:!0,reposition:!0,width:"100%",height:"100%",maxWidth:"1100",fastIframe:!1});a.colorbox(b)},_getWyszukiwarkaZaawansowanaParams:function(b){return"iframe=1&"+a.param(b)},_highlightActive:function(b,c,e){var d=this;if("phone"==device){if(null==b&&null==c){var f=d._getValues();b=f.typ;c=f.rynek}null!=
e&&(f=e,f.typ=b,f.rynek=c);a("#popup-wybor").find("select option").each(function(){a(this).removeAttr("selected")});a("#popup-wybor").find("button span").each(function(g){var h=a(this);1==g?"Rynek Pierwotny"!=h[0].innerText&&(h[0].innerText="Rynek Pierwotny"):3==g&&"Rynek Wtorny"!=h[0].innerText&&(h[0].innerText="Rynek Wtorny",console.log("done"))});a("#popup-wybor").find('input[type="checkbox"]').each(function(){var g=a(this),h=g.siblings("span").text().toLowerCase();g.removeAttr("checked");g.removeAttr("aria-selected");
g.attr("disabled","disabled");switch(b){case "mieszkanie":"pierwotny"==c?"multiselect_pierwotny_rynek"==g.attr("name")&&"mieszkania"==h&&g.parents("li").addClass("active"):"multiselect_wtorny_rynek"==g.attr("name")&&"mieszkania"==h&&g.parents("li").addClass("active");break;case "dom":"pierwotny"==c?"multiselect_pierwotny_rynek"==g.attr("name")&&"domy"==h&&g.parents("li").addClass("active"):"multiselect_wtorny_rynek"==g.attr("name")&&"domy"==h&&g.parents("li").addClass("active");break;case "uslugi":"pierwotny"==
c?"multiselect_pierwotny_rynek"==g.attr("name")&&"lokale"==h&&g.parents("li").addClass("active"):"multiselect_wtorny_rynek"==g.attr("name")&&"lokale"==h&&g.parents("li").addClass("active");break;case "dzialka":"pierwotny"==c?"multiselect_pierwotny_rynek"==g.attr("name")&&"dzia\u0142ki"==h&&g.parents("li").addClass("active"):"multiselect_wtorny_rynek"==g.attr("name")&&"dzia\u0142ki"==h&&g.parents("li").addClass("active");break;case "magazyn":"pierwotny"==c?"multiselect_pierwotny_rynek"==g.attr("name")&&
"magazyny"==h&&g.parents("li").addClass("active"):"multiselect_wtorny_rynek"==g.attr("name")&&"magazyny"==h&&g.parents("li").addClass("active")}g.parents("li").on("click",function(){c="multiselect_pierwotny_rynek"==g.attr("name")?"pierwotny":"wtorny";switch(g.siblings("span").text().toLowerCase()){case "mieszkania":b="mieszkanie";break;case "domy":b="dom";break;case "lokale":b="uslugi";break;case "magazyny":b="magazyn";break;case "dzia\u0142ki":b="dzialka"}null!=f&&"undefined"!=typeof f&&null!=c&&
"undefined"!=typeof c&&(f.rynek=c);null!=f&&"undefined"!=typeof f&&null!=b&&"undefined"!=typeof b&&(f.typ=b);null!=f&&"undefined"!=typeof f?d.openColorbox(b,c,f):d.openColorbox(b,c)})})}a("#wyszukiwarka_ajax").find('input[type="checkbox"]').each(function(){var g=a(this);g.parents().hasClass("part-wybor")||(g.is(":checked")&&(g.addClass("active-value"),g.parents("label").addClass("active-value")),g.on("change",function(){g.is(":checked")?(g.addClass("active-value"),g.parents("label").addClass("active-value")):
(g.removeClass("active-value"),g.parents("label").removeClass("active-value"))}))});a("#wyszukiwarka_ajax").find('input[type="tel"]').each(function(){var g=a(this);0<g.val()&&g.addClass("active-value");g.on("change",function(){0<g.val()?g.addClass("active-value"):g.removeClass("active-value")})});a("#wyszukiwarka_ajax").find('select, input[type="text"]').each(function(){var g=a(this);g.parents().hasClass("part-wybor")||(g.val()&&g.addClass("active-value"),g.on("change",function(){g.val()?g.addClass("active-value"):
g.removeClass("active-value")}))})},_ajaxSzukarkaZaawansowana:function(b){},_checkSeparator:function(){a(".filter-item-merge").each(function(){var b=a(this).children().first().hasClass("item-active"),c=a(this).children().last().hasClass("item-active");a(this).children().first().data("price");a(this).children().last().data("price");a(this).children().first().removeClass("item-separator").removeClass("item-first-value").removeClass("item-last-value");a(this).children().last().removeClass("item-separator").removeClass("item-first-value").removeClass("item-last-value");
b&&c?a(this).children().last().addClass("item-separator"):b&&!c?a(this).children().first().addClass("item-first-value"):!b&&c&&a(this).children().last().addClass("item-last-value")})},_deleteGroupFilters:function(){var b=this,c=this;this.element.find("#wiecej .form-part .values-group").find(".field-unset.ico-close").click(function(e){e.preventDefault();e.stopPropagation();console.log("closeClick");e=a(e.target).attr("data-field");b.element.find("#wiecej input"+e+"_od, #wiecej input"+e+"_do").val(1);
b.element.find("#wiecej .form-part > div #"+e+' input[type="checkbox"]').length?b.element.find("#wiecej .form-part > div #"+e+' input[type="checkbox"]').attr("checked",!1).change():b.element.find("#wiecej .form-part > div #"+e+" select").length?b.element.find("#wiecej .form-part > div #"+e+" select option").attr("selected",!1).change():b.element.find("#wiecej .form-part > div #"+e+" input").attr("value","").change();c._findInputs(e).each(function(){var d=a(this);c._inputValueSet(d,c[c._name(d)])})})},
initPhonebar:function(b){var c=this;b.find(".phonebar-filtr").on({click:function(){var e=a(this).find(".phonebar-filtrbox").clone();c._showPhonebarBox(e)}})},_showPhonebarBox:function(b){var c=this,e=a("<form></form>").append(b).show();e.appendTo("body");a("body").addClass("phonebar-filtrbox-visible");window.location.hash="filter-open";window.onhashchange=function(){window.location.hash.length||(b.remove(),a("body").removeClass("phonebar-filtrbox-visible"))};b.scrollTop();var d=b.data("name");switch(d){case "cena":case "cena_najmu":var f=
"z\u0142",g=c._cenyLabel,h=!1,k=c._getCeny(!1,"od").slice(),l=c._getCeny(!1,"do").slice();break;case "pokoje":f="";g=c._pokojeLabel;h=!0;k=c._getPokoje(!1,"od").slice();l=c._getPokoje(!1,"do").slice();break;case "metraz":f="m\u00b2";g=c._metrazLabel;h=!1;k=c._getMetraze(!1,"od").slice();l=c._getMetraze(!1,"do").slice();break;default:return}k.unshift(g);l.push(g);var n=c._getValues(),v=b.find('.inputs .od, .inputs input[name="'+d+'_od"]');n.hasOwnProperty(d+"_od")&&v.val(n[d+"_od"]);var q=b.find('.inputs .do, .inputs input[name="'+
d+'_do"]');n.hasOwnProperty(d+"_do")&&q.val(n[d+"_do"]);var x=b.find(".values .od");k.forEach(function(m){var r=0<m?a.formatNumber(m,{format:"#,###",locale:language})+" "+f:m,u=h?.001:0;a("<div>"+r+"</div>").data("value",m).addClass("value-"+m).on("click",function(){a(this).hasClass("inactive")&&b.find(".values .do > div:last-child").click();a(this).addClass("active").siblings().removeClass("active");0<m?(v.val(m),b.find(".values .do > div").each(function(){var w=a(this);w.data("value")<=m-u?(w.hasClass("active")&&
q.val(""),w.addClass("inactive")):w.removeClass("inactive")})):(v.val(""),b.find(".values .do > div").removeClass("inactive"))}).appendTo(x)});var p=b.find(".values .do");l.forEach(function(m){var r=0<m?a.formatNumber(m,{format:"#,###",locale:language})+" "+f:m,u=h?.001:0;a("<div>"+r+"</div>").data("value",m).addClass("value-"+m).on("click",function(){a(this).hasClass("inactive")&&b.find(".values .od > div:first-child").click();a(this).addClass("active").siblings().removeClass("active");0<m?(q.val(m),
b.find(".values .od > div").each(function(){var w=a(this);w.data("value")>=m+u?(w.hasClass("active")&&b.find(".inputs .od").val(""),w.addClass("inactive")):w.removeClass("inactive")})):(q.val(""),b.find(".values .od > div").removeClass("inactive"))}).appendTo(p)});""==v.val()?b.find(".values .od > div.value-"+g).click():k.forEach(function(m){m==v.val()&&b.find(".values .od > div.value-"+m).click()});""==q.val()?b.find(".values .do > div.value-"+g).click():l.forEach(function(m){m==q.val()&&b.find(".values .do > div.value-"+
m).click()});b.find(".close").click(function(){GA.event("Szukarka mobilna","Filtr - zamkni\u0119cie");a("body").removeClass("phonebar-filtrbox-visible");a(this).closest(".phonebar-filtrbox").remove();window.location.hash=""});e.on("submit",function(m){m.preventDefault();c._phoneBarSubmit(a(m.currentTarget).find(".submit"),d,v.val(),q.val());window.location.hash=""});b.find(".buttons .submit").click(function(m){c._phoneBarSubmit(a(m.currentTarget),d,v.val(),q.val());window.location.hash=""});b.show()},
_phoneBarSubmit:function(b,c,e,d){GA.event("Szukarka mobilna","Filtr - wyszukanie");a("input#"+c+"_od").val(e);a("input#"+c+"_do").val(d);a("form.wyszukiwarka").submit()},_lokalizacjaScroll:function(){var b=this;if("desktop"!==device)this.element.find("#lokalizacja").on("click",function(){a("html, body").animate({scrollTop:b.element.offset().top-a("#cookieinfo").height()},400)})},_dontTouch:null})})(jQuery);(function(a){a.widget("to.wyszukiwarka",a.to.ofertyWyszukiwarka,function(){var b;return{version:"1",options:{reload:!1},_create:function(){b=this;this._initElements();this._initObservers();this._super();this.initPhonebar();this._initExpand();"phone"==device&&this._updatePhoneBar()},_initExpand:function(){a("body").click(function(c){a(".focus").removeClass("focus")});this.element.find(".rodzaj-box.expandable").each(function(){var c=a(this);c.click(function(e){var d=c.hasClass("focus");e.stopPropagation();
c.toggleClass("focus",!d)});c.find(":input").on("change",function(e){e.preventDefault();e.stopPropagation();e=a(this).attr("name");var d=a("input[name='"+e+"']:checked").closest("label").text();a(".box-line-span[data-input-name='"+e+"']").text(d)})})},_getTyp:function(){return this.element.find(':input[name="typ"]:checked').val()},initPhonebar:function(){var c=this;this.element.find(".phonebar-filtr").on({click:function(e){e=a(e.currentTarget).find(".phonebar-filtrbox").clone();c._showPhonebarBox(e)}})},
_initElements:function(){var c=this;elements={};a.each("wrapper tabs form szukaj button lista lokalizacja".split(" "),function(e,d){elements[d]=b.element.find("#ng_sz_"+d+", #"+d)});this.elements=elements;this.element.find(".bar-box.expandable .box-expand input[type='tel']").on("change",function(e){c._updateBox(a(e.currentTarget).closest(".bar-box"))}).trigger("change")},_initFilters:function(){},_initChoices:function(){},_initForm:function(){},_initPokoje:function(){var c=this;this.element.find(".box-pokoje_od .form-element > label").click(function(e){var d=
a(e.currentTarget);e.preventDefault();e.stopPropagation();c.element.find(".box-pokoje_od .form-element > label").not(d).find("input").prop("checked",!1);d.find("input").prop("checked",!d.find("input").is(":checked"));c.element.find(".box-pokoje_od .form-element > label").not(d).removeClass("active");d.toggleClass("active");5<=d.find("input").val()?c.element.find('input[name="pokoje_do"]').val(""):c.element.find('input[name="pokoje_do"]').val(d.find("input:checked").val())});this.element.find(".box-pokoje_od input:checked").trigger("click")},
_getCel:function(){return this.element.find(".tabs .tab.active").data("value")},_initObservers:function(){"phone"===device&&(b.elements.form.find("select").each(function(){a(this).data("placeholder")&&a(this).find("option[value=_none]").text(a(this).data("placeholder"))}),b.elements.lokalizacja.on("click",function(){a("html, body").animate({scrollTop:b.elements.form.offset().top-10-a("#cookieinfo").height()},400)}));this.element.find('.search__append[data-type="submit"]:visible').click(function(){b.elements.form.submit();
a("html").hasClass("mobile")&&setTimeout(function(){b.elements.form.submit()},200)});a(b.elements.lokalizacja).keypress(function(c){13==c.which&&b.elements.form.submit()});this._initPokoje()},_changeMetrazLabel:function(){var c=this;this.element.find('#metraz .box-label, .phonebar-filtr[data-name="metraz"] .label').each(function(e,d){"mieszkanie"==c.typ?(a(d).text(a(d).text().replace("powierzchni\u0119","metra\u017c")),a(d).text(a(d).text().replace("Powierzchnia","Metra\u017c"))):(a(d).text(a(d).text().replace("Metra\u017c",
"Powierzchnia")),a(d).text(a(d).text().replace("metra\u017c","powierzchni\u0119")))})},_updateBox:function(c){var e=c.find(":input");if(2==c.find(":input").length){var d=a(e[0]);e=a(e[1]);(d=this._getLabelText(d.val(),e.val(),c.find(".box-label span").text()))?(c.find(".box-label").hide(),c.find(".box-value").text(d).show()):(c.find(".box-label").show(),c.find(".box-value").hide())}},_getLabelText:function(c,e,d){d=void 0===d?"":d;$isToNumer=!isNaN(parseFloat(e));$isFromNumer=!isNaN(parseFloat(c));
var f=!1;$isFromNumer&&$isToNumer?f=c+" - "+e+" "+d:!$isFromNumer&&$isToNumer?f="do "+e+" "+d:$isFromNumer&&!$isToNumer&&(f="od "+c+" "+d);return f},_getForm:function(){return this.element},_initAutocompleter:function(){var c=b.elements.lokalizacja;c.autocompleter({position:"phone"===device?{my:"left-48 top+4"}:{my:"left top+4"}}).autocompleterReplacer().on("click",function(){c.autocompleter("search")});"katalog-firm"==b.elements.tabs.find(".tab.active").data("value")&&c.removeClass("replacer-lockable")},
_inputTextToSearch:function(){a("html").hasClass("mobile")&&a("#ng_sz_form").find('input[name="lokalizacja"]').attr("type","search")},_updatePhoneBar:function(){var c=this;this.element.find(".phonebar-filtr").each(function(e,d){c._updatePhoneBarLabel(a(d).find(".phonebar-filtrbox"),a(d).find('input[name="'+a(d).attr("data-name")+'_od"]').val(),a(d).find('input[name="'+a(d).attr("data-name")+'_do"]').val())})},_updatePhoneBarLabel:function(c,e,d){var f=c.data("name"),g=this.element.find('.phonebar-filtr[data-name="'+
f+'"] > .label');f=this.element.find('.phonebar-filtr[data-name="'+f+'"] > .value');(c=this._getLabelText(e,d,c.attr("data-unit")))?(g.hide(),f.text(c).show()):(g.show(),f.text("").hide())},_phoneBarSubmit:function(c,e,d,f){this._updatePhoneBarLabel(a(c).closest(".phonebar-filtrbox"),d,f);this.element.find('input[name="'+e+'_od"]').val(d);this.element.find('input[name="'+e+'_do"]').val(f);GA.event("Szukarka mobilna g\u0142\u00f3wna","Filtr - wyszukanie");a("body").removeClass("phonebar-filtrbox-visible");
a(c).closest(".phonebar-filtrbox").remove()},_initChanges:function(){}}}())})(jQuery);(function(a){a.widget("to.autocompleterWyszukiwarka",{options:{range:[],equalValues:!1,container:"box-expand",connectType:"append",label:"dowolne",clicked:!1},_inputs:[],_showOptions:[],_changedOd:0,_changedDo:0,_create:function(){this._findInput();this._toggleMenuFilters()},_init:function(){"to"==window.module&&(0<this.options.range.length&&this._render(),this._events())},_findInput:function(){this._inputs=a(this.element).find('input[type="tel"], input[type="number"]')},_render:function(){var b=
this;this.element.find(".show-options").remove();var c=a("<div/>",{class:"show-options","data-focus":"#"+b._inputs.first().attr("id")}),e=a("<div/>").text(this.options.label),d=e.clone();c.append(e);a.each(this.options.range,function(f,g){f=a("<div/>",{"data-value":g});f.text(b._convertNumberFormat(g));c.append(f)});c.append(d);a("."+this.options.container,this.element)[b.options.connectType](c[0].outerHTML);this._showOptions=a(this.element).find(".show-options")},_events:function(){var b=this;a(this._inputs[0]).focus(function(){a(b._showOptions).attr("data-focus",
"#"+a(b._inputs).first().attr("id"));a(b._showOptions).removeClass("text-right");b._dynamicValue()});a(this._inputs[1]).focus(function(){a(b._showOptions).attr("data-focus","#"+a(b._inputs).last().attr("id"));a(b._showOptions).addClass("text-right");b._dynamicValue()});a(this._showOptions).children().click(function(){b.options.clicked=!0;var c=a(this).attr("data-value"),e=a(b._showOptions).attr("data-focus");a("body").hasClass("szczegoly-ng")?b.element.find(e).val(c):b.element.find(e).val(c).change();
a("#colorbox").is(":visible")&&/_do/.test(e)&&a(".show-options").hide();/_od/.test(e)&&a("body").hasClass("szczegoly-ng")&&b.element.find(e).next().next().focus().click();a("body").hasClass("szczegoly-ng")&&/_do/.test(e)&&(a(".focus").find('input[type="tel"]').change(),a(".focus").removeClass("focus"))});a(this._showOptions).click(function(c){b.options.clicked?b.options.clicked=!1:a(".show-options").hide()})},_convertNumberFormat:function(b){var c=b.toString(),e=c.length,d="";if(3>=e)return b;for(b=
0;0<=e;e--)d+=c.charAt(e),0===b%3&&(d+=" "),b++;return d.split("").reverse().join("")},_activeOption:function(b,c){c.toggleClass("active",b==c.attr("data-value"))},_dynamicValue:function(){var b=this,c="#"+a(this._inputs[0]).attr("id"),e="#"+a(this._inputs[1]).attr("id"),d=a(b._showOptions).attr("data-focus"),f=a(b._showOptions).children(),g=f.length,h=parseInt(a(c).val()),k=parseInt(a(e).val());if(d===c){var l=0;f.each(function(){l<g-(b.options.equalValues?1:2)?a(this).show():a(this).hide();b._activeOption(h,
a(this));l++})}else if(d===e){var n=l=0,v=!1;f.each(function(){isNaN(h)?(l<g&&1<n?(a(this).show(),l++):a(this).hide(),l<g&&1==n&&b.options.equalValues&&(a(this).show(),l++)):((a(this).attr("data-value")<=h||1>n)&&0==v?(a(this).hide(),v=!1):v=!0,a(this).attr("data-value")==h&&b.options.equalValues&&(v=!0,a(this).show(),l++),v&&l<g&&(a(this).show(),l++));b._activeOption(k,a(this));n++})}},_refreshInfo:function(b,c,e){!c&&!e||a("body").is(".szczegoly-ng")||(this.element.find(b).trigger("refreshInformation",
[1,b]),this._changedDo=this._changedOd=0)},_toggleMenuFilters:function(){var b=this,c,e="";a(this.element).find(".box-content").click(function(d){var f=a(this).parent();d=f.attr("id");null==c?c=d:c==d?f.hasClass("focus")&&b._refreshInfo("#"+d,b._changedOd,b._changedDo):(c=d,b._refreshInfo("#"+d,b._changedOd,b._changedDo));0==a("#colorbox:visible").length&&(f.hasClass("focus")?a(".focus").removeClass("focus"):(a(".focus").removeClass("focus"),a(".ui-autocomplete.ui-front.ui-menu").hide(),f.addClass("focus"),
f.find('input[type="tel"]').first().focus(),setTimeout(function(){f.find('input[type="tel"]').first().click()},100)))});a(this.element).find('input[type="tel"]').on({change:function(d){d=0==a("#colorbox:visible").length?a(this).parent().parent().parent():a(this).parent();e=d.attr("id");if(/_od/.test(a(this).attr("id"))){var f=d.find('input[type="tel"], input[type="number"]').last(),g=parseInt(f.val());isNaN(g)&&(g="");d.addClass("focus");f.focus();f.click();f.val(g);b._changedOd=1}else b._changedDo=
1,setTimeout(function(){a("body").trigger("click")},200)},blur:function(){}});void 0==a("body").data("close-menu-event")&&(a("body").attr("close-menu-event",!0),a(document).click(function(d){if(0==a("#colorbox:visible").length){d=a(d.target);var f=0;do{d=d.parent();var g=1;if(d.is("html")&&a("body").hasClass("szczegoly-ng")){g=1;break}if(d.is("body")||100==f||d.is("html")||d.is(".ui-autocomplete")){g=0;break}f++}while(!d.is(".bar-box"));0==g&&(a("body").hasClass("szczegoly-ng")&&a(".focus").find('input[type="tel"]').change(),
e=a(b._inputs[0]).attr("id"),b._refreshInfo("#"+e,b._changedOd,b._changedDo))}else a(".focus").removeClass("focus")}))}})})(jQuery);(function(a){a.widget("to.sticky",function(){var b,c;return{options:{container:null,marginTop:15,marginBottom:0,stopAt:null,staticParentBox:null,change:function(e,d){}},_create:function(){b=this;b._sticked=!1;c=null==b.options.container?b.element.parent():b.options.container;null==b.options.stopAt?(b.topOffset=b.element.offset().top,b.bottomOffset=c.offset().top+c.outerHeight()):(b.topOffset=b.element.offset().top,b.bottomOffset=c.offset().top+c.outerHeight()-(b.options.stopAt.outerHeight()+25));
!0===b.options.staticParentBox&&b._parentHeight()},_init:function(){var e=this;a(window).on("scroll scrollstart",function(){var d=null==b.options.stopAt?c.offset().top+c.outerHeight():c.offset().top+c.outerHeight()-(b.options.stopAt.outerHeight()+25);d!==b.bottomOffset&&(b.bottomOffset=d);(d=a(document).scrollTop()>e.topOffset-e.options.marginTop)?a(document).scrollTop()<e.bottomOffset-e.element.outerHeight()?e.element.css({top:e.options.marginTop,position:"fixed"}):null==e.options.stopAt?e.element.css({position:"absolute",
top:e.bottomOffset-e.element.outerHeight()-e.options.marginBottom}):e.element.css({position:"absolute",top:e.bottomOffset-e.element.outerHeight()-e.options.marginBottom-e.options.stopAt.height()}):e.element.css({position:"",top:""});e._sticked!=d&&(e._sticked=d,e._trigger("change",null,[d]))});a(window).trigger("scroll")},_parentHeight:function(){a(window).resize(function(){b.element.parent().css({height:b.element.outerHeight(!0)+"px"})});a(window).resize()}}}())})(jQuery);(function(a){a.widget("to.tooltip",a.ui.tooltip,{update:function(){var b=this.element.find(this.options.items).filter(function(){return a(this).data("ui-tooltip-id")});b.length&&(this._updateContent(b),this._updatePosition(b),this._updateArrow(b))},_tooltip:function(b){return this._super(b).addClass("ng-tooltip").append('<div class="tooltip-arrow"></div>')},_open:function(b,c,e){this._super(b,c,e);this._updateArrow(c)},_updatePosition:function(b){if(!this.options.track){var c=this._find(b);c.length&&
c.position(a.extend({of:b},this.options.position))}},_updateArrow:function(b){var c=a(b);b=this._find(b);if(b.length){var e="",d={},f="",g="",h=c.offset(),k=b.offset(),l=c.outerWidth();c=c.outerHeight();var n=b.outerWidth(),v=b.outerHeight();k.top>h.top+c?g="top":k.top+v<h.top?g="bottom":k.left>h.left+l?g="left":k.left+n<h.left&&(g="right");-1<a.inArray(g,["left","right"])&&(f="vertical",d.top=-4);-1<a.inArray(g,["top","bottom"])&&(f="horizontal",d.left=.5*l-22-1);f&&g?(e=" arrow-"+f+" position-"+
g,d.display="block"):d.display="none";for(var q in d)-1!=a.inArray(q,["left","top"])&&(d[q]=Math.round(d[q]+h[q]-k[q])+"px");b.find(".tooltip-arrow").attr("class","tooltip-arrow"+e).css(d)}}})})(jQuery);(function(a){a.widget("to.zgloszenieForm",{options:{autoload:!1,zgloszenie:{}},_hash:null,_create:function(){a.extend(this.options.zgloszenie,this.element.data("zgloszenie")||{})},_init:function(){var b=this._getHash(a.param(this.options));b!=this._hash&&(this.options.autoload?this._loadForm():this._initForm(),this._hash=b)},_loadForm:function(){var b=this;this.element.addClass("element-loading");a.ajax({url:"/zgloszenie,ajax-popup?"+a.param(b.options.zgloszenie),success:function(c){b.element.html(c);
b._initForm();a("body").trigger("zgloszenie.loaded",b.element)},complete:function(){b.element.removeClass("element-loading");b.element.trigger("loaded")}})},_initCountRoomsSection:function(b){""!==b.find("#default_zgloszenie_email").val()&&""!==b.find("#right_zgloszenie_email").val()&&b.find(".liczba_pokoi_section").fadeIn("slow");var c=b.find(".liczba_pokoi_section .zgloszenie_liczba_pokoi").find("input:checkbox");c.each(function(){var e=a(this);e.parent().hasClass("disabled")&&e.prop("disabled",
1);e.prop("checked")&&(b.find(".liczba_pokoi_section").is(":hidden")&&b.find(".liczba_pokoi_section").fadeIn("slow"),e.parent().addClass("checked"))});b.find("#right_zgloszenie_email").keydown(function(){""!==b.find("#right_zgloszenie_email").val()?b.find(".liczba_pokoi_section").fadeIn("slow"):b.find(".liczba_pokoi_section").fadeOut("slow")});b.find("#default_zgloszenie_email").keydown(function(){""!==b.find("#default_zgloszenie_email").val()?b.find(".liczba_pokoi_section").fadeIn("slow"):b.find(".liczba_pokoi_section").fadeOut("slow")});
b.find("#right_zgloszenie_email").on("blur",function(){""!==b.find("#right_zgloszenie_email").val()?b.find(".liczba_pokoi_section").fadeIn("slow"):b.find(".liczba_pokoi_section").fadeOut("slow")});b.find("#default_zgloszenie_email").on("blur",function(){""!==b.find("#default_zgloszenie_email").val()?b.find(".liczba_pokoi_section").fadeIn("slow"):b.find(".liczba_pokoi_section").fadeOut("slow")});b.find(".liczba_pokoi_section .zgloszenie_liczba_pokoi label").on("click",function(){a(this).find("input.checkbox").is(":checked")?
a(this).addClass("checked"):a(this).removeClass("checked")});c=a(".ng-sz-right .telefon-wesprzyj .liczba_pokoi_section .zgloszenie_telefon_liczba_pokoi").find("input:checkbox");c.each(function(){var e=a(this);e.parent().hasClass("disabled")&&e.prop("disabled",1);e.prop("checked")&&(b.find(".liczba_pokoi_section").is(":hidden")&&b.find(".liczba_pokoi_section").fadeIn("slow"),e.parent().addClass("checked"))});a(".ng-sz-right .telefon-wesprzyj .liczba_pokoi_section .zgloszenie_telefon_liczba_pokoi label").on("click",
function(){a(this).find("input.checkbox").is(":checked")?a(this).addClass("checked"):a(this).removeClass("checked")})},_initUwagiDodatkowe:function(b){$dodatkowe=b.find(".zgloszenie_dodatkowe");0<$dodatkowe.length&&($email=b.find('[name="zgloszenie_email"]'),""!==$email.val()&&b.find(".zgloszenie_dodatkowe").show(),$email.on("blur",function(){""!==a(this).val()?b.find(".zgloszenie_dodatkowe").slideDown("fast"):b.find(".zgloszenie_dodatkowe").slideUp("fast")}))},_initForm:function(){var b=this,c=this.element.find("form.zgloszenie_form");
if(c.length){var e=c.find('.element.zgloszenie_kredyt input[type="checkbox"]'),d=c.find(".element.zgloszenie_kredyt_hipoteczny"),f="phone"===window.device?"input":"focus";c.find(".element").first().find("input").on(f,function(){a(this).hasClass("started")||(GA.event("Formularz zg\u0142oszeniowy","Rozpocz\u0119cie wype\u0142niania","Formularz/"+b.options.zgloszenie.zgloszenie_formularz),a(this).addClass("started"))});c.find(".element").find("input[name=zgloszenie_email]").on("keypress",function(){var g=
a(this).val().trim();!a(this).hasClass("wypelnione")&&7<g.length&&(GA.event("Formularz zg\u0142oszeniowy","Wype\u0142nienie pola email","Formularz/"+b.options.zgloszenie.zgloszenie_formularz),a(this).addClass("wypelnione"))});this._initCountRoomsSection(c);this._initUwagiDodatkowe(c);e.length?e.change(function(g,h){a(this).is(":checked")?d.show(void 0===h?"fast":h).promise().done(function(){d.length&&(d.removeClass("hidden"),b.element.trigger("zgloszenie:resize"))}):d.hide(void 0===h?"fast":h).promise().done(function(){d.length&&
b.element.trigger("zgloszenie:resize")})}).trigger("change",[0]):d.length&&d.hide().promise().done(function(){b.element.trigger("zgloszenie:resize")});c.find(".submit").click(function(g){a(this).hasClass("locked")||(g.preventDefault(),c.ajaxSubmit({data:a.extend({},b.options.zgloszenie.zgloszenie_params),beforeSubmit:function(){c.fadeTo(300,.5).find(".submit").addClass("locked").text("CZEKAJ...")},success:function(h){var k={"zgloszenie_liczba_pokoi[]":[]};c.find(".zgloszenie_liczba_pokoi .checked").each(function(){k["zgloszenie_liczba_pokoi[]"].push(a(this).children().attr("value"))});
a(".zgloszenie-chmurka").removeClass("reinit");b.element.html(h);b._initForm();a("body").trigger("zgloszenie.loaded",b.element);""==b.element.find("ul.errors li").text()&&(a("body").hasClass("szczegoly-ng")&&"popup"==b.options.zgloszenie.zgloszenie_prefix&&0<=["mieszkanie","dom"].indexOf(a("meta[name=oferta-typ]").attr("content"))&&(b.data=k,a("body").trigger("zgloszenia-podobne:popup",b),a("body").on({"zgloszenia-podobne:resize":function(){b.element.trigger("zgloszenie:resize-podobne")}})),a("body").hasClass("szczegoly-ng")&&
"popup"!=b.options.zgloszenie.zgloszenie_prefix&&1!=a(".podobne-pokazano").attr("value")&&0<=["mieszkanie","dom"].indexOf(a("meta[name=oferta-typ]").attr("content"))&&(b.data=k,a("body").trigger("zgloszenia-podobne:colorbox",b)));b.element.trigger("zgloszenie:resize")},error:function(){c.fadeTo(300,1).find(".submit").removeClass("locked").text("B\u0141\u0104D!")}}))});c.wiecej();c.find(".element.error input,.element.error textarea").filter(":first").focus();c.siblings(".title").find(".info").totooltip({css:{fontSize:"11px",
lineHeight:"17px",maxWidth:"286px"}});c.find(".error .errors > li").addClass("pulsate");b.element.trigger("zgloszenie:ready",b.options.zgloszenie)}else this.element.find(".ico-close").one({click:function(g){g.stopPropagation();b.element.trigger("zgloszenie:close")}}),this.element.find(".ico-reload").one({click:function(){b._loadForm()}})},_getHash:function(b){for(var c=2166136261,e=0;e<b.length;++e)c^=b.charCodeAt(e),c+=(c<<1)+(c<<4)+(c<<7)+(c<<8)+(c<<24);return("0000000"+(c>>>0).toString(16)).substr(-8)}});
a(function(){a(".zgloszenie-form").zgloszenieForm({autoload:!0})})})(jQuery);(function(a){a.widget("to.zgloszenie",{options:{},_create:function(){var b=this;b.element.on("click",function(c){if(a(this).hasClass("inactive"))return!1;var e=a.extend({},b.element.data("zgloszenie"));c.preventDefault();if(0===e.zgloszenie_typ.lastIndexOf("grupowe",0)){var d=[];a(e.zgloszenie_id).each(function(){d.push(a(this).val())});e.zgloszenie_id=d.join(",")}e.zgloszenie_params&&(e=a.extend(e,e.zgloszenie_params));(c=b.element.data("zgloszenie-target"))?c.zgloszenieForm({autoload:!0,zgloszenie:a.extend({},
c.data("zgloszenie"),e)}):(e.zgloszenie_prefix||(e.zgloszenie_prefix="popup"),a.colorbox({width:480>=screen.width?"100%":"auto",initialWidth:480>=screen.width?"100%":"600",speed:480>=screen.width?0:300,scrolling:480>=screen.height?!0:!1,open:!0,maxHeight:"80%",href:"/zgloszenie,ajax-popup?"+a.param(e),className:"zgloszenie-box-cbox",onComplete:function(){a("#cboxLoadedContent").on({"zgloszenie:resize":function(){a.colorbox.resize()},"zgloszenie:resize-podobne":function(){a.colorbox.resize()},"zgloszenie:close":function(){a.colorbox.close()}});
a("#cboxLoadedContent").zgloszenieForm({zgloszenie:e});var f=a(".zgloszenie-box .klient img.logo");if(0<f.length){var g=new Image;g.onload=function(){a.colorbox.resize()};g.src=f.attr("src")}a("#cboxLoadedContent").trigger("zgloszenie:resize")},onClosed:function(){a("#colorbox").removeClass("podobne-init");GA.event("Formularz zg\u0142oszeniowy","Zamkni\u0119cie zg\u0142oszenia","Formularz/"+e.zgloszenie_formularz)}}))})}});a(function(){a(".zgloszenie-popup").zgloszenie()})})(jQuery);(function(a){a.widget("to.szScroller",{options:{scrollSelector:".boxy__content, .scroller-items",arrowsSelector:".boxy__arrow, .scroller-arrow",prevClass:"prev",nextClass:"next",mouseWheel:0},_create:function(){var b=this;this._wasSlided=!1;this._updateTimeout=null;this._initElements();this._initEvents();this._externalUpdate();this._updateElements();a(window).one("load",function(){b._updateElements()});this.element.addClass("scroller-inited")},_initElements:function(){this.scroll=this.element.find(this.options.scrollSelector);
this.arrows=this.element.find(this.options.arrowsSelector)},_initEvents:function(){this._eventArrows();this._eventWheel();this._eventSlide()},_updateElements:function(){var b=this,c=this.scroll[0];this.arrows.each(function(){var e=a(this).hasClass(b.options.prevClass)?0<c.scrollLeft:c.scrollLeft<c.scrollWidth-c.clientWidth-10;a(this).stop(!0).fadeTo(300,e?1:0)})},_eventArrows:function(){var b=this;this.arrows.on({click:function(){var c=768>screen.width?b.scroll.outerWidth()+34:1025>screen.width?b.scroll.outerWidth()+
15:b.scroll.outerWidth()+30;parseInt(b.scroll.css("marginLeft"));var e=0;if(a(this).hasClass(b.options.prevClass))b.scroll.children().each(function(){0>a(this).position().left&&(e=-c)});else{var d=!1;b.scroll.children().each(function(){var f=a(this),g=f.outerWidth();f=f.position().left;!d&&f+g>c&&(d=!0,e=c)});d||(e=c)}b._scrollBy(e)}})},_eventWheel:function(){var b=this;this.scroll.on({mousewheel:function(c,e){b.options.mouseWheel&&(c.preventDefault(),b._scrollBy(-b.options.mouseWheel*e,!0))}})},
_eventSlide:function(){var b=this,c=null,e=null,d=null,f=[0,0],g=0,h,k=null;this.element.on({touchstart:function(l){h=l.originalEvent.touches[0].clientY;k=l.originalEvent.touches[0].clientX},"touchmove mousemove":function(l){if("touchmove"==l.type&&!(l.originalEvent.changedTouches[0].clientY>h+40||l.originalEvent.changedTouches[0].clientY<h-40)&&(l.originalEvent.changedTouches[0].clientX>k+10||l.originalEvent.changedTouches[0].clientX<k-10)&&null!==c&&null!==e){var n=l;if("touch"===l.type.substr(0,
5))l.preventDefault(),n=l.originalEvent.touches[0]||l.originalEvent.changedTouches[0];else if("desktop"!==device)return;b._scrollTo(e+c-n.screenX,!0)}},"touchend mouseup mouseleave":function(){window.clearInterval(d);null!==c&&null!==e&&(b._wasSlided=null===e?!1:50<Math.abs(b.scroll[0].scrollLeft-e),e=c=null,b._wasSlided&&b._scrollBy(10*(f[1]-f[0])))}});b.scroll.on({click:function(l){b._wasSlided&&l.preventDefault()},"touchstart mousedown":function(l){b.scroll.stop(!0);var n="touch"===l.type.substr(0,
5)?l.originalEvent.touches[0]||l.originalEvent.changedTouches[0]:l;"desktop"===device&&l.preventDefault();b._wasSlided=!1;c=n.screenX;e=this.scrollLeft;g=b.scroll[0].scrollLeft;f=[g,g];d=window.setInterval(function(){g!=b.scroll[0].scrollLeft&&(g=b.scroll[0].scrollLeft,f.push(g),f.shift())},10)}})},_scrollBy:function(b){this._scrollTo(this.scroll[0].scrollLeft+b)},_scrollTo:function(b,c){var e=this,d=Math.min(Math.max(0,b),e.scroll[0].scrollWidth-e.scroll[0].clientWidth);this.scroll.stop(!0,!0);window.clearTimeout(this._updateTimeout);
c?(this.scroll[0].scrollLeft=d,this._updateTimeout=window.setTimeout(function(){e._updateElements()},300)):this.scroll.animate({scrollLeft:d},{easing:"easeOutCubic",duration:Math.min(5*Math.abs(e.scroll[0].scrollLeft-b),600),complete:function(){e._updateElements()}})},_externalUpdate:function(){var b=this;b.element.on("update",function(){b._updateElements()})},showItem:function(b){b=this.scroll.children(":eq("+b+")");0<b.length&&this._scrollBy(b.position().left+(b.outerWidth()/2-this.scroll.width()/
2))},wasSlided:function(){return this._wasSlided}})})(jQuery);(function(a){a.widget("to.indexScroller",a.to.szScroller,{_updateElements:function(){var b=this,c=this.scroll[0];this.arrows.each(function(){1==(a(this).hasClass(b.options.prevClass)?0<c.scrollLeft:c.scrollLeft<c.scrollWidth-c.clientWidth-20)?a(this).addClass("active"):a(this).removeClass("active")})}})})(jQuery);(function(a){a.widget("to.core",a.to.core,function(){var b;return{_create:function(){b=this;this._super();this._initSzukarka();this._initAktualnosci();this._initGoogleEvents();this._initSlider();this._initPopularneListy();b._buttonZadzwon();this._initTabs();"desktop"===device&&this._initObserverTyp();this._initPopupMailingPowiadomienie();a(".special").szScroller();a(".wydarzenia").szScroller();a(".new-add .new__add--content").each(function(c,e){a(e).szScroller()});this._triggerLink(this.element)},
_updateScrollerNewAdd:function(){a(".new-add .new__add--content").trigger("update")},_initTabs:function(){var c=this;a('[data-toggle="tabs"][data-target] .active[data-select-tab]').each(function(){c._showSector(this.parentNode,this)});a('[data-toggle="tabs"][data-target] [data-select-tab]').click(function(){c._showSector(this.parentNode,this);c._updateScrollerNewAdd()})},_showSector:function(c,e){a(c).find("[data-select-tab]").removeClass("active");a(e).addClass("active");a(c.dataset.target).removeClass("active");
a(c.dataset.target).filter('[data-tab="'+e.dataset.selectTab+'"]').addClass("active");a(c).siblings(".boxy__arrow").toggleClass("active")},_initSzukarka:function(){b.element.find(".hero").wyszukiwarka()},_initGoogleEvents:function(){b.element.find("a[data-cpc]").cpc({label:"Box nowo dodane g\u0142\u00f3wna"});b.element.find(".new-add a[data-ga]").click(function(){GA.event("Strona g\u0142\u00f3wna","Box nowo dodane",a(this).data("ga"))});b.element.find(".wydarzenia a[data-ga]").click(function(){var c=
a(this).data("ga");GA.event("Wydarzenia i promocje","Strona g\u0142\u00f3wna",c);a.fn.hit("PROMOCJA",c,"glowna-box-wip")});b.element.find(".special a[data-inwestycja-id]").each(function(){var c=a(this).data("inwestycja-id");a.fn.hit("INWESTYCJA-SPECJALNA-ODSLONA",c)});b.element.find(".special a[data-inwestycja-id]").click(function(c){if(c=a(this).data("inwestycja-id"))a.fn.hit("INWESTYCJA-SPECJALNA-KLIKNIECIE",c),GA.event("Strona g\u0142\u00f3wna","Oferta specjalna","/sponsorowana/Inwestycja_click/"+
c)}).filter("[data-cpc]").cpc({label:"Oferta specjalna g\u0142\u00f3wna"})},_initAktualnosci:function(){b.element.find(".aktualnosci .box-tab").click(function(){var c=a(this);a(".aktualnosci-box").hide();a(".aktualnosci .box-tab").removeClass("active");a("#aktualnosci_"+c.attr("data-tab")).show();c.addClass("active")});a(".aktualnosci .box-tab").first().trigger("click")},_updateOfertyTab:function(c){a(".oferty .box-tab").removeClass("active");c.addClass("active");a(".box-container").hide();a("#"+
c.attr("id")+"_container").show();a("#"+c.attr("id")+"_container .ng-sz-scroller").trigger("update")},_initSlider:function(){var c=a(".szukarka-bg").find(".slider");if(!(2>c.length)){var e=0;setInterval(function(){var d=a(c[e]);e++;e>=c.length&&(e=0);var f=a(c[e]);f.addClass("current");d.removeClass("current");a(c[e]).fadeIn(1E3,function(){d.hide();a(".box-cta").hide();f.next(".box-cta").show()})},6E3)}},_initPopularneListy:function(){b.element.find(".listy .box-tab").click(function(){var c=a(this);
a(".listy-tab").hide();a(".listy .box-tab").removeClass("active");a("#listy_"+c.attr("data-tab")).show();c.addClass("active")});a(".listy .box-tab").first().trigger("click")},_initObserverTyp:function(){var c=[];a.each(a("#ng_sz_typ option"),function(){a(this).is(":selected")?c.push("bordowy"):c.push("szary")});a("#ng_sz_typ").change(function(){var e=a("#ng_sz_typ option:selected").val();a.each(a("#ng_sz_typ option"),function(d){a(this).val()===e?c[d]="bordowy":c[d]="szary"})});a("#ng_sz_typ_div a.chosen-single").click(function(){a.each(a("li.active-result.typ_nieruchomosci"),
function(e){a(this).removeClass("bordowy");a(this).removeClass("szary");a(this).addClass(c[e])})})},_initPopupMailingPowiadomienie:function(){var c=this.element.find(".mailing-powiadomienie-container");if(!c.length)return!1;setTimeout(function(){a.colorbox({html:c.html(),width:360>screen.width?320:352,innerHeight:c.height()+1,speed:480>=screen.width?0:300,scrolling:!1,open:!0,onComplete:function(){GA.event("Mailing dynamiczny","Klikni\u0119cie w powiadomieniu");a(".mailing-powiadomienie").wiecej()}})},
500)},_buttonZadzwon:function(){b.element.find(".offer-price.telefon-ukryty-zaslonka").on("click",function(c){c.stopPropagation();c.preventDefault();a(this).hide();a(this).parent().find(".telefon-numer").removeClass("hidden");a(this).hasClass("zapamietane")?(a.fn.hit("INWESTYCJA-TELEFONY",a(this).data("id")),GA.event("Zapami\u0119tane/Strona G\u0142\u00f3wna","Ods\u0142oni\u0119cie telefonu",a(this).data("ga"))):(a.fn.hit("INWESTYCJA-TELEFONY",a(this).data("id")),GA.event("Strona G\u0142\u00f3wna",
"Ods\u0142oni\u0119cie telefonu",a(this).data("ga")))});b.element.find(".offer-price.telefon-numer").on("click",function(c){c.stopPropagation();c.preventDefault();window.location=a(this).attr("href");a(this).hasClass("zapamietane")?(a.fn.hit("INWESTYCJA-TELEFON",a(this).data("id")),GA.event("Zapami\u0119tane","Klikni\u0119cie telefonu",a(this).data("ga"))):(a.fn.hit("INWESTYCJA-TELEFON",a(this).data("id")),GA.event("Strona G\u0142\u00f3wna","Klikni\u0119cie telefonu",a(this).data("ga")))})},_dontTouch:null}}())})(jQuery);(function(a){a.widget("to.core",a.to.core,function(){var b,c=null,e,d;return{_create:function(){b=this;this._super();this._initZapamietane();this._coreZapamietane();this._resizeDisplay();this._buttonWybraneOferty();this._buttonZadzwonZapamietane()},_initZapamietane:function(){var f=this,g={bar:"collapsed",tab:"zapamietane"};a.extend(g,a.cookie("oferty"));f.element.find("#zapamietane_bar").each(function(){var h=a(this),k=h.find(".bar-switch"),l=h.find(".bar-tabs"),n=h.find(".bar-content");k.click(function(){if(!h.data("locked")){h.data("locked",
!0);if(h.hasClass("bar-expanded")){var p=60;var m=0;var r=300;g.bar="collapsed"}else p=0,m=150,r=200,g.bar="expanded";a.cookie("oferty",g);l.animate({top:"-40px",opacity:0},{duration:r});k.animate({top:p+"px",opacity:0},{duration:r,complete:function(){k.css("top","0px")}});h.delay(r/2);var u=0<m?"show":"hide";h.animate({height:m+"px"},{duration:500,start:function(){h.trigger(u+"-start")},complete:function(){0<m?(h.removeClass("bar-collapsed").addClass("bar-expanded"),k.animate({top:"-16px",opacity:1},
{duration:300}),l.animate({top:"19px",opacity:1},{duration:300}),n.fadeIn(300).find(".oferta-title").ellipsis({lines:2,exact:!0})):(h.removeClass("bar-expanded").addClass("bar-collapsed"),k.animate({top:"-32px",opacity:1},{duration:300}),n.fadeOut(1));h.trigger(u+"-end");h.data("locked",!1)}})}});var v=h.find(".bar-tabs li"),q=h.find(".bar-content .tab-content");if(0<v.length&&q.length)v.on("click touchstart",function(){if(!a(this).hasClass("active")){v.removeClass("active");q.css("display","none");
var p=a(this).addClass("active").attr("id").split("_")[1];g.tab=p;a.cookie("oferty",g);q.each(function(){a(this).attr("id")==="content_"+p&&(a(this).fadeTo(300,1).find(".oferta-title").ellipsis({lines:2,exact:!0}),"desktop"!==window.device&&(null!==c&&c.destroy(),c=new iScroll(a(this).find(".scroll-wrapper").attr("id"),{hScroll:!0,vScroll:!1,hideScrollbar:!0,fadeScrollbar:!0})))})}});var x=h.find(".scroll-wrapper:eq(0)").width();h.find(".scroll-wrapper").each(function(){var p=a(this).width();p>x&&
(x=p)});"desktop"!==device&&(h.find("#ogladane_scroll_wrapper").css({"overflow-x":"scroll","-webkit-overflow-scrolling":"touch"}),h.find("#zapamietane_scroll_wrapper").css({"overflow-x":"scroll","-webkit-overflow-scrolling":"touch"}));h.find(".scroll-area").each(function(){var p=a(this),m=p.closest(".tab-content"),r=m.find(".arrow-prev"),u=m.find(".arrow-next"),w=0,y;p.bind("update-content",function(){w=0;p.children().each(function(){w+=a(this).outerWidth(!0)});p.width(w).trigger("update-position",
0);a("#tab_"+m.attr("id").split("_")[1]+" .tab-count").text("("+p.children().length+")");a(".headerbar span.zapamietane").text(p.children().length)}).bind("update-position",function(t,z){if(x>=w)0==z?p.animate({left:"0px"},150):p.stop().css("left","0px"),r.hide(),u.hide();else{t=p.position().left+z;var A=x-w;0<t?t=0:t<A&&(t=A);0==t?r.hide():r.show();t>A?u.show():u.hide();"desktop"===device&&(0==z?p.animate({left:t+"px"},300):p.stop().css("left",t+"px"))}}).bind("mousewheel",function(t,z){t.preventDefault();
p.trigger("update-position",50*z)}).trigger("update-content");"desktop"===window.device?m.find(".scroll-arrow").hover(function(){var t=a(this).hasClass("arrow-prev")?5:-5;y=window.setInterval(function(){p.trigger("update-position",t)},10)},function(){window.clearInterval(y)}):(p.on("touchmove",function(t,z){a(this).addClass("js-scroll-move");x=p.closest(".scroll-wrapper").width();c.refresh();t=p.position().left;0<=t&&(r.hide(),u.show());0>t&&(r.show(),u.show());Math.abs(t)+x>=w-10&&(r.show(),u.hide())}),
p.on("touchend",function(t){a(this).hasClass("js-scroll-move")&&(t.preventDefault(),a(this).removeClass("js-scroll-move"))}))});h.find(".bar-tabs li#tab_"+g.tab).addClass("active").siblings().removeClass("active");h.find(".bar-content .tab-content#content_"+g.tab).css("display","block").siblings().css("display","none");"desktop"!==window.device&&c&&(c=new iScroll(h.find(".bar-content .tab-content#content_"+g.tab).find(".scroll-wrapper").attr("id"),{hScroll:!0,vScroll:!1,hideScrollbar:!0,fadeScrollbar:!0}));
switch(g.bar){case "collapsed":h.removeClass("bar-expanded").addClass("bar-collapsed");n.fadeOut(1);break;case "expanded":h.removeClass("bar-collapsed").addClass("bar-expanded"),n.find(".oferta-title").ellipsis({lines:2,exact:!0})}h.find("#content_zapamietane .scroll-area").on("click",".box-close",function(){f.forgetOffer(a(this).data("identyfikator"))});h.find(".alert-zapamietane").on("click",function(){a.ajax({url:"/subskrypcja,ajax-zapamietane?disable_oferta="+a("body").find("#zapamietane_bar").data("identyfikator"),
method:"POST",data:f._wyszukiwarka.toserializeObject(),success:function(p){f._loadAlertBoxProperty(p);f._centerBox();f._loadRemember();GA.event("Zapami\u0119tane","Przygotowanie wiadomo\u015bci do wysy\u0142ki")}})});h.find("#content_ogladane .scroll-area").on("click",".box-close",function(){f.forgetOgladane(a(this).data("identyfikator"))});if(!h.data("loaded")&&"phone"!=window.device)if(h.hasClass("bar-expanded"))f._openBarBoxZapamietane();else k.one("click",function(){f._openBarBoxZapamietane()})})},
_openBarBoxZapamietane:function(){var f=this,g=f.element.find("#zapamietane_bar");url=a("body").find("#zapamietane_bar").data("identyfikator")?"/oferty-ng,ajax-zapamietane?from="+g.data("from")+"&disable_oferta="+a("body").find("#zapamietane_bar").data("identyfikator"):"/oferty-ng,ajax-zapamietane?from="+g.data("from");a.ajax({url:url,success:function(h){a(a.trim(h)).find(".bar-content .tab-content").each(function(){var k=g.find("#"+a(this).attr("id")).find(".scroll-area").html(a(this).find(".scroll-area").html());
k.find(".zgloszenie-popup").zgloszenie();k.trigger("update-content").closest(".tab-content").removeClass("loading")});g.find(".bar-tabs li").removeClass("loading").filter(".active").removeClass("active").trigger("click");f._checkEmptyZapamietane(a("#content_zapamietane .scroll-area"));f._checkEmptyZapamietane(a("#content_ogladane .scroll-area"));f._initTooltip();f._buttonZadzwonZapamietane()}})},_buttonZadzwonZapamietane:function(f){f=void 0===f?null:f;f=null!=f?f:b.element;f.find(".offer-price.telefon-ukryty-zaslonka.zapamietane").on("click",
function(g){g.stopPropagation();g.preventDefault();a(this).hide();a(this).parent().find(".telefon-numer").removeClass("hidden");a.fn.hit("INWESTYCJA-TELEFONY",a(this).data("id"));GA.event("Zapami\u0119tane/Lista ofert","Ods\u0142oni\u0119cie telefonu",a(this).data("ga"))});f.find(".offer-price.telefon-numer.zapamietane").on("click",function(g){g.stopPropagation();g.preventDefault();window.location=a(this).attr("href");a.fn.hit("INWESTYCJA-TELEFON",a(this).data("id"));GA.event("Zapami\u0119tane/Lista ofert",
"Klikni\u0119cie telefonu","Inwestycja/inwestycja-"+a(this).data("ga"))})},_loadAlertBoxProperty:function(f){a("#ng_sz_alert_box.zapamietane-alert").css({display:"block",position:"fixed",width:767<screen.width?"400px":"auto","max-width":767<screen.width?"400px":"auto","background-color":" #eeeced",height:"auto"});767<a(window).width()&&a("#ng_sz_alert_box").position({my:"center center",at:"center center",of:a(window)});a("#ng_sz_alert_box.zapamietane-alert").html(f);a("form.subskrypcja").subskrypcja();
a("#ng_sz_naglowek").css("visibility","visible");a("#ng_sz_alert_box.zapamietane-alert").removeClass("success");a(".overlay-alert").show();a(".ng-zapisane-ogloszenia").html('<div class="ng-zapisane-brak">\u0141adowanie...</div>');a(".phone .subskrypcja").before(a(".phone .ng-zapisane-ogloszenia"))},_sizeOfRememberAds:function(){if(a("#ng_sz_alert_box").is(":visible")){var f=a(".ng-zapisane-ogloszenia"),g=f.find(".zapamietane-box").length,h=g*f.find(".zapamietane-box").first().outerHeight();if(767>=
screen.width){var k=a(window).height(),l=a("#ng_sz_subskrypcja_index").outerHeight(!0);var n=a("form.subskrypcja").is(":visible")?a("form.subskrypcja").height():100;var v=k-(l+n)-40;h+l+n<k?0==g?(h=110,b._noOffersInfo()):h+=20:h=v;91>h&&1<=g&&(h=91);f.css({height:h+1,top:l+10})}else 2<g&&5>g||5<=g?(f.removeClass("wiecej-scroll"),f.addClass("wiecej")):f.removeClass("wiecej").removeClass("wiecej-scroll")}},_loadRemember:function(){a.ajax({url:"/oferty-ng,ajax-zapamietane?from=grid&type=zapamietane&disable_oferta="+
a("body").find("#zapamietane_bar").data("identyfikator"),success:function(f){a(".ng-zapisane-ogloszenia").html(f);a("#oferty_alert_box").show();a("body").addClass("alert-box-open");b._sizeOfRememberAds();b._centerBox();b._closeBox();a(".ng-zapisane-ogloszenia .box-close").on("click",function(g){g.stopPropagation();b.forgetOffer(a(this).data("identyfikator"));a(this).parent().parent().hide("slide",function(){a(this).remove();0==a(".ng-zapisane-ogloszenia .zapamietane-box").length&&(b._noOffersInfo(),
window.setTimeout(function(){a(".overlay-alert").click()},"desktop"==window.device?500:2E3))})});a(".ng-zapisane-ogloszenia .zgloszenie-popup.koperta").remove();a("#oferty_alert_box .btn.submit:first").click(function(g){g.stopPropagation();g.preventDefault();a("#ng_sz_alert_box").find(".email").click();GA.event("Zapami\u0119tane","Wys\u0142anie wiadomo\u015bci");a(this).text("Wysy\u0142anie...");b._refreshForm()});a(window).trigger("resize");b._buttonZadzwonZapamietane()}})},rememberOffer:function(f){var g=
this,h=a("#content_zapamietane .scroll-area"),k=a("."+f).find(".heart__img").addClass("element-loading").trigger("zapamietane-status");k.each(function(){var v=a(this);v.data("to-totooltip")&&v.data("totooltip","czekaj...").totooltip("update")});var l=a("#zapamietane_bar"),n=l.find("#tab_zapamietane");n.hasClass("active")||n.click();a.ajax("/oferty-ng,ajax-zapamietaj",{data:{oferta:f,from:l.data("from")},success:function(v){if(v){var q=a(v).prependTo(h);q.find(".oferta-title").ellipsis({lines:2,exact:!0});
q.find(".zgloszenie-popup").zgloszenie();h.trigger("update-content");q.hide().show("slow",function(){h.trigger("update-content");g._checkEmptyZapamietane(h);g._buttonZadzwonZapamietane(q)})}},complete:function(){k.each(function(){var v=a(this);v.removeClass("element-loading").addClass("active").trigger("zapamietane-status");v.data("to-totooltip")&&v.data("totooltip","zapomnij").totooltip("update");l.hasClass("bar-collapsed")&&l.find(".bar-switch").click();g._checkEmptyZapamietane(h)});GA.event("Zapami\u0119tane - serce",
"Zapami\u0119tanie",f);g._buttonWybraneOferty();g._getZapamietaneCount().then(function(v){return a("#user-navbar .icon-favorites, #user-navbar .badge.red.zapamietane").text(v)})}})},forgetOffer:function(f){var g=this,h=a("#content_zapamietane .scroll-area"),k=a("."+f).find(".heart__img").addClass("element-loading").trigger("zapamietane-status");k.each(function(){var l=a(this);l.data("to-totooltip")&&l.data("totooltip","czekaj...").totooltip("update")});h.find("."+f).hide("slow",function(){a(this).remove();
h.trigger("update-content");g._checkEmptyZapamietane(h)});a.ajax("/oferty-ng,ajax-zapomnij",{data:{oferta:f},complete:function(){k.each(function(){var l=a(this);l.removeClass("element-loading").removeClass("active").trigger("zapamietane-status");l.data("to-totooltip")&&l.data("totooltip","zapami\u0119taj").totooltip("update")});GA.event("Zapami\u0119tane - serce","Zapomnienie",f);g._buttonWybraneOferty();g._getZapamietaneCount().then(function(l){return a("#user-navbar .icon-favorites, #user-navbar .badge.red.zapamietane").text(l)})}})},
forgetOgladane:function(f){var g=a("#content_ogladane .scroll-area");g.find("."+f).hide("slow",function(){a(this).remove();g.trigger("update-content");b._checkEmptyZapamietane(g)});a.ajax({url:"/oferty-ng,ajax-usun-ogladana",data:{oferta:f}})},_checkEmptyZapamietane:function(f){0===f.find(".zapamietane-box").length?(f.addClass("empty"),"zapamietane_scroll_wrapper"===f.parent().attr("id")&&(this.element.find(".alert-zapamietane").css({"pointer-events":"none",opacity:"0"}),this.element.find(".alert-zapamietane").addClass("empty"))):
(f.removeClass("empty"),"zapamietane_scroll_wrapper"===f.parent().attr("id")&&(this.element.find(".alert-zapamietane").css({"pointer-events":"all",opacity:"1"}),this.element.find(".alert-zapamietane").removeClass("empty")))},_coreZapamietane:function(){a("#zapamietane_bar").on("addZapamietane",function(){b._checkEmptyZapamietane(a("#content_zapamietane .scroll-area"))});this.element.on("click",".icon-zapamietaj:not(.item-icon), .heart__img",function(f){f.preventDefault();f.stopPropagation();f=a(this);
f.hasClass("element-loading")||(f.hasClass("active")?(a("body").core("forgetOffer",f.data("identyfikator")),f.removeClass("active")):(a("body").core("rememberOffer",f.data("identyfikator")),f.addClass("active")))})},_getZapamietaneCount:function(){return new Promise(function(f){return a.ajax("/oferty-ng,ajax-zapamietane-count",{success:function(g){f(g)}})})},_initTooltip:function(){a("#content_ogladane").tooltip({items:"span.icon-zapamietaj",position:{my:"center-20 bottom-15",at:"center top"},content:function(){return a(this).hasClass("element-loading")?
"Trwa "+(a(this).hasClass("active")?"usuwanie ze schowka...":"dodawanie do schowka..."):a(this).hasClass("active")?"Usu\u0144 ze schowka":"Dodaj do schowka"}}).on("zapamietane-status",function(){a(this).tooltip("update")})},_centerBox:function(){a("#ng_sz_alert_box").css("margin","0px").css("position","fixed");767<a(window).width()&&a("#ng_sz_alert_box").position({my:"top center",at:"top center",of:a(window)})},_refreshForm:function(){function f(){g=a("#ng_sz_alert_box").find(".ogloszenie-przeslane").length;
1==g?(a("#ng_sz_alert_box").find("#przeladuj_zapisane_oferty").fadeIn(200),a("#przeladuj_zapisane_oferty").click(function(){a.ajax({url:"/subskrypcja,ajax-zapamietane?disable_oferta="+a("body").find("#zapamietane_bar").data("identyfikator"),data:b._wyszukiwarka.toserializeObject(),type:"POST",success:function(k){setTimeout(function(){b._loadAlertBoxProperty(k);b._loadRemember()},1E3)}})}),clearTimeout(h)):h=setTimeout(f,500)}var g,h;f()},_closeBox:function(){var f=a(".zapamietane-alert-box");if(f.is(":visible"))a("#ng_sz_close,.overlay-alert").one("click",
function(){f.hide();a("body").removeClass("alert-box-open")})},_noOffersInfo:function(){a(".ng-zapisane-ogloszenia").html('<div class="ng-zapisane-brak">Brak dodanych og\u0142osze\u0144</div>')},_resizeDisplay:function(){a(window).resize(function(){b._sizeOfRememberAds()})},_buttonWybraneOferty:function(){var f=this.element.find(".alert-wybrane-oferty");f.length&&a.ajax("/oferty-ng,ajax-zapamietane-count",{success:function(g){0<parseInt(g)?("undefined"!=typeof e&&0!=e||f.click(function(){"undefined"==
typeof d||0==d?(768>window.innerWidth&&(d=1),e=1,a(".alert-zapamietane:first").trigger("click")):(d=0,a(".zapamietane-alert-box").hide(),a("body").removeClass("alert-box-open"))}),"phone"==window.device&&f.find(".ulubione-count").text(parseInt(g)),f.removeClass("empty"),f.find(".ico-serce").removeClass("empty"),f.find(".ico-serce > div").text(parseInt(g))):(f.hasClass("empty")||f.addClass("empty"),"undefined"==typeof e&&(e=0),f.find(".ico-serce").addClass("empty"),f.find(".ico-serce > div").text(""),
"phone"==window.device&&(f.find(".ulubione-count").text(0),"undefined"!=typeof e&&0!=e||f.click(function(){"undefined"==typeof d||0==d?(e=d=1,a(".alert-zapamietane:first").trigger("click")):(d=0,a(".zapamietane-alert-box").hide(),a("body").removeClass("alert-box-open"))}),f.removeClass("empty")))}})},refreshZapamietaneBar:function(){a("#zapamietane_bar").length&&($zapamietane=a("#zapamietane_bar"),$zapamietane.addClass("ico-loading"),a.ajax({url:"/oferty-ng,ajax-zapamietane",success:function(f){a(a.trim(f)).find(".bar-content .tab-content").each(function(){var g=
$zapamietane.find("#"+a(this).attr("id")).find(".scroll-area").html(a(this).find(".scroll-area").html());g.find(".zgloszenie-popup").zgloszenie();g.trigger("update-content").closest(".tab-content").removeClass("ico-loading")})}}))},_dontTouch:null}}())})(jQuery);(function(a){a.widget("to.core",a.to.core,function(){return{version:"1",options:{},_create:function(){that=this;this._super();this._initZapamietane();this._initTooltip();this._clearOffers();this._buttonZadzwon()},_buttonZadzwon:function(){a(".oferty-ng .offer-price.telefon-ukryty-zaslonka").on("click",function(b){b.stopPropagation();b.preventDefault();b=a(this);b.hide();b.parent().find(".telefon-numer").removeClass("hidden");b.parents(".flats-table").find(".telefon-ukryty-zaslonka").each(function(){a(this).hide();
a(this).parent().find(".telefon-numer").removeClass("hidden")});a.fn.hit("INWESTYCJA-TELEFONY",b.data("id"));GA.event("oferty-cookie","Ods\u0142oni\u0119cie telefonu",b.data("ga"))});a(".oferty-ng .offer-price.telefon-numer").on("click",function(b){b.stopPropagation();b.preventDefault();window.location=a(this).attr("href");a.fn.hit("INWESTYCJA-TELEFON",a(this).data("id"));GA.event("oferty-cookie","Klikni\u0119cie numeru telefonu",a(this).data("ga"))})},_initZapamietane:function(){var b=this;this.element.find(".heart__img, .icon-zapamietaj").on({click:function(){var c=
this,e;return $jscomp.asyncExecutePromiseGeneratorProgram(function(d){if(1==d.nextAddress){e=a(c);if(e.hasClass("element-loading"))return d.jumpTo(0);e.addClass("element-loading");return d.yield(a.ajax(e.hasClass("active")?"/oferty-ng,ajax-zapomnij":"/oferty-ng,ajax-zapamietaj",{data:{oferta:e.data("identyfikator"),render:0},success:function(){e.toggleClass("active")},complete:function(){GA.event("Zapami\u0119tane - serce",e.hasClass("active")?"Zapomnienie":"Zapami\u0119tanie",e.data("identyfikator"));
e.removeClass("element-loading");a(".zapamietane-container").trigger("zapamietane-status")}}),3)}b._getZapamietaneCount().then(function(f){return a("#user-navbar .icon-favorites, #user-navbar .badge.red.zapamietane").text(f)});d.jumpToEnd()})}})},_getZapamietaneCount:function(){return new Promise(function(b){return a.ajax("/oferty-ng,ajax-zapamietane-count",{success:function(c){b(c)}})})},_initTooltip:function(){if(768<screen.width)a(".zapamietane-container").tooltip({items:"span.icon-zapamietaj",
position:{my:"center-20 bottom-15",at:"center top"},content:function(){return a(this).hasClass("element-loading")?"Trwa "+(a(this).hasClass("active")?"usuwanie ze schowka...":"dodawanie do schowka..."):a(this).hasClass("active")?"Usu\u0144 ze schowka":"Dodaj do schowka"}}).on("zapamietane-status",function(){a(this).tooltip("update")})},_clearOffers:function(){a("#clear_offers").click(function(){a.ajax("/oferty-ng,ajax-wyczysc-ogladane",{success:function(){a(".zapamietane-container").replaceWith('<div class="brak-ofert">Brak ofert</div>')}})})}}}())})(jQuery);(function(a){a.widget("to.pokoje",{options:{fromInputName:"pokoje_od",toInputName:"pokoje_do",minValue:1,maxValue:5,activeClass:"active",rangeClass:"range",changeLowerFirst:!1,hideInputs:!0},_create:function(){this.element.toggleClass("widget-pokoje",!0);this.options.hideInputs&&this.element.children().css("display","none");this._initButtons();this._initInputs();this._updateButtons()},_initButtons:function(){this.buttonsContainer=a('<div class="pokoje-buttons"></div>');for(var b=this.options.minValue;b<=
this.options.maxValue;b++)this.buttonsContainer.append('<span class="pokoje-button" data-value="'+b+'">'+b+(b==this.options.maxValue?"+":"")+"</span>");this.buttons=this.buttonsContainer.children();this.element.append(this.buttonsContainer);var c=this;this.buttons.on({click:function(e){e.stopPropagation();c._clickValue(a(this).data("value"))}})},_clickValue:function(b){null===this.fromValue||null===this.toValue?null===this.fromValue&&null===this.toValue&&5!==b?this.toValue=this.fromValue=b:null===
this.fromValue?(this.fromValue=b,this._directionValues()):this._max(b)?5!==this.fromValue?this.toValue=4:this.fromValue=null:b!==this.fromValue?(this._updateValues(b)&&this._handleSameValues(b),this._directionValues()):5>this.fromValue&&this._handleSameValues(b):this._updateValues(b)&&this._handleSameValues(b);this._updateInputs();this._updateButtons()},_directionValues:function(){var b=this.fromValue,c=this.toValue;null!==b&&null!==c&&b>c&&(this._max(b)&&(b=null),this.fromValue=c,this.toValue=b)},
_handleSameValues:function(b){if(this.fromValue===this.toValue)this.fromValue=this.toValue=null;else if(this.fromValue===b||b===this.toValue)this.fromValue===b?this.fromValue+1!==this.toValue?this.fromValue++:this.fromValue=this.toValue:this.toValue-1!==this.fromValue?this.toValue--:this.toValue=this.fromValue},_updateValues:function(b){return b<this.fromValue?(this.fromValue=b,!1):b>this.toValue&&!this._max(b)?(this.toValue=b,!1):this._max(b)?(this.toValue=null,!1):!0},_max:function(b){return 5===
b?!0:!1},_initInputs:function(){this.fromInput=this.element.find(':input[name="'+this.options.fromInputName+'"]');this.toInput=this.element.find(':input[name="'+this.options.toInputName+'"]');var b=this;this.fromInput.on({"init change":function(){b.fromValue=b._parseValue(b.fromInput);b._updateButtons()}}).trigger("init");this.toInput.on({"init change":function(){b.toValue=b._parseValue(b.toInput);b._updateButtons()}}).trigger("init")},_updateInputs:function(){this.fromValue!=this._parseValue(this.fromInput)&&
this.fromInput.val(this.fromValue).trigger("change");this.toValue!=this._parseValue(this.toInput)&&this.toInput.val(this.toValue).trigger("change")},_updateButtons:function(){var b=this;this.buttons.each(function(){var c=a(this),e=c.data("value");c.removeClass(b.options.activeClass).removeClass(b.options.rangeClass);b.fromValue&&(b.toValue?(e>b.fromValue&&e<b.toValue&&c.addClass(b.options.rangeClass),e!=b.fromValue&&e!=b.toValue||c.addClass(b.options.activeClass)):e>=b.fromValue&&null==this.toValue&&
c.addClass(b.options.activeClass))})},_parseValue:function(b){var c=b.val();if(c==b.attr("placeholder"))return null;b=parseInt(c);return isNaN(b)?null:Math.max(this.options.minValue,Math.min(this.options.maxValue,b))}})})(jQuery);